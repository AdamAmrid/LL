function $_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function q_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H_={exports:{}},ju={},W_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),ST=Symbol.for("react.portal"),kT=Symbol.for("react.fragment"),NT=Symbol.for("react.strict_mode"),bT=Symbol.for("react.profiler"),AT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),CT=Symbol.for("react.forward_ref"),PT=Symbol.for("react.suspense"),jT=Symbol.for("react.memo"),DT=Symbol.for("react.lazy"),Cg=Symbol.iterator;function LT(t){return t===null||typeof t!="object"?null:(t=Cg&&t[Cg]||t["@@iterator"],typeof t=="function"?t:null)}var G_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K_=Object.assign,Q_={};function ko(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||G_}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y_(){}Y_.prototype=ko.prototype;function nm(t,e,n){this.props=t,this.context=e,this.refs=Q_,this.updater=n||G_}var rm=nm.prototype=new Y_;rm.constructor=nm;K_(rm,ko.prototype);rm.isPureReactComponent=!0;var Pg=Array.isArray,X_=Object.prototype.hasOwnProperty,sm={current:null},J_={key:!0,ref:!0,__self:!0,__source:!0};function Z_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)X_.call(e,r)&&!J_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hl,type:t,key:i,ref:o,props:s,_owner:sm.current}}function MT(t,e){return{$$typeof:hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function im(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl}function VT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jg=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VT(""+t.key):e.toString(36)}function gc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hl:case ST:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vd(o,0):r,Pg(s)?(n="",t!=null&&(n=t.replace(jg,"$&/")+"/"),gc(s,e,n,"",function(d){return d})):s!=null&&(im(s)&&(s=MT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Pg(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Vd(i,l);o+=gc(i,e,n,c,s)}else if(c=LT(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Vd(i,l++),o+=gc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wl(t,e,n){if(t==null)return t;var r=[],s=0;return gc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function OT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},yc={transition:null},UT={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:sm};function e0(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Wl,forEach:function(t,e,n){Wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wl(t,function(){e++}),e},toArray:function(t){return Wl(t,function(e){return e})||[]},only:function(t){if(!im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ko;me.Fragment=kT;me.Profiler=bT;me.PureComponent=nm;me.StrictMode=NT;me.Suspense=PT;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;me.act=e0;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)X_.call(e,c)&&!J_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:hl,type:t.type,key:s,ref:i,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:RT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AT,_context:t},t.Consumer=t};me.createElement=Z_;me.createFactory=function(t){var e=Z_.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:CT,render:t}};me.isValidElement=im;me.lazy=function(t){return{$$typeof:DT,_payload:{_status:-1,_result:t},_init:OT}};me.memo=function(t,e){return{$$typeof:jT,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};me.unstable_act=e0;me.useCallback=function(t,e){return Bt.current.useCallback(t,e)};me.useContext=function(t){return Bt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Bt.current.useEffect(t,e)};me.useId=function(){return Bt.current.useId()};me.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Bt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};me.useRef=function(t){return Bt.current.useRef(t)};me.useState=function(t){return Bt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Bt.current.useTransition()};me.version="18.3.1";W_.exports=me;var L=W_.exports;const t0=q_(L),FT=$_({__proto__:null,default:t0},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=L,BT=Symbol.for("react.element"),$T=Symbol.for("react.fragment"),qT=Object.prototype.hasOwnProperty,HT=zT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WT={key:!0,ref:!0,__self:!0,__source:!0};function n0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qT.call(e,r)&&!WT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:BT,type:t,key:i,ref:o,props:s,_owner:HT.current}}ju.Fragment=$T;ju.jsx=n0;ju.jsxs=n0;H_.exports=ju;var u=H_.exports,r0={exports:{}},dn={},s0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ie){var le=H.length;H.push(ie);e:for(;0<le;){var Ie=le-1>>>1,Se=H[Ie];if(0<s(Se,ie))H[Ie]=ie,H[le]=Se,le=Ie;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ie=H[0],le=H.pop();if(le!==ie){H[0]=le;e:for(var Ie=0,Se=H.length,qt=Se>>>1;Ie<qt;){var gt=2*(Ie+1)-1,lt=H[gt],ct=gt+1,Rt=H[ct];if(0>s(lt,le))ct<Se&&0>s(Rt,lt)?(H[Ie]=Rt,H[ct]=le,Ie=ct):(H[Ie]=lt,H[gt]=le,Ie=gt);else if(ct<Se&&0>s(Rt,le))H[Ie]=Rt,H[ct]=le,Ie=ct;else break e}}return ie}function s(H,ie){var le=H.sortIndex-ie.sortIndex;return le!==0?le:H.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,g=3,x=!1,b=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=H)r(d),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(d)}}function M(H){if(k=!1,N(H),!b)if(n(c)!==null)b=!0,$n(z);else{var ie=n(d);ie!==null&&qn(M,ie.startTime-H)}}function z(H,ie){b=!1,k&&(k=!1,E(v),v=-1),x=!0;var le=g;try{for(N(ie),m=n(c);m!==null&&(!(m.expirationTime>ie)||H&&!A());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,g=m.priorityLevel;var Se=Ie(m.expirationTime<=ie);ie=t.unstable_now(),typeof Se=="function"?m.callback=Se:m===n(c)&&r(c),N(ie)}else r(c);m=n(c)}if(m!==null)var qt=!0;else{var gt=n(d);gt!==null&&qn(M,gt.startTime-ie),qt=!1}return qt}finally{m=null,g=le,x=!1}}var q=!1,y=null,v=-1,T=5,I=-1;function A(){return!(t.unstable_now()-I<T)}function P(){if(y!==null){var H=t.unstable_now();I=H;var ie=!0;try{ie=y(!0,H)}finally{ie?S():(q=!1,y=null)}}else q=!1}var S;if(typeof _=="function")S=function(){_(P)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,at=Te.port2;Te.port1.onmessage=P,S=function(){at.postMessage(null)}}else S=function(){C(P,0)};function $n(H){y=H,q||(q=!0,S())}function qn(H,ie){v=C(function(){H(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,$n(z))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var le=g;g=ie;try{return H()}finally{g=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=g;g=H;try{return ie()}finally{g=le}},t.unstable_scheduleCallback=function(H,ie,le){var Ie=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ie+le:Ie):le=Ie,H){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=le+Se,H={id:f++,callback:ie,priorityLevel:H,startTime:le,expirationTime:Se,sortIndex:-1},le>Ie?(H.sortIndex=le,e(d,H),n(c)===null&&H===n(d)&&(k?(E(v),v=-1):k=!0,qn(M,le-Ie))):(H.sortIndex=Se,e(c,H),b||x||(b=!0,$n(z))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var ie=g;return function(){var le=g;g=ie;try{return H.apply(this,arguments)}finally{g=le}}}})(i0);s0.exports=i0;var GT=s0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=L,un=GT;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o0=new Set,La={};function vi(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(La[t]=e,t=0;t<e.length;t++)o0.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,QT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},Lg={};function YT(t){return kh.call(Lg,t)?!0:kh.call(Dg,t)?!1:QT.test(t)?Lg[t]=!0:(Dg[t]=!0,!1)}function XT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JT(t,e,n,r){if(e===null||typeof e>"u"||XT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var om=/[\-:]([a-z])/g;function am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(om,am);bt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(om,am);bt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(om,am);bt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function lm(t,e,n,r){var s=bt.hasOwnProperty(e)?bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JT(e,n,s,r)&&(n=null),r||s===null?YT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dr=KT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),cm=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),a0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),dm=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),c0=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=Mg&&t[Mg]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Od;function la(t){if(Od===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Od=e&&e[1]||""}return`
`+Od+t}var Ud=!1;function Fd(t,e){if(!t||Ud)return"";Ud=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ud=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function ZT(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=Fd(t.type,!1),t;case 11:return t=Fd(t.type.render,!1),t;case 1:return t=Fd(t.type,!0),t;default:return""}}function Rh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case Oi:return"Portal";case Nh:return"Profiler";case cm:return"StrictMode";case bh:return"Suspense";case Ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l0:return(t.displayName||"Context")+".Consumer";case a0:return(t._context.displayName||"Context")+".Provider";case um:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dm:return e=t.displayName||null,e!==null?e:Rh(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return Rh(t(e))}catch{}}return null}function eI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rh(e);case 8:return e===cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tI(t){var e=u0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kl(t){t._valueTracker||(t._valueTracker=tI(t))}function d0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=u0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ch(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h0(t,e){e=e.checked,e!=null&&lm(t,"checked",e,!1)}function Ph(t,e){h0(t,e);var n=xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jh(t,e.type,n):e.hasOwnProperty("defaultValue")&&jh(t,e.type,xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Og(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jh(t,e,n){(e!=="number"||Uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ug(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(ca(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xs(n)}}function f0(t,e){var n=xs(e.value),r=xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,p0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nI=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(t){nI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_a[e]=_a[t]})});function g0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_a.hasOwnProperty(t)&&_a[t]?(""+e).trim():e+"px"}function y0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=g0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rI=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mh(t,e){if(e){if(rI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=null;function hm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uh=null,Ji=null,Zi=null;function zg(t){if(t=pl(t)){if(typeof Uh!="function")throw Error($(280));var e=t.stateNode;e&&(e=Ou(e),Uh(t.stateNode,t.type,e))}}function v0(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function _0(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,zg(t),e)for(t=0;t<e.length;t++)zg(e[t])}}function w0(t,e){return t(e)}function x0(){}var zd=!1;function E0(t,e,n){if(zd)return t(e,n);zd=!0;try{return w0(t,e,n)}finally{zd=!1,(Ji!==null||Zi!==null)&&(x0(),_0())}}function Va(t,e){var n=t.stateNode;if(n===null)return null;var r=Ou(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Fh=!1;if(Sr)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Fh=!1}function sI(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var wa=!1,Fc=null,zc=!1,zh=null,iI={onError:function(t){wa=!0,Fc=t}};function oI(t,e,n,r,s,i,o,l,c){wa=!1,Fc=null,sI.apply(iI,arguments)}function aI(t,e,n,r,s,i,o,l,c){if(oI.apply(this,arguments),wa){if(wa){var d=Fc;wa=!1,Fc=null}else throw Error($(198));zc||(zc=!0,zh=d)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bg(t){if(_i(t)!==t)throw Error($(188))}function lI(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bg(s),t;if(i===r)return Bg(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function I0(t){return t=lI(t),t!==null?S0(t):null}function S0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=S0(t);if(e!==null)return e;t=t.sibling}return null}var k0=un.unstable_scheduleCallback,$g=un.unstable_cancelCallback,cI=un.unstable_shouldYield,uI=un.unstable_requestPaint,Je=un.unstable_now,dI=un.unstable_getCurrentPriorityLevel,fm=un.unstable_ImmediatePriority,N0=un.unstable_UserBlockingPriority,Bc=un.unstable_NormalPriority,hI=un.unstable_LowPriority,b0=un.unstable_IdlePriority,Du=null,er=null;function fI(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Du,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:gI,mI=Math.log,pI=Math.LN2;function gI(t){return t>>>=0,t===0?32:31-(mI(t)/pI|0)|0}var Yl=64,Xl=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $c(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ua(l):(i&=o,i!==0&&(r=ua(i)))}else o=n&~s,o!==0?r=ua(o):i!==0&&(r=ua(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),s=1<<n,r|=t[n],e&=~s;return r}function yI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Mn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=yI(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Bh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A0(){var t=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),t}function Bd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function _I(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Mn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function R0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C0,pm,P0,j0,D0,$h=!1,Jl=[],ls=null,cs=null,us=null,Oa=new Map,Ua=new Map,Jr=[],wI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qg(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(e.pointerId)}}function Jo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pl(e),e!==null&&pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xI(t,e,n,r,s){switch(e){case"focusin":return ls=Jo(ls,t,e,n,r,s),!0;case"dragenter":return cs=Jo(cs,t,e,n,r,s),!0;case"mouseover":return us=Jo(us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Oa.set(i,Jo(Oa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ua.set(i,Jo(Ua.get(i)||null,t,e,n,r,s)),!0}return!1}function L0(t){var e=Xs(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=T0(n),e!==null){t.blockedOn=e,D0(t.priority,function(){P0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oh=r,n.target.dispatchEvent(r),Oh=null}else return e=pl(n),e!==null&&pm(e),t.blockedOn=n,!1;e.shift()}return!0}function Hg(t,e,n){vc(t)&&n.delete(e)}function EI(){$h=!1,ls!==null&&vc(ls)&&(ls=null),cs!==null&&vc(cs)&&(cs=null),us!==null&&vc(us)&&(us=null),Oa.forEach(Hg),Ua.forEach(Hg)}function Zo(t,e){t.blockedOn===e&&(t.blockedOn=null,$h||($h=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,EI)))}function Fa(t){function e(s){return Zo(s,t)}if(0<Jl.length){Zo(Jl[0],t);for(var n=1;n<Jl.length;n++){var r=Jl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&Zo(ls,t),cs!==null&&Zo(cs,t),us!==null&&Zo(us,t),Oa.forEach(e),Ua.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)L0(n),n.blockedOn===null&&Jr.shift()}var eo=Dr.ReactCurrentBatchConfig,qc=!0;function TI(t,e,n,r){var s=be,i=eo.transition;eo.transition=null;try{be=1,gm(t,e,n,r)}finally{be=s,eo.transition=i}}function II(t,e,n,r){var s=be,i=eo.transition;eo.transition=null;try{be=4,gm(t,e,n,r)}finally{be=s,eo.transition=i}}function gm(t,e,n,r){if(qc){var s=qh(t,e,n,r);if(s===null)Jd(t,e,r,Hc,n),qg(t,r);else if(xI(s,t,e,n,r))r.stopPropagation();else if(qg(t,r),e&4&&-1<wI.indexOf(t)){for(;s!==null;){var i=pl(s);if(i!==null&&C0(i),i=qh(t,e,n,r),i===null&&Jd(t,e,r,Hc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jd(t,e,r,null,n)}}var Hc=null;function qh(t,e,n,r){if(Hc=null,t=hm(r),t=Xs(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hc=t,null}function M0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dI()){case fm:return 1;case N0:return 4;case Bc:case hI:return 16;case b0:return 536870912;default:return 16}default:return 16}}var ss=null,ym=null,_c=null;function V0(){if(_c)return _c;var t,e=ym,n=e.length,r,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _c=s.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zl(){return!0}function Wg(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zl:Wg,this.isPropagationStopped=Wg,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vm=hn(No),ml=qe({},No,{view:0,detail:0}),SI=hn(ml),$d,qd,ea,Lu=qe({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_m,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?($d=t.screenX-ea.screenX,qd=t.screenY-ea.screenY):qd=$d=0,ea=t),$d)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),Gg=hn(Lu),kI=qe({},Lu,{dataTransfer:0}),NI=hn(kI),bI=qe({},ml,{relatedTarget:0}),Hd=hn(bI),AI=qe({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),RI=hn(AI),CI=qe({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PI=hn(CI),jI=qe({},No,{data:0}),Kg=hn(jI),DI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MI[t])?!!e[t]:!1}function _m(){return VI}var OI=qe({},ml,{key:function(t){if(t.key){var e=DI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_m,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UI=hn(OI),FI=qe({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=hn(FI),zI=qe({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_m}),BI=hn(zI),$I=qe({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),qI=hn($I),HI=qe({},Lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WI=hn(HI),GI=[9,13,27,32],wm=Sr&&"CompositionEvent"in window,xa=null;Sr&&"documentMode"in document&&(xa=document.documentMode);var KI=Sr&&"TextEvent"in window&&!xa,O0=Sr&&(!wm||xa&&8<xa&&11>=xa),Yg=" ",Xg=!1;function U0(t,e){switch(t){case"keyup":return GI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function QI(t,e){switch(t){case"compositionend":return F0(e);case"keypress":return e.which!==32?null:(Xg=!0,Yg);case"textInput":return t=e.data,t===Yg&&Xg?null:t;default:return null}}function YI(t,e){if(Fi)return t==="compositionend"||!wm&&U0(t,e)?(t=V0(),_c=ym=ss=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O0&&e.locale!=="ko"?null:e.data;default:return null}}var XI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XI[t.type]:e==="textarea"}function z0(t,e,n,r){v0(r),e=Wc(e,"onChange"),0<e.length&&(n=new vm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ea=null,za=null;function JI(t){J0(t,0)}function Mu(t){var e=$i(t);if(d0(e))return t}function ZI(t,e){if(t==="change")return e}var B0=!1;if(Sr){var Wd;if(Sr){var Gd="oninput"in document;if(!Gd){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Gd=typeof Zg.oninput=="function"}Wd=Gd}else Wd=!1;B0=Wd&&(!document.documentMode||9<document.documentMode)}function ey(){Ea&&(Ea.detachEvent("onpropertychange",$0),za=Ea=null)}function $0(t){if(t.propertyName==="value"&&Mu(za)){var e=[];z0(e,za,t,hm(t)),E0(JI,e)}}function eS(t,e,n){t==="focusin"?(ey(),Ea=e,za=n,Ea.attachEvent("onpropertychange",$0)):t==="focusout"&&ey()}function tS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(za)}function nS(t,e){if(t==="click")return Mu(e)}function rS(t,e){if(t==="input"||t==="change")return Mu(e)}function sS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:sS;function Ba(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kh.call(e,s)||!On(t[s],e[s]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,e){var n=ty(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ty(n)}}function q0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H0(){for(var t=window,e=Uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uc(t.document)}return e}function xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iS(t){var e=H0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&q0(n.ownerDocument.documentElement,n)){if(r!==null&&xm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ny(n,i);var o=ny(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oS=Sr&&"documentMode"in document&&11>=document.documentMode,zi=null,Hh=null,Ta=null,Wh=!1;function ry(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wh||zi==null||zi!==Uc(r)||(r=zi,"selectionStart"in r&&xm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ta&&Ba(Ta,r)||(Ta=r,r=Wc(Hh,"onSelect"),0<r.length&&(e=new vm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zi)))}function ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Kd={},W0={};Sr&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Vu(t){if(Kd[t])return Kd[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in W0)return Kd[t]=e[n];return t}var G0=Vu("animationend"),K0=Vu("animationiteration"),Q0=Vu("animationstart"),Y0=Vu("transitionend"),X0=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(t,e){X0.set(t,e),vi(e,[t])}for(var Qd=0;Qd<sy.length;Qd++){var Yd=sy[Qd],aS=Yd.toLowerCase(),lS=Yd[0].toUpperCase()+Yd.slice(1);Rs(aS,"on"+lS)}Rs(G0,"onAnimationEnd");Rs(K0,"onAnimationIteration");Rs(Q0,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(Y0,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function iy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aI(r,e,void 0,t),t.currentTarget=null}function J0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;iy(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;iy(s,l,d),i=c}}}if(zc)throw t=zh,zc=!1,zh=null,t}function Ve(t,e){var n=e[Xh];n===void 0&&(n=e[Xh]=new Set);var r=t+"__bubble";n.has(r)||(Z0(e,t,2,!1),n.add(r))}function Xd(t,e,n){var r=0;e&&(r|=4),Z0(n,t,r,e)}var tc="_reactListening"+Math.random().toString(36).slice(2);function $a(t){if(!t[tc]){t[tc]=!0,o0.forEach(function(n){n!=="selectionchange"&&(cS.has(n)||Xd(n,!1,t),Xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tc]||(e[tc]=!0,Xd("selectionchange",!1,e))}}function Z0(t,e,n,r){switch(M0(e)){case 1:var s=TI;break;case 4:s=II;break;default:s=gm}n=s.bind(null,e,n,t),s=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Xs(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}E0(function(){var d=i,f=hm(n),m=[];e:{var g=X0.get(t);if(g!==void 0){var x=vm,b=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":x=UI;break;case"focusin":b="focus",x=Hd;break;case"focusout":b="blur",x=Hd;break;case"beforeblur":case"afterblur":x=Hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=NI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=BI;break;case G0:case K0:case Q0:x=RI;break;case Y0:x=qI;break;case"scroll":x=SI;break;case"wheel":x=WI;break;case"copy":case"cut":case"paste":x=PI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Qg}var k=(e&4)!==0,C=!k&&t==="scroll",E=k?g!==null?g+"Capture":null:g;k=[];for(var _=d,N;_!==null;){N=_;var M=N.stateNode;if(N.tag===5&&M!==null&&(N=M,E!==null&&(M=Va(_,E),M!=null&&k.push(qa(_,M,N)))),C)break;_=_.return}0<k.length&&(g=new x(g,b,null,n,f),m.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Oh&&(b=n.relatedTarget||n.fromElement)&&(Xs(b)||b[kr]))break e;if((x||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=d,b=b?Xs(b):null,b!==null&&(C=_i(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(k=Gg,M="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(k=Qg,M="onPointerLeave",E="onPointerEnter",_="pointer"),C=x==null?g:$i(x),N=b==null?g:$i(b),g=new k(M,_+"leave",x,n,f),g.target=C,g.relatedTarget=N,M=null,Xs(f)===d&&(k=new k(E,_+"enter",b,n,f),k.target=N,k.relatedTarget=C,M=k),C=M,x&&b)t:{for(k=x,E=b,_=0,N=k;N;N=Pi(N))_++;for(N=0,M=E;M;M=Pi(M))N++;for(;0<_-N;)k=Pi(k),_--;for(;0<N-_;)E=Pi(E),N--;for(;_--;){if(k===E||E!==null&&k===E.alternate)break t;k=Pi(k),E=Pi(E)}k=null}else k=null;x!==null&&oy(m,g,x,k,!1),b!==null&&C!==null&&oy(m,C,b,k,!0)}}e:{if(g=d?$i(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var z=ZI;else if(Jg(g))if(B0)z=rS;else{z=tS;var q=eS}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=nS);if(z&&(z=z(t,d))){z0(m,z,n,f);break e}q&&q(t,g,d),t==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&jh(g,"number",g.value)}switch(q=d?$i(d):window,t){case"focusin":(Jg(q)||q.contentEditable==="true")&&(zi=q,Hh=d,Ta=null);break;case"focusout":Ta=Hh=zi=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,ry(m,n,f);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":ry(m,n,f)}var y;if(wm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Fi?U0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(O0&&n.locale!=="ko"&&(Fi||v!=="onCompositionStart"?v==="onCompositionEnd"&&Fi&&(y=V0()):(ss=f,ym="value"in ss?ss.value:ss.textContent,Fi=!0)),q=Wc(d,v),0<q.length&&(v=new Kg(v,t,null,n,f),m.push({event:v,listeners:q}),y?v.data=y:(y=F0(n),y!==null&&(v.data=y)))),(y=KI?QI(t,n):YI(t,n))&&(d=Wc(d,"onBeforeInput"),0<d.length&&(f=new Kg("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=y))}J0(m,e)})}function qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Va(t,n),i!=null&&r.unshift(qa(t,i,s)),i=Va(t,e),i!=null&&r.push(qa(t,i,s))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Va(n,i),c!=null&&o.unshift(qa(n,c,l))):s||(c=Va(n,i),c!=null&&o.push(qa(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function ay(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(dS,"")}function nc(t,e,n){if(e=ay(e),ay(t)!==e&&n)throw Error($(425))}function Gc(){}var Gh=null,Kh=null;function Qh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(mS)}:Yh;function mS(t){setTimeout(function(){throw t})}function Zd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fa(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Zn="__reactFiber$"+bo,Ha="__reactProps$"+bo,kr="__reactContainer$"+bo,Xh="__reactEvents$"+bo,pS="__reactListeners$"+bo,gS="__reactHandles$"+bo;function Xs(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cy(t);t!==null;){if(n=t[Zn])return n;t=cy(t)}return e}t=n,n=t.parentNode}return null}function pl(t){return t=t[Zn]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Ou(t){return t[Ha]||null}var Jh=[],qi=-1;function Cs(t){return{current:t}}function Ue(t){0>qi||(t.current=Jh[qi],Jh[qi]=null,qi--)}function je(t,e){qi++,Jh[qi]=t.current,t.current=e}var Es={},Vt=Cs(Es),Jt=Cs(!1),oi=Es;function co(t,e){var n=t.type.contextTypes;if(!n)return Es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zt(t){return t=t.childContextTypes,t!=null}function Kc(){Ue(Jt),Ue(Vt)}function uy(t,e,n){if(Vt.current!==Es)throw Error($(168));je(Vt,e),je(Jt,n)}function ew(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,eI(t)||"Unknown",s));return qe({},n,r)}function Qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Es,oi=Vt.current,je(Vt,t),je(Jt,Jt.current),!0}function dy(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=ew(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,Ue(Jt),Ue(Vt),je(Vt,t)):Ue(Jt),je(Jt,n)}var pr=null,Uu=!1,eh=!1;function tw(t){pr===null?pr=[t]:pr.push(t)}function yS(t){Uu=!0,tw(t)}function Ps(){if(!eh&&pr!==null){eh=!0;var t=0,e=be;try{var n=pr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pr=null,Uu=!1}catch(s){throw pr!==null&&(pr=pr.slice(t+1)),k0(fm,Ps),s}finally{be=e,eh=!1}}return null}var Hi=[],Wi=0,Yc=null,Xc=0,mn=[],pn=0,ai=null,gr=1,yr="";function Ws(t,e){Hi[Wi++]=Xc,Hi[Wi++]=Yc,Yc=t,Xc=e}function nw(t,e,n){mn[pn++]=gr,mn[pn++]=yr,mn[pn++]=ai,ai=t;var r=gr;t=yr;var s=32-Mn(r)-1;r&=~(1<<s),n+=1;var i=32-Mn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gr=1<<32-Mn(e)+s|n<<s|r,yr=i+t}else gr=1<<i|n<<s|r,yr=t}function Em(t){t.return!==null&&(Ws(t,1),nw(t,1,0))}function Tm(t){for(;t===Yc;)Yc=Hi[--Wi],Hi[Wi]=null,Xc=Hi[--Wi],Hi[Wi]=null;for(;t===ai;)ai=mn[--pn],mn[pn]=null,yr=mn[--pn],mn[pn]=null,gr=mn[--pn],mn[pn]=null}var cn=null,an=null,ze=!1,Dn=null;function rw(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,an=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ai!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,an=null,!0):!1;default:return!1}}function Zh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ef(t){if(ze){var e=an;if(e){var n=e;if(!hy(t,e)){if(Zh(t))throw Error($(418));e=ds(n.nextSibling);var r=cn;e&&hy(t,e)?rw(r,n):(t.flags=t.flags&-4097|2,ze=!1,cn=t)}}else{if(Zh(t))throw Error($(418));t.flags=t.flags&-4097|2,ze=!1,cn=t}}}function fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function rc(t){if(t!==cn)return!1;if(!ze)return fy(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qh(t.type,t.memoizedProps)),e&&(e=an)){if(Zh(t))throw sw(),Error($(418));for(;e;)rw(t,e),e=ds(e.nextSibling)}if(fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=cn?ds(t.stateNode.nextSibling):null;return!0}function sw(){for(var t=an;t;)t=ds(t.nextSibling)}function uo(){an=cn=null,ze=!1}function Im(t){Dn===null?Dn=[t]:Dn.push(t)}var vS=Dr.ReactCurrentBatchConfig;function ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function sc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function my(t){var e=t._init;return e(t._payload)}function iw(t){function e(E,_){if(t){var N=E.deletions;N===null?(E.deletions=[_],E.flags|=16):N.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=ps(E,_),E.index=0,E.sibling=null,E}function i(E,_,N){return E.index=N,t?(N=E.alternate,N!==null?(N=N.index,N<_?(E.flags|=2,_):N):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,_,N,M){return _===null||_.tag!==6?(_=ah(N,E.mode,M),_.return=E,_):(_=s(_,N),_.return=E,_)}function c(E,_,N,M){var z=N.type;return z===Ui?f(E,_,N.props.children,M,N.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Yr&&my(z)===_.type)?(M=s(_,N.props),M.ref=ta(E,_,N),M.return=E,M):(M=Nc(N.type,N.key,N.props,null,E.mode,M),M.ref=ta(E,_,N),M.return=E,M)}function d(E,_,N,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=lh(N,E.mode,M),_.return=E,_):(_=s(_,N.children||[]),_.return=E,_)}function f(E,_,N,M,z){return _===null||_.tag!==7?(_=ri(N,E.mode,M,z),_.return=E,_):(_=s(_,N),_.return=E,_)}function m(E,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ah(""+_,E.mode,N),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gl:return N=Nc(_.type,_.key,_.props,null,E.mode,N),N.ref=ta(E,null,_),N.return=E,N;case Oi:return _=lh(_,E.mode,N),_.return=E,_;case Yr:var M=_._init;return m(E,M(_._payload),N)}if(ca(_)||Yo(_))return _=ri(_,E.mode,N,null),_.return=E,_;sc(E,_)}return null}function g(E,_,N,M){var z=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return z!==null?null:l(E,_,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gl:return N.key===z?c(E,_,N,M):null;case Oi:return N.key===z?d(E,_,N,M):null;case Yr:return z=N._init,g(E,_,z(N._payload),M)}if(ca(N)||Yo(N))return z!==null?null:f(E,_,N,M,null);sc(E,N)}return null}function x(E,_,N,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(N)||null,l(_,E,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Gl:return E=E.get(M.key===null?N:M.key)||null,c(_,E,M,z);case Oi:return E=E.get(M.key===null?N:M.key)||null,d(_,E,M,z);case Yr:var q=M._init;return x(E,_,N,q(M._payload),z)}if(ca(M)||Yo(M))return E=E.get(N)||null,f(_,E,M,z,null);sc(_,M)}return null}function b(E,_,N,M){for(var z=null,q=null,y=_,v=_=0,T=null;y!==null&&v<N.length;v++){y.index>v?(T=y,y=null):T=y.sibling;var I=g(E,y,N[v],M);if(I===null){y===null&&(y=T);break}t&&y&&I.alternate===null&&e(E,y),_=i(I,_,v),q===null?z=I:q.sibling=I,q=I,y=T}if(v===N.length)return n(E,y),ze&&Ws(E,v),z;if(y===null){for(;v<N.length;v++)y=m(E,N[v],M),y!==null&&(_=i(y,_,v),q===null?z=y:q.sibling=y,q=y);return ze&&Ws(E,v),z}for(y=r(E,y);v<N.length;v++)T=x(y,E,v,N[v],M),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?v:T.key),_=i(T,_,v),q===null?z=T:q.sibling=T,q=T);return t&&y.forEach(function(A){return e(E,A)}),ze&&Ws(E,v),z}function k(E,_,N,M){var z=Yo(N);if(typeof z!="function")throw Error($(150));if(N=z.call(N),N==null)throw Error($(151));for(var q=z=null,y=_,v=_=0,T=null,I=N.next();y!==null&&!I.done;v++,I=N.next()){y.index>v?(T=y,y=null):T=y.sibling;var A=g(E,y,I.value,M);if(A===null){y===null&&(y=T);break}t&&y&&A.alternate===null&&e(E,y),_=i(A,_,v),q===null?z=A:q.sibling=A,q=A,y=T}if(I.done)return n(E,y),ze&&Ws(E,v),z;if(y===null){for(;!I.done;v++,I=N.next())I=m(E,I.value,M),I!==null&&(_=i(I,_,v),q===null?z=I:q.sibling=I,q=I);return ze&&Ws(E,v),z}for(y=r(E,y);!I.done;v++,I=N.next())I=x(y,E,v,I.value,M),I!==null&&(t&&I.alternate!==null&&y.delete(I.key===null?v:I.key),_=i(I,_,v),q===null?z=I:q.sibling=I,q=I);return t&&y.forEach(function(P){return e(E,P)}),ze&&Ws(E,v),z}function C(E,_,N,M){if(typeof N=="object"&&N!==null&&N.type===Ui&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Gl:e:{for(var z=N.key,q=_;q!==null;){if(q.key===z){if(z=N.type,z===Ui){if(q.tag===7){n(E,q.sibling),_=s(q,N.props.children),_.return=E,E=_;break e}}else if(q.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Yr&&my(z)===q.type){n(E,q.sibling),_=s(q,N.props),_.ref=ta(E,q,N),_.return=E,E=_;break e}n(E,q);break}else e(E,q);q=q.sibling}N.type===Ui?(_=ri(N.props.children,E.mode,M,N.key),_.return=E,E=_):(M=Nc(N.type,N.key,N.props,null,E.mode,M),M.ref=ta(E,_,N),M.return=E,E=M)}return o(E);case Oi:e:{for(q=N.key;_!==null;){if(_.key===q)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(E,_.sibling),_=s(_,N.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=lh(N,E.mode,M),_.return=E,E=_}return o(E);case Yr:return q=N._init,C(E,_,q(N._payload),M)}if(ca(N))return b(E,_,N,M);if(Yo(N))return k(E,_,N,M);sc(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,N),_.return=E,E=_):(n(E,_),_=ah(N,E.mode,M),_.return=E,E=_),o(E)):n(E,_)}return C}var ho=iw(!0),ow=iw(!1),Jc=Cs(null),Zc=null,Gi=null,Sm=null;function km(){Sm=Gi=Zc=null}function Nm(t){var e=Jc.current;Ue(Jc),t._currentValue=e}function tf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){Zc=t,Sm=Gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Sm!==t)if(t={context:t,memoizedValue:e,next:null},Gi===null){if(Zc===null)throw Error($(308));Gi=t,Zc.dependencies={lanes:0,firstContext:t}}else Gi=Gi.next=t;return e}var Js=null;function bm(t){Js===null?Js=[t]:Js.push(t)}function aw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function Am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nr(t,n)}return s=r.interleaved,s===null?(e.next=e,bm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nr(t,n)}function xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mm(t,n)}}function py(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eu(t,e,n,r){var s=t.updateQueue;Xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,f=d=c=null,l=i;do{var g=l.lane,x=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,k=l;switch(g=e,x=n,k.tag){case 1:if(b=k.payload,typeof b=="function"){m=b.call(x,m,g);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=k.payload,g=typeof b=="function"?b.call(x,m,g):b,g==null)break e;m=qe({},m,g);break e;case 2:Xr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else x={eventTime:x,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=x,c=m):f=f.next=x,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ci|=o,t.lanes=o,t.memoizedState=m}}function gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var gl={},tr=Cs(gl),Wa=Cs(gl),Ga=Cs(gl);function Zs(t){if(t===gl)throw Error($(174));return t}function Rm(t,e){switch(je(Ga,e),je(Wa,t),je(tr,gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}Ue(tr),je(tr,e)}function fo(){Ue(tr),Ue(Wa),Ue(Ga)}function cw(t){Zs(Ga.current);var e=Zs(tr.current),n=Lh(e,t.type);e!==n&&(je(Wa,t),je(tr,n))}function Cm(t){Wa.current===t&&(Ue(tr),Ue(Wa))}var Be=Cs(0);function tu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var th=[];function Pm(){for(var t=0;t<th.length;t++)th[t]._workInProgressVersionPrimary=null;th.length=0}var Ec=Dr.ReactCurrentDispatcher,nh=Dr.ReactCurrentBatchConfig,li=0,$e=null,ft=null,wt=null,nu=!1,Ia=!1,Ka=0,_S=0;function Ct(){throw Error($(321))}function jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function Dm(t,e,n,r,s,i){if(li=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ec.current=t===null||t.memoizedState===null?TS:IS,t=n(r,s),Ia){i=0;do{if(Ia=!1,Ka=0,25<=i)throw Error($(301));i+=1,wt=ft=null,e.updateQueue=null,Ec.current=SS,t=n(r,s)}while(Ia)}if(Ec.current=ru,e=ft!==null&&ft.next!==null,li=0,wt=ft=$e=null,nu=!1,e)throw Error($(300));return t}function Lm(){var t=Ka!==0;return Ka=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?$e.memoizedState=wt=t:wt=wt.next=t,wt}function En(){if(ft===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=wt===null?$e.memoizedState:wt.next;if(e!==null)wt=e,ft=t;else{if(t===null)throw Error($(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?$e.memoizedState=wt=t:wt=wt.next=t}return wt}function Qa(t,e){return typeof e=="function"?e(t):e}function rh(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((li&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,$e.lanes|=f,ci|=f}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,On(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,ci|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sh(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);On(i,e.memoizedState)||(Xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function uw(){}function dw(t,e){var n=$e,r=En(),s=e(),i=!On(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,Mm(mw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Ya(9,fw.bind(null,n,r,s,e),void 0,null),xt===null)throw Error($(349));li&30||hw(n,e,s)}return s}function hw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fw(t,e,n,r){e.value=n,e.getSnapshot=r,pw(e)&&gw(t)}function mw(t,e,n){return n(function(){pw(e)&&gw(t)})}function pw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function gw(t){var e=Nr(t,1);e!==null&&Vn(e,t,1,-1)}function yy(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=ES.bind(null,$e,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yw(){return En().memoizedState}function Tc(t,e,n,r){var s=Xn();$e.flags|=t,s.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function Fu(t,e,n,r){var s=En();r=r===void 0?null:r;var i=void 0;if(ft!==null){var o=ft.memoizedState;if(i=o.destroy,r!==null&&jm(r,o.deps)){s.memoizedState=Ya(e,n,i,r);return}}$e.flags|=t,s.memoizedState=Ya(1|e,n,i,r)}function vy(t,e){return Tc(8390656,8,t,e)}function Mm(t,e){return Fu(2048,8,t,e)}function vw(t,e){return Fu(4,2,t,e)}function _w(t,e){return Fu(4,4,t,e)}function ww(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xw(t,e,n){return n=n!=null?n.concat([t]):null,Fu(4,4,ww.bind(null,e,t),n)}function Vm(){}function Ew(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tw(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Iw(t,e,n){return li&21?(On(n,e)||(n=A0(),$e.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function wS(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=nh.transition;nh.transition={};try{t(!1),e()}finally{be=n,nh.transition=r}}function Sw(){return En().memoizedState}function xS(t,e,n){var r=ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kw(t))Nw(e,n);else if(n=aw(t,e,n,r),n!==null){var s=zt();Vn(n,t,r,s),bw(n,e,r)}}function ES(t,e,n){var r=ms(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kw(t))Nw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,On(l,o)){var c=e.interleaved;c===null?(s.next=s,bm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=aw(t,e,s,r),n!==null&&(s=zt(),Vn(n,t,r,s),bw(n,e,r))}}function kw(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Nw(t,e){Ia=nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mm(t,n)}}var ru={readContext:xn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},TS={readContext:xn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4194308,4,ww.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xS.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:yy,useDebugValue:Vm,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=yy(!1),e=t[0];return t=wS.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=Xn();if(ze){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),xt===null)throw Error($(349));li&30||hw(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vy(mw.bind(null,r,i,t),[t]),r.flags|=2048,Ya(9,fw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=xt.identifierPrefix;if(ze){var n=yr,r=gr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_S++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IS={readContext:xn,useCallback:Ew,useContext:xn,useEffect:Mm,useImperativeHandle:xw,useInsertionEffect:vw,useLayoutEffect:_w,useMemo:Tw,useReducer:rh,useRef:yw,useState:function(){return rh(Qa)},useDebugValue:Vm,useDeferredValue:function(t){var e=En();return Iw(e,ft.memoizedState,t)},useTransition:function(){var t=rh(Qa)[0],e=En().memoizedState;return[t,e]},useMutableSource:uw,useSyncExternalStore:dw,useId:Sw,unstable_isNewReconciler:!1},SS={readContext:xn,useCallback:Ew,useContext:xn,useEffect:Mm,useImperativeHandle:xw,useInsertionEffect:vw,useLayoutEffect:_w,useMemo:Tw,useReducer:sh,useRef:yw,useState:function(){return sh(Qa)},useDebugValue:Vm,useDeferredValue:function(t){var e=En();return ft===null?e.memoizedState=t:Iw(e,ft.memoizedState,t)},useTransition:function(){var t=sh(Qa)[0],e=En().memoizedState;return[t,e]},useMutableSource:uw,useSyncExternalStore:dw,useId:Sw,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zu={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),s=ms(t),i=xr(r,s);i.payload=e,n!=null&&(i.callback=n),e=hs(t,i,s),e!==null&&(Vn(e,t,s,r),xc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),s=ms(t),i=xr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hs(t,i,s),e!==null&&(Vn(e,t,s,r),xc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ms(t),s=xr(n,r);s.tag=2,e!=null&&(s.callback=e),e=hs(t,s,r),e!==null&&(Vn(e,t,r,n),xc(e,t,r))}};function _y(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ba(n,r)||!Ba(s,i):!0}function Aw(t,e,n){var r=!1,s=Es,i=e.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Zt(e)?oi:Vt.current,r=e.contextTypes,i=(r=r!=null)?co(t,s):Es),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zu.enqueueReplaceState(e,e.state,null)}function rf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Am(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Zt(e)?oi:Vt.current,s.context=co(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(nf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zu.enqueueReplaceState(s,s.state,null),eu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",r=e;do n+=ZT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function Rw(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){iu||(iu=!0,pf=r),sf(t,e)},n}function Cw(t,e,n){n=xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sf(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=FS.bind(null,t,e,n),e.then(t,t))}function Ey(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ty(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,hs(n,e,1))),n.lanes|=1),t)}var NS=Dr.ReactCurrentOwner,Xt=!1;function Ft(t,e,n,r){e.child=t===null?ow(e,null,n,r):ho(e,t.child,n,r)}function Iy(t,e,n,r,s){n=n.render;var i=e.ref;return to(e,s),r=Dm(t,e,n,r,i,s),n=Lm(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,br(t,e,s)):(ze&&n&&Em(e),e.flags|=1,Ft(t,e,r,s),e.child)}function Sy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Pw(t,e,i,r,s)):(t=Nc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&t.ref===e.ref)return br(t,e,s)}return e.flags|=1,t=ps(i,r),t.ref=e.ref,t.return=e,e.child=t}function Pw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ba(i,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,br(t,e,s)}return of(t,e,n,r,s)}function jw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Qi,rn),rn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Qi,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Qi,rn),rn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(Qi,rn),rn|=r;return Ft(t,e,s,n),e.child}function Dw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function of(t,e,n,r,s){var i=Zt(n)?oi:Vt.current;return i=co(e,i),to(e,s),n=Dm(t,e,n,r,i,s),r=Lm(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,br(t,e,s)):(ze&&r&&Em(e),e.flags|=1,Ft(t,e,n,s),e.child)}function ky(t,e,n,r,s){if(Zt(n)){var i=!0;Qc(e)}else i=!1;if(to(e,s),e.stateNode===null)Ic(t,e),Aw(e,n,r),rf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=Zt(n)?oi:Vt.current,d=co(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&wy(e,o,r,d),Xr=!1;var g=e.memoizedState;o.state=g,eu(e,r,o,s),c=e.memoizedState,l!==r||g!==c||Jt.current||Xr?(typeof f=="function"&&(nf(e,n,f,r),c=e.memoizedState),(l=Xr||_y(e,n,l,r,g,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lw(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Cn(e.type,l),o.props=d,m=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Zt(n)?oi:Vt.current,c=co(e,c));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==c)&&wy(e,o,r,c),Xr=!1,g=e.memoizedState,o.state=g,eu(e,r,o,s);var b=e.memoizedState;l!==m||g!==b||Jt.current||Xr?(typeof x=="function"&&(nf(e,n,x,r),b=e.memoizedState),(d=Xr||_y(e,n,d,r,g,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return af(t,e,n,r,i,s)}function af(t,e,n,r,s,i){Dw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&dy(e,n,!1),br(t,e,i);r=e.stateNode,NS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ho(e,t.child,null,i),e.child=ho(e,null,l,i)):Ft(t,e,l,i),e.memoizedState=r.state,s&&dy(e,n,!0),e.child}function Lw(t){var e=t.stateNode;e.pendingContext?uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uy(t,e.context,!1),Rm(t,e.containerInfo)}function Ny(t,e,n,r,s){return uo(),Im(s),e.flags|=256,Ft(t,e,n,r),e.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function cf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mw(t,e,n){var r=e.pendingProps,s=Be.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Be,s&1),t===null)return ef(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qu(o,r,0,null),t=ri(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cf(n),e.memoizedState=lf,t):Om(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bS(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ps(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ps(l,i):(i=ri(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?cf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=lf,r}return i=t.child,t=i.sibling,r=ps(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Om(t,e){return e=qu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ic(t,e,n,r){return r!==null&&Im(r),ho(e,t.child,null,n),t=Om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ih(Error($(422))),ic(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qu({mode:"visible",children:r.children},s,0,null),i=ri(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ho(e,t.child,null,o),e.child.memoizedState=cf(o),e.memoizedState=lf,i);if(!(e.mode&1))return ic(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=ih(i,r,void 0),ic(t,e,o,r)}if(l=(o&t.childLanes)!==0,Xt||l){if(r=xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(t,s),Vn(r,t,s,-1))}return qm(),r=ih(Error($(421))),ic(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,an=ds(s.nextSibling),cn=e,ze=!0,Dn=null,t!==null&&(mn[pn++]=gr,mn[pn++]=yr,mn[pn++]=ai,gr=t.id,yr=t.overflow,ai=e),e=Om(e,r.children),e.flags|=4096,e)}function by(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tf(t.return,e,n)}function oh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Vw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ft(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,n,e);else if(t.tag===19)by(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),oh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}oh(e,!0,n,null,i);break;case"together":oh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AS(t,e,n){switch(e.tag){case 3:Lw(e),uo();break;case 5:cw(e);break;case 1:Zt(e.type)&&Qc(e);break;case 4:Rm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(Jc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?Mw(t,e,n):(je(Be,Be.current&1),t=br(t,e,n),t!==null?t.sibling:null);je(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,jw(t,e,n)}return br(t,e,n)}var Ow,uf,Uw,Fw;Ow=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uf=function(){};Uw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Zs(tr.current);var i=null;switch(n){case"input":s=Ch(t,s),r=Ch(t,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=Dh(t,s),r=Dh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gc)}Mh(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(La.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(La.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ve("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Fw=function(t,e,n,r){n!==r&&(e.flags|=4)};function na(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RS(t,e,n){var r=e.pendingProps;switch(Tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Zt(e.type)&&Kc(),Pt(e),null;case 3:return r=e.stateNode,fo(),Ue(Jt),Ue(Vt),Pm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(vf(Dn),Dn=null))),uf(t,e),Pt(e),null;case 5:Cm(e);var s=Zs(Ga.current);if(n=e.type,t!==null&&e.stateNode!=null)Uw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Pt(e),null}if(t=Zs(tr.current),rc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zn]=e,r[Ha]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<da.length;s++)Ve(da[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Vg(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":Ug(r,i),Ve("invalid",r)}Mh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&nc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&nc(r.textContent,l,t),s=["children",""+l]):La.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Kl(r),Og(r,i,!0);break;case"textarea":Kl(r),Fg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[Ha]=r,Ow(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vh(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<da.length;s++)Ve(da[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":Vg(t,r),s=Ch(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Ug(t,r),s=Dh(t,r),Ve("invalid",t);break;default:s=r}Mh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?y0(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&p0(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ma(t,c):typeof c=="number"&&Ma(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(La.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",t):c!=null&&lm(t,i,c,o))}switch(n){case"input":Kl(t),Og(t,r,!1);break;case"textarea":Kl(t),Fg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)Fw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Zs(Ga.current),Zs(tr.current),rc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(i=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return Pt(e),null;case 13:if(Ue(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&an!==null&&e.mode&1&&!(e.flags&128))sw(),uo(),e.flags|=98560,i=!1;else if(i=rc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Zn]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Dn!==null&&(vf(Dn),Dn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?mt===0&&(mt=3):qm())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return fo(),uf(t,e),t===null&&$a(e.stateNode.containerInfo),Pt(e),null;case 10:return Nm(e.type._context),Pt(e),null;case 17:return Zt(e.type)&&Kc(),Pt(e),null;case 19:if(Ue(Be),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)na(i,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tu(t),o!==null){for(e.flags|=128,na(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Je()>po&&(e.flags|=128,r=!0,na(i,!1),e.lanes=4194304)}else{if(!r)if(t=tu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return Pt(e),null}else 2*Je()-i.renderingStartTime>po&&n!==1073741824&&(e.flags|=128,r=!0,na(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Je(),e.sibling=null,n=Be.current,je(Be,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return $m(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function CS(t,e){switch(Tm(e),e.tag){case 1:return Zt(e.type)&&Kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fo(),Ue(Jt),Ue(Vt),Pm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cm(e),null;case 13:if(Ue(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Be),null;case 4:return fo(),null;case 10:return Nm(e.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var oc=!1,Lt=!1,PS=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function df(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Ay=!1;function jS(t,e){if(Gh=qc,t=H0(),xm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=t,g=null;t:for(;;){for(var x;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++d===s&&(l=o),g===i&&++f===r&&(c=o),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kh={focusedElem:t,selectionRange:n},qc=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var k=b.memoizedProps,C=b.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:Cn(e.type,k),C);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(M){Ke(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return b=Ay,Ay=!1,b}function Sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&df(e,n,i)}s=s.next}while(s!==r)}}function Bu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zw(t){var e=t.alternate;e!==null&&(t.alternate=null,zw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[Ha],delete e[Xh],delete e[pS],delete e[gS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bw(t){return t.tag===5||t.tag===3||t.tag===4}function Ry(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gc));else if(r!==4&&(t=t.child,t!==null))for(ff(t,e,n),t=t.sibling;t!==null;)ff(t,e,n),t=t.sibling}function mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mf(t,e,n),t=t.sibling;t!==null;)mf(t,e,n),t=t.sibling}var It=null,Pn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)$w(t,e,n),n=n.sibling}function $w(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Du,n)}catch{}switch(n.tag){case 5:Lt||Ki(n,e);case 6:var r=It,s=Pn;It=null,Gr(t,e,n),It=r,Pn=s,It!==null&&(Pn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Pn?(t=It,n=n.stateNode,t.nodeType===8?Zd(t.parentNode,n):t.nodeType===1&&Zd(t,n),Fa(t)):Zd(It,n.stateNode));break;case 4:r=It,s=Pn,It=n.stateNode.containerInfo,Pn=!0,Gr(t,e,n),It=r,Pn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&df(n,e,o),s=s.next}while(s!==r)}Gr(t,e,n);break;case 1:if(!Lt&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ke(n,e,l)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Gr(t,e,n),Lt=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function Cy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PS),e.forEach(function(r){var s=BS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,Pn=!1;break e;case 3:It=l.stateNode.containerInfo,Pn=!0;break e;case 4:It=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(It===null)throw Error($(160));$w(i,o,s),It=null,Pn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ke(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qw(e,t),e=e.sibling}function qw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Yn(t),r&4){try{Sa(3,t,t.return),Bu(3,t)}catch(k){Ke(t,t.return,k)}try{Sa(5,t,t.return)}catch(k){Ke(t,t.return,k)}}break;case 1:Rn(e,t),Yn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(Rn(e,t),Yn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var s=t.stateNode;try{Ma(s,"")}catch(k){Ke(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&h0(s,i),Vh(l,o);var d=Vh(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?y0(s,m):f==="dangerouslySetInnerHTML"?p0(s,m):f==="children"?Ma(s,m):lm(s,f,m,d)}switch(l){case"input":Ph(s,i);break;case"textarea":f0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Xi(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?Xi(s,!!i.multiple,i.defaultValue,!0):Xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ha]=i}catch(k){Ke(t,t.return,k)}}break;case 6:if(Rn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){Ke(t,t.return,k)}}break;case 3:if(Rn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fa(e.containerInfo)}catch(k){Ke(t,t.return,k)}break;case 4:Rn(e,t),Yn(t);break;case 13:Rn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zm=Je())),r&4&&Cy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(d=Lt)||f,Rn(e,t),Lt=d):Rn(e,t),Yn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(X=t,f=t.child;f!==null;){for(m=X=f;X!==null;){switch(g=X,x=g.child,g.tag){case 0:case 11:case 14:case 15:Sa(4,g,g.return);break;case 1:Ki(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(k){Ke(r,n,k)}}break;case 5:Ki(g,g.return);break;case 22:if(g.memoizedState!==null){jy(m);continue}}x!==null?(x.return=g,X=x):jy(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=g0("display",o))}catch(k){Ke(t,t.return,k)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(k){Ke(t,t.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rn(e,t),Yn(t),r&4&&Cy(t);break;case 21:break;default:Rn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bw(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ma(s,""),r.flags&=-33);var i=Ry(t);mf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ry(t);ff(t,l,o);break;default:throw Error($(161))}}catch(c){Ke(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DS(t,e,n){X=t,Hw(t)}function Hw(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||oc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Lt;l=oc;var d=Lt;if(oc=o,(Lt=c)&&!d)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Dy(s):c!==null?(c.return=o,X=c):Dy(s);for(;i!==null;)X=i,Hw(i),i=i.sibling;X=s,oc=l,Lt=d}Py(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Py(t)}}function Py(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Bu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&gy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Fa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Lt||e.flags&512&&hf(e)}catch(g){Ke(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function jy(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Dy(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bu(4,e)}catch(c){Ke(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ke(e,s,c)}}var i=e.return;try{hf(e)}catch(c){Ke(e,i,c)}break;case 5:var o=e.return;try{hf(e)}catch(c){Ke(e,o,c)}}}catch(c){Ke(e,e.return,c)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var LS=Math.ceil,su=Dr.ReactCurrentDispatcher,Um=Dr.ReactCurrentOwner,_n=Dr.ReactCurrentBatchConfig,Ee=0,xt=null,st=null,Nt=0,rn=0,Qi=Cs(0),mt=0,Xa=null,ci=0,$u=0,Fm=0,ka=null,Qt=null,zm=0,po=1/0,mr=null,iu=!1,pf=null,fs=null,ac=!1,is=null,ou=0,Na=0,gf=null,Sc=-1,kc=0;function zt(){return Ee&6?Je():Sc!==-1?Sc:Sc=Je()}function ms(t){return t.mode&1?Ee&2&&Nt!==0?Nt&-Nt:vS.transition!==null?(kc===0&&(kc=A0()),kc):(t=be,t!==0||(t=window.event,t=t===void 0?16:M0(t.type)),t):1}function Vn(t,e,n,r){if(50<Na)throw Na=0,gf=null,Error($(185));fl(t,n,r),(!(Ee&2)||t!==xt)&&(t===xt&&(!(Ee&2)&&($u|=n),mt===4&&Zr(t,Nt)),en(t,r),n===1&&Ee===0&&!(e.mode&1)&&(po=Je()+500,Uu&&Ps()))}function en(t,e){var n=t.callbackNode;vI(t,e);var r=$c(t,t===xt?Nt:0);if(r===0)n!==null&&$g(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$g(n),e===1)t.tag===0?yS(Ly.bind(null,t)):tw(Ly.bind(null,t)),fS(function(){!(Ee&6)&&Ps()}),n=null;else{switch(R0(r)){case 1:n=fm;break;case 4:n=N0;break;case 16:n=Bc;break;case 536870912:n=b0;break;default:n=Bc}n=Zw(n,Ww.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ww(t,e){if(Sc=-1,kc=0,Ee&6)throw Error($(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=$c(t,t===xt?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=au(t,r);else{e=r;var s=Ee;Ee|=2;var i=Kw();(xt!==t||Nt!==e)&&(mr=null,po=Je()+500,ni(t,e));do try{OS();break}catch(l){Gw(t,l)}while(!0);km(),su.current=i,Ee=s,st!==null?e=0:(xt=null,Nt=0,e=mt)}if(e!==0){if(e===2&&(s=Bh(t),s!==0&&(r=s,e=yf(t,s))),e===1)throw n=Xa,ni(t,0),Zr(t,r),en(t,Je()),n;if(e===6)Zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!MS(s)&&(e=au(t,r),e===2&&(i=Bh(t),i!==0&&(r=i,e=yf(t,i))),e===1))throw n=Xa,ni(t,0),Zr(t,r),en(t,Je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Gs(t,Qt,mr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=zm+500-Je(),10<e)){if($c(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yh(Gs.bind(null,t,Qt,mr),e);break}Gs(t,Qt,mr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Mn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LS(r/1960))-r,10<r){t.timeoutHandle=Yh(Gs.bind(null,t,Qt,mr),r);break}Gs(t,Qt,mr);break;case 5:Gs(t,Qt,mr);break;default:throw Error($(329))}}}return en(t,Je()),t.callbackNode===n?Ww.bind(null,t):null}function yf(t,e){var n=ka;return t.current.memoizedState.isDehydrated&&(ni(t,e).flags|=256),t=au(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&vf(e)),t}function vf(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function MS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!On(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~Fm,e&=~$u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function Ly(t){if(Ee&6)throw Error($(327));no();var e=$c(t,0);if(!(e&1))return en(t,Je()),null;var n=au(t,e);if(t.tag!==0&&n===2){var r=Bh(t);r!==0&&(e=r,n=yf(t,r))}if(n===1)throw n=Xa,ni(t,0),Zr(t,e),en(t,Je()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gs(t,Qt,mr),en(t,Je()),null}function Bm(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(po=Je()+500,Uu&&Ps())}}function ui(t){is!==null&&is.tag===0&&!(Ee&6)&&no();var e=Ee;Ee|=1;var n=_n.transition,r=be;try{if(_n.transition=null,be=1,t)return t()}finally{be=r,_n.transition=n,Ee=e,!(Ee&6)&&Ps()}}function $m(){rn=Qi.current,Ue(Qi)}function ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hS(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kc();break;case 3:fo(),Ue(Jt),Ue(Vt),Pm();break;case 5:Cm(r);break;case 4:fo();break;case 13:Ue(Be);break;case 19:Ue(Be);break;case 10:Nm(r.type._context);break;case 22:case 23:$m()}n=n.return}if(xt=t,st=t=ps(t.current,null),Nt=rn=e,mt=0,Xa=null,Fm=$u=ci=0,Qt=ka=null,Js!==null){for(e=0;e<Js.length;e++)if(n=Js[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Js=null}return t}function Gw(t,e){do{var n=st;try{if(km(),Ec.current=ru,nu){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nu=!1}if(li=0,wt=ft=$e=null,Ia=!1,Ka=0,Um.current=null,n===null||n.return===null){mt=1,Xa=e,st=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Ey(o);if(x!==null){x.flags&=-257,Ty(x,o,l,i,e),x.mode&1&&xy(i,d,e),e=x,c=d;var b=e.updateQueue;if(b===null){var k=new Set;k.add(c),e.updateQueue=k}else b.add(c);break e}else{if(!(e&1)){xy(i,d,e),qm();break e}c=Error($(426))}}else if(ze&&l.mode&1){var C=Ey(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ty(C,o,l,i,e),Im(mo(c,l));break e}}i=c=mo(c,l),mt!==4&&(mt=2),ka===null?ka=[i]:ka.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=Rw(i,c,e);py(i,E);break e;case 1:l=c;var _=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(fs===null||!fs.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var M=Cw(i,l,e);py(i,M);break e}}i=i.return}while(i!==null)}Yw(n)}catch(z){e=z,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function Kw(){var t=su.current;return su.current=ru,t===null?ru:t}function qm(){(mt===0||mt===3||mt===2)&&(mt=4),xt===null||!(ci&268435455)&&!($u&268435455)||Zr(xt,Nt)}function au(t,e){var n=Ee;Ee|=2;var r=Kw();(xt!==t||Nt!==e)&&(mr=null,ni(t,e));do try{VS();break}catch(s){Gw(t,s)}while(!0);if(km(),Ee=n,su.current=r,st!==null)throw Error($(261));return xt=null,Nt=0,mt}function VS(){for(;st!==null;)Qw(st)}function OS(){for(;st!==null&&!cI();)Qw(st)}function Qw(t){var e=Jw(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?Yw(t):st=e,Um.current=null}function Yw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CS(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,st=null;return}}else if(n=RS(n,e,rn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);mt===0&&(mt=5)}function Gs(t,e,n){var r=be,s=_n.transition;try{_n.transition=null,be=1,US(t,e,n,r)}finally{_n.transition=s,be=r}return null}function US(t,e,n,r){do no();while(is!==null);if(Ee&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_I(t,i),t===xt&&(st=xt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ac||(ac=!0,Zw(Bc,function(){return no(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=be;be=1;var l=Ee;Ee|=4,Um.current=null,jS(t,n),qw(n,t),iS(Kh),qc=!!Gh,Kh=Gh=null,t.current=n,DS(n),uI(),Ee=l,be=o,_n.transition=i}else t.current=n;if(ac&&(ac=!1,is=t,ou=s),i=t.pendingLanes,i===0&&(fs=null),fI(n.stateNode),en(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(iu)throw iu=!1,t=pf,pf=null,t;return ou&1&&t.tag!==0&&no(),i=t.pendingLanes,i&1?t===gf?Na++:(Na=0,gf=t):Na=0,Ps(),null}function no(){if(is!==null){var t=R0(ou),e=_n.transition,n=be;try{if(_n.transition=null,be=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,ou=0,Ee&6)throw Error($(331));var s=Ee;for(Ee|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(X=d;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Sa(8,f,i)}var m=f.child;if(m!==null)m.return=f,X=m;else for(;X!==null;){f=X;var g=f.sibling,x=f.return;if(zw(f),f===d){X=null;break}if(g!==null){g.return=x,X=g;break}X=x}}}var b=i.alternate;if(b!==null){var k=b.child;if(k!==null){b.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sa(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break e}X=i.return}}var _=t.current;for(X=_;X!==null;){o=X;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,X=N;else e:for(o=_;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bu(9,l)}}catch(z){Ke(l,l.return,z)}if(l===o){X=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,X=M;break e}X=l.return}}if(Ee=s,Ps(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Du,t)}catch{}r=!0}return r}finally{be=n,_n.transition=e}}return!1}function My(t,e,n){e=mo(n,e),e=Rw(t,e,1),t=hs(t,e,1),e=zt(),t!==null&&(fl(t,1,e),en(t,e))}function Ke(t,e,n){if(t.tag===3)My(t,t,n);else for(;e!==null;){if(e.tag===3){My(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=mo(n,t),t=Cw(e,t,1),e=hs(e,t,1),t=zt(),e!==null&&(fl(e,1,t),en(e,t));break}}e=e.return}}function FS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Nt&n)===n&&(mt===4||mt===3&&(Nt&130023424)===Nt&&500>Je()-zm?ni(t,0):Fm|=n),en(t,e)}function Xw(t,e){e===0&&(t.mode&1?(e=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):e=1);var n=zt();t=Nr(t,e),t!==null&&(fl(t,e,n),en(t,n))}function zS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xw(t,n)}function BS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Xw(t,n)}var Jw;Jw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,AS(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,ze&&e.flags&1048576&&nw(e,Xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var s=co(e,Vt.current);to(e,n),s=Dm(null,e,r,t,s,n);var i=Lm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(i=!0,Qc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Am(e),s.updater=zu,e.stateNode=s,s._reactInternals=e,rf(e,r,t,n),e=af(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&Em(e),Ft(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=qS(r),t=Cn(r,t),s){case 0:e=of(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Iy(null,e,r,t,n);break e;case 14:e=Sy(null,e,r,Cn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),of(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),ky(t,e,r,s,n);case 3:e:{if(Lw(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lw(t,e),eu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=mo(Error($(423)),e),e=Ny(t,e,r,n,s);break e}else if(r!==s){s=mo(Error($(424)),e),e=Ny(t,e,r,n,s);break e}else for(an=ds(e.stateNode.containerInfo.firstChild),cn=e,ze=!0,Dn=null,n=ow(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===s){e=br(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return cw(e),t===null&&ef(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qh(r,s)?o=null:i!==null&&Qh(r,i)&&(e.flags|=32),Dw(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&ef(e),null;case 13:return Mw(t,e,n);case 4:return Rm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ho(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),Iy(t,e,r,s,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(Jc,r._currentValue),r._currentValue=o,i!==null)if(On(i.value,o)){if(i.children===s.children&&!Jt.current){e=br(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),tf(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ft(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,to(e,n),s=xn(s),r=r(s),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,s=Cn(r,e.pendingProps),s=Cn(r.type,s),Sy(t,e,r,s,n);case 15:return Pw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),Ic(t,e),e.tag=1,Zt(r)?(t=!0,Qc(e)):t=!1,to(e,n),Aw(e,r,s),rf(e,r,s,n),af(null,e,r,!0,t,n);case 19:return Vw(t,e,n);case 22:return jw(t,e,n)}throw Error($(156,e.tag))};function Zw(t,e){return k0(t,e)}function $S(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new $S(t,e,n,r)}function Hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qS(t){if(typeof t=="function")return Hm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===um)return 11;if(t===dm)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Hm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ui:return ri(n.children,s,i,e);case cm:o=8,s|=8;break;case Nh:return t=vn(12,n,e,s|2),t.elementType=Nh,t.lanes=i,t;case bh:return t=vn(13,n,e,s),t.elementType=bh,t.lanes=i,t;case Ah:return t=vn(19,n,e,s),t.elementType=Ah,t.lanes=i,t;case c0:return qu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a0:o=10;break e;case l0:o=9;break e;case um:o=11;break e;case dm:o=14;break e;case Yr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ri(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function qu(t,e,n,r){return t=vn(22,t,r,e),t.elementType=c0,t.lanes=n,t.stateNode={isHidden:!1},t}function ah(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function lh(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bd(0),this.expirationTimes=Bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wm(t,e,n,r,s,i,o,l,c){return t=new HS(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Am(i),t}function WS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ex(t){if(!t)return Es;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Zt(n))return ew(t,n,e)}return e}function tx(t,e,n,r,s,i,o,l,c){return t=Wm(n,r,!0,t,s,i,o,l,c),t.context=ex(null),n=t.current,r=zt(),s=ms(n),i=xr(r,s),i.callback=e??null,hs(n,i,s),t.current.lanes=s,fl(t,s,r),en(t,r),t}function Hu(t,e,n,r){var s=e.current,i=zt(),o=ms(s);return n=ex(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hs(s,e,o),t!==null&&(Vn(t,s,o,i),xc(t,s,o)),o}function lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gm(t,e){Vy(t,e),(t=t.alternate)&&Vy(t,e)}function GS(){return null}var nx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Km(t){this._internalRoot=t}Wu.prototype.render=Km.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Hu(t,e,null,null)};Wu.prototype.unmount=Km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){Hu(null,t,null,null)}),e[kr]=null}};function Wu(t){this._internalRoot=t}Wu.prototype.unstable_scheduleHydration=function(t){if(t){var e=j0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&L0(t)}};function Qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function KS(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=lu(o);i.call(d)}}var o=tx(e,r,t,0,null,!1,!1,"",Oy);return t._reactRootContainer=o,t[kr]=o.current,$a(t.nodeType===8?t.parentNode:t),ui(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=lu(c);l.call(d)}}var c=Wm(t,0,!1,null,null,!1,!1,"",Oy);return t._reactRootContainer=c,t[kr]=c.current,$a(t.nodeType===8?t.parentNode:t),ui(function(){Hu(e,c,n,r)}),c}function Ku(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=lu(o);l.call(c)}}Hu(e,o,t,s)}else o=KS(n,e,t,s,r);return lu(o)}C0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&(mm(e,n|1),en(e,Je()),!(Ee&6)&&(po=Je()+500,Ps()))}break;case 13:ui(function(){var r=Nr(t,1);if(r!==null){var s=zt();Vn(r,t,1,s)}}),Gm(t,1)}};pm=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=zt();Vn(e,t,134217728,n)}Gm(t,134217728)}};P0=function(t){if(t.tag===13){var e=ms(t),n=Nr(t,e);if(n!==null){var r=zt();Vn(n,t,e,r)}Gm(t,e)}};j0=function(){return be};D0=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Uh=function(t,e,n){switch(e){case"input":if(Ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ou(r);if(!s)throw Error($(90));d0(r),Ph(r,s)}}}break;case"textarea":f0(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};w0=Bm;x0=ui;var QS={usingClientEntryPoint:!1,Events:[pl,$i,Ou,v0,_0,Bm]},ra={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YS={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I0(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||GS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Du=lc.inject(YS),er=lc}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(e))throw Error($(200));return WS(t,e,null,n)};dn.createRoot=function(t,e){if(!Qm(t))throw Error($(299));var n=!1,r="",s=nx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wm(t,1,!1,null,null,n,!1,r,s),t[kr]=e.current,$a(t.nodeType===8?t.parentNode:t),new Km(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=I0(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return ui(t)};dn.hydrate=function(t,e,n){if(!Gu(e))throw Error($(200));return Ku(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Qm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tx(e,null,t,1,n??null,s,!1,i,o),t[kr]=e.current,$a(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wu(e)};dn.render=function(t,e,n){if(!Gu(e))throw Error($(200));return Ku(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Gu(t))throw Error($(40));return t._reactRootContainer?(ui(function(){Ku(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};dn.unstable_batchedUpdates=Bm;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gu(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Ku(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(t){console.error(t)}}rx(),r0.exports=dn;var Ym=r0.exports;const XS=q_(Ym),JS=$_({__proto__:null,default:XS},[Ym]);var sx,Uy=Ym;sx=Uy.createRoot,Uy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fe.apply(this,arguments)}var rt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rt||(rt={}));const Fy="popstate";function ZS(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ja("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:di(s)}return t2(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function go(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e2(){return Math.random().toString(36).substr(2,8)}function zy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ja(t,e,n,r){return n===void 0&&(n=null),Fe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:n,key:e&&e.key||r||e2()})}function di(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=rt.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Fe({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=rt.Pop;let C=f(),E=C==null?null:C-d;d=C,c&&c({action:l,location:k.location,delta:E})}function g(C,E){l=rt.Push;let _=Ja(k.location,C,E);d=f()+1;let N=zy(_,d),M=k.createHref(_);try{o.pushState(N,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(M)}i&&c&&c({action:l,location:k.location,delta:1})}function x(C,E){l=rt.Replace;let _=Ja(k.location,C,E);d=f();let N=zy(_,d),M=k.createHref(_);o.replaceState(N,"",M),i&&c&&c({action:l,location:k.location,delta:0})}function b(C){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof C=="string"?C:di(C);return _=_.replace(/ $/,"%20"),fe(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let k={get action(){return l},get location(){return t(s,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fy,m),c=C,()=>{s.removeEventListener(Fy,m),c=null}},createHref(C){return e(s,C)},createURL:b,encodeLocation(C){let E=b(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:x,go(C){return o.go(C)}};return k}var Ne;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ne||(Ne={}));const n2=new Set(["lazy","caseSensitive","path","id","index","children"]);function r2(t){return t.index===!0}function cu(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],l=typeof s.id=="string"?s.id:o.join("-");if(fe(s.index!==!0||!s.children,"Cannot specify children on an index route"),fe(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),r2(s)){let c=Fe({},s,e(s),{id:l});return r[l]=c,c}else{let c=Fe({},s,e(s),{id:l,children:void 0});return r[l]=c,s.children&&(c.children=cu(s.children,e,o,r)),c}})}function Qs(t,e,n){return n===void 0&&(n="/"),bc(t,e,n,!1)}function bc(t,e,n,r){let s=typeof e=="string"?js(e):e,i=Ar(s.pathname||"/",n);if(i==null)return null;let o=ix(t);i2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=g2(i);l=m2(o[c],d,r)}return l}function s2(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Er([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ix(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:h2(d,i.index),routesMeta:f})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of ox(i.path))s(i,o,c)}),e}function ox(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ox(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function i2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o2=/^:[\w-]+$/,a2=3,l2=2,c2=1,u2=10,d2=-2,By=t=>t==="*";function h2(t,e){let n=t.split("/"),r=n.length;return n.some(By)&&(r+=d2),e&&(r+=l2),n.filter(s=>!By(s)).reduce((s,i)=>s+(o2.test(i)?a2:i===""?c2:u2),r)}function f2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function m2(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=uu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=uu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Er([i,m.pathname]),pathnameBase:_2(Er([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Er([i,m.pathnameBase]))}return o}function uu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,f,m)=>{let{paramName:g,isOptional:x}=f;if(g==="*"){let k=l[m]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const b=l[m];return x&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function p2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),go(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function g2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return go(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function y2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?js(t):t;return{pathname:n?n.startsWith("/")?n:v2(n,e):e,search:w2(r),hash:x2(s)}}function v2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ch(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ax(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qu(t,e){let n=ax(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yu(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=js(t):(s=Fe({},t),fe(!s.pathname||!s.pathname.includes("?"),ch("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),ch("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),ch("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=y2(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Er=t=>t.join("/").replace(/\/\/+/g,"/"),_2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class du{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Za(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lx=["post","put","patch","delete"],E2=new Set(lx),T2=["get",...lx],I2=new Set(T2),S2=new Set([301,302,303,307,308]),k2=new Set([307,308]),uh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},N2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cx="remix-router-transitions";function A2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;s=j=>({hasErrorBoundary:R(j)})}else s=b2;let i={},o=cu(t.routes,s,void 0,i),l,c=t.basename||"/",d=t.dataStrategy||j2,f=t.patchRoutesOnNavigation,m=Fe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,x=new Set,b=null,k=null,C=null,E=t.hydrationData!=null,_=Qs(o,t.history.location,c),N=!1,M=null;if(_==null&&!f){let R=Gt(404,{pathname:t.history.location.pathname}),{matches:j,route:V}=Zy(o);_=j,M={[V.id]:R}}_&&!t.hydrationData&&Ai(_,o,t.history.location.pathname).active&&(_=null);let z;if(_)if(_.some(R=>R.route.lazy))z=!1;else if(!_.some(R=>R.route.loader))z=!0;else if(m.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null;if(j){let V=_.findIndex(B=>j[B.route.id]!==void 0);z=_.slice(0,V+1).every(B=>!wf(B.route,R,j))}else z=_.every(V=>!wf(V.route,R,j))}else z=t.hydrationData!=null;else if(z=!1,_=[],m.v7_partialHydration){let R=Ai(null,o,t.history.location.pathname);R.active&&R.matches&&(N=!0,_=R.matches)}let q,y={historyAction:t.history.action,location:t.history.location,matches:_,initialized:z,navigation:uh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||M,fetchers:new Map,blockers:new Map},v=rt.Pop,T=!1,I,A=!1,P=new Map,S=null,Te=!1,at=!1,$n=[],qn=new Set,H=new Map,ie=0,le=-1,Ie=new Map,Se=new Set,qt=new Map,gt=new Map,lt=new Set,ct=new Map,Rt=new Map,Vr;function Rl(){if(g=t.history.listen(R=>{let{action:j,location:V,delta:B}=R;if(Vr){Vr(),Vr=void 0;return}go(Rt.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Or({currentLocation:y.location,nextLocation:V,historyAction:j});if(W&&B!=null){let ne=new Promise(re=>{Vr=re});t.history.go(B*-1),Us(W,{state:"blocked",location:V,proceed(){Us(W,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),ne.then(()=>t.history.go(B))},reset(){let re=new Map(y.blockers);re.set(W,sa),yt({blockers:re})}});return}return Sn(j,V)}),n){G2(e,P);let R=()=>K2(e,P);e.addEventListener("pagehide",R),S=()=>e.removeEventListener("pagehide",R)}return y.initialized||Sn(rt.Pop,y.location,{initialHydration:!0}),q}function Id(){g&&g(),S&&S(),x.clear(),I&&I.abort(),y.fetchers.forEach((R,j)=>Vs(j)),y.blockers.forEach((R,j)=>Os(j))}function Sd(R){return x.add(R),()=>x.delete(R)}function yt(R,j){j===void 0&&(j={}),y=Fe({},y,R);let V=[],B=[];m.v7_fetcherPersist&&y.fetchers.forEach((W,ne)=>{W.state==="idle"&&(lt.has(ne)?B.push(ne):V.push(ne))}),lt.forEach(W=>{!y.fetchers.has(W)&&!H.has(W)&&B.push(W)}),[...x].forEach(W=>W(y,{deletedFetchers:B,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),m.v7_fetcherPersist?(V.forEach(W=>y.fetchers.delete(W)),B.forEach(W=>Vs(W))):B.forEach(W=>lt.delete(W))}function Hn(R,j,V){var B,W;let{flushSync:ne}=V===void 0?{}:V,re=y.actionData!=null&&y.navigation.formMethod!=null&&jn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((B=R.state)==null?void 0:B._isRedirect)!==!0,J;j.actionData?Object.keys(j.actionData).length>0?J=j.actionData:J=null:re?J=y.actionData:J=null;let Z=j.loaderData?Xy(y.loaderData,j.loaderData,j.matches||[],j.errors):y.loaderData,Q=y.blockers;Q.size>0&&(Q=new Map(Q),Q.forEach((pe,tt)=>Q.set(tt,sa)));let ee=T===!0||y.navigation.formMethod!=null&&jn(y.navigation.formMethod)&&((W=R.state)==null?void 0:W._isRedirect)!==!0;l&&(o=l,l=void 0),Te||v===rt.Pop||(v===rt.Push?t.history.push(R,R.state):v===rt.Replace&&t.history.replace(R,R.state));let ue;if(v===rt.Pop){let pe=P.get(y.location.pathname);pe&&pe.has(R.pathname)?ue={currentLocation:y.location,nextLocation:R}:P.has(R.pathname)&&(ue={currentLocation:R,nextLocation:y.location})}else if(A){let pe=P.get(y.location.pathname);pe?pe.add(R.pathname):(pe=new Set([R.pathname]),P.set(y.location.pathname,pe)),ue={currentLocation:y.location,nextLocation:R}}yt(Fe({},j,{actionData:J,loaderData:Z,historyAction:v,location:R,initialized:!0,navigation:uh,revalidation:"idle",restoreScrollPosition:Vl(R,j.matches||y.matches),preventScrollReset:ee,blockers:Q}),{viewTransitionOpts:ue,flushSync:ne===!0}),v=rt.Pop,T=!1,A=!1,Te=!1,at=!1,$n=[]}async function Oo(R,j){if(typeof R=="number"){t.history.go(R);return}let V=_f(y.location,y.matches,c,m.v7_prependBasename,R,m.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:B,submission:W,error:ne}=$y(m.v7_normalizeFormMethod,!1,V,j),re=y.location,J=Ja(y.location,B,j&&j.state);J=Fe({},J,t.history.encodeLocation(J));let Z=j&&j.replace!=null?j.replace:void 0,Q=rt.Push;Z===!0?Q=rt.Replace:Z===!1||W!=null&&jn(W.formMethod)&&W.formAction===y.location.pathname+y.location.search&&(Q=rt.Replace);let ee=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,ue=(j&&j.flushSync)===!0,pe=Or({currentLocation:re,nextLocation:J,historyAction:Q});if(pe){Us(pe,{state:"blocked",location:J,proceed(){Us(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Oo(R,j)},reset(){let tt=new Map(y.blockers);tt.set(pe,sa),yt({blockers:tt})}});return}return await Sn(Q,J,{submission:W,pendingError:ne,preventScrollReset:ee,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:ue})}function kd(){if(Si(),yt({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Sn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Sn(v||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:A===!0})}}async function Sn(R,j,V){I&&I.abort(),I=null,v=R,Te=(V&&V.startUninterruptedRevalidation)===!0,Fs(y.location,y.matches),T=(V&&V.preventScrollReset)===!0,A=(V&&V.enableViewTransition)===!0;let B=l||o,W=V&&V.overrideNavigation,ne=V!=null&&V.initialHydration&&y.matches&&y.matches.length>0&&!N?y.matches:Qs(B,j,c),re=(V&&V.flushSync)===!0;if(ne&&y.initialized&&!at&&U2(y.location,j)&&!(V&&V.submission&&jn(V.submission.formMethod))){Hn(j,{matches:ne},{flushSync:re});return}let J=Ai(ne,B,j.pathname);if(J.active&&J.matches&&(ne=J.matches),!ne){let{error:Ae,notFoundMatches:ge,route:De}=bi(j.pathname);Hn(j,{matches:ge,loaderData:{},errors:{[De.id]:Ae}},{flushSync:re});return}I=new AbortController;let Z=ji(t.history,j,I.signal,V&&V.submission),Q;if(V&&V.pendingError)Q=[Ys(ne).route.id,{type:Ne.error,error:V.pendingError}];else if(V&&V.submission&&jn(V.submission.formMethod)){let Ae=await Uo(Z,j,V.submission,ne,J.active,{replace:V.replace,flushSync:re});if(Ae.shortCircuited)return;if(Ae.pendingActionResult){let[ge,De]=Ae.pendingActionResult;if(sn(De)&&Za(De.error)&&De.error.status===404){I=null,Hn(j,{matches:Ae.matches,loaderData:{},errors:{[ge]:De.error}});return}}ne=Ae.matches||ne,Q=Ae.pendingActionResult,W=dh(j,V.submission),re=!1,J.active=!1,Z=ji(t.history,Z.url,Z.signal)}let{shortCircuited:ee,matches:ue,loaderData:pe,errors:tt}=await Cl(Z,j,ne,J.active,W,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,re,Q);ee||(I=null,Hn(j,Fe({matches:ue||ne},Jy(Q),{loaderData:pe,errors:tt})))}async function Uo(R,j,V,B,W,ne){ne===void 0&&(ne={}),Si();let re=H2(j,V);if(yt({navigation:re},{flushSync:ne.flushSync===!0}),W){let Q=await bn(B,j.pathname,R.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let ee=Ys(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[ee,{type:Ne.error,error:Q.error}]}}else if(Q.matches)B=Q.matches;else{let{notFoundMatches:ee,error:ue,route:pe}=bi(j.pathname);return{matches:ee,pendingActionResult:[pe.id,{type:Ne.error,error:ue}]}}}let J,Z=ha(B,j);if(!Z.route.action&&!Z.route.lazy)J={type:Ne.error,error:Gt(405,{method:R.method,pathname:j.pathname,routeId:Z.route.id})};else if(J=(await kn("action",y,R,[Z],B,null))[Z.route.id],R.signal.aborted)return{shortCircuited:!0};if(ei(J)){let Q;return ne&&ne.replace!=null?Q=ne.replace:Q=Ky(J.response.headers.get("Location"),new URL(R.url),c)===y.location.pathname+y.location.search,await hr(R,J,!0,{submission:V,replace:Q}),{shortCircuited:!0}}if(os(J))throw Gt(400,{type:"defer-action"});if(sn(J)){let Q=Ys(B,Z.route.id);return(ne&&ne.replace)!==!0&&(v=rt.Push),{matches:B,pendingActionResult:[Q.route.id,J]}}return{matches:B,pendingActionResult:[Z.route.id,J]}}async function Cl(R,j,V,B,W,ne,re,J,Z,Q,ee){let ue=W||dh(j,ne),pe=ne||re||tv(ue),tt=!Te&&(!m.v7_partialHydration||!Z);if(B){if(tt){let Le=ut(ee);yt(Fe({navigation:ue},Le!==void 0?{actionData:Le}:{}),{flushSync:Q})}let ye=await bn(V,j.pathname,R.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Le=Ys(ye.partialMatches).route.id;return{matches:ye.partialMatches,loaderData:{},errors:{[Le]:ye.error}}}else if(ye.matches)V=ye.matches;else{let{error:Le,notFoundMatches:fr,route:Br}=bi(j.pathname);return{matches:fr,loaderData:{},errors:{[Br.id]:Le}}}}let Ae=l||o,[ge,De]=Hy(t.history,y,V,pe,j,m.v7_partialHydration&&Z===!0,m.v7_skipActionErrorRevalidation,at,$n,qn,lt,qt,Se,Ae,c,ee);if(dt(ye=>!(V&&V.some(Le=>Le.route.id===ye))||ge&&ge.some(Le=>Le.route.id===ye)),le=++ie,ge.length===0&&De.length===0){let ye=Ni();return Hn(j,Fe({matches:V,loaderData:{},errors:ee&&sn(ee[1])?{[ee[0]]:ee[1].error}:null},Jy(ee),ye?{fetchers:new Map(y.fetchers)}:{}),{flushSync:Q}),{shortCircuited:!0}}if(tt){let ye={};if(!B){ye.navigation=ue;let Le=ut(ee);Le!==void 0&&(ye.actionData=Le)}De.length>0&&(ye.fetchers=Et(De)),yt(ye,{flushSync:Q})}De.forEach(ye=>{Ht(ye.key),ye.controller&&H.set(ye.key,ye.controller)});let Gn=()=>De.forEach(ye=>Ht(ye.key));I&&I.signal.addEventListener("abort",Gn);let{loaderResults:An,fetcherResults:Tt}=await Fo(y,V,ge,De,R);if(R.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Gn),De.forEach(ye=>H.delete(ye.key));let Wt=cc(An);if(Wt)return await hr(R,Wt.result,!0,{replace:J}),{shortCircuited:!0};if(Wt=cc(Tt),Wt)return Se.add(Wt.key),await hr(R,Wt.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:zo,errors:Fr}=Yy(y,V,An,ee,De,Tt,ct);ct.forEach((ye,Le)=>{ye.subscribe(fr=>{(fr||ye.done)&&ct.delete(Le)})}),m.v7_partialHydration&&Z&&y.errors&&(Fr=Fe({},y.errors,Fr));let Kn=Ni(),zs=Wn(le),zr=Kn||zs||De.length>0;return Fe({matches:V,loaderData:zo,errors:Fr},zr?{fetchers:new Map(y.fetchers)}:{})}function ut(R){if(R&&!sn(R[1]))return{[R[0]]:R[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Et(R){return R.forEach(j=>{let V=y.fetchers.get(j.key),B=ia(void 0,V?V.data:void 0);y.fetchers.set(j.key,B)}),new Map(y.fetchers)}function Ii(R,j,V,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ht(R);let W=(B&&B.flushSync)===!0,ne=l||o,re=_f(y.location,y.matches,c,m.v7_prependBasename,V,m.v7_relativeSplatPath,j,B==null?void 0:B.relative),J=Qs(ne,re,c),Z=Ai(J,ne,re);if(Z.active&&Z.matches&&(J=Z.matches),!J){Nn(R,j,Gt(404,{pathname:re}),{flushSync:W});return}let{path:Q,submission:ee,error:ue}=$y(m.v7_normalizeFormMethod,!0,re,B);if(ue){Nn(R,j,ue,{flushSync:W});return}let pe=ha(J,Q),tt=(B&&B.preventScrollReset)===!0;if(ee&&jn(ee.formMethod)){Nd(R,j,Q,pe,J,Z.active,W,tt,ee);return}qt.set(R,{routeId:j,path:Q}),Pl(R,j,Q,pe,J,Z.active,W,tt,ee)}async function Nd(R,j,V,B,W,ne,re,J,Z){Si(),qt.delete(R);function Q(We){if(!We.route.action&&!We.route.lazy){let Ut=Gt(405,{method:Z.formMethod,pathname:V,routeId:j});return Nn(R,j,Ut,{flushSync:re}),!0}return!1}if(!ne&&Q(B))return;let ee=y.fetchers.get(R);fn(R,W2(Z,ee),{flushSync:re});let ue=new AbortController,pe=ji(t.history,V,ue.signal,Z);if(ne){let We=await bn(W,new URL(pe.url).pathname,pe.signal,R);if(We.type==="aborted")return;if(We.type==="error"){Nn(R,j,We.error,{flushSync:re});return}else if(We.matches){if(W=We.matches,B=ha(W,V),Q(B))return}else{Nn(R,j,Gt(404,{pathname:V}),{flushSync:re});return}}H.set(R,ue);let tt=ie,ge=(await kn("action",y,pe,[B],W,R))[B.route.id];if(pe.signal.aborted){H.get(R)===ue&&H.delete(R);return}if(m.v7_fetcherPersist&&lt.has(R)){if(ei(ge)||sn(ge)){fn(R,Qr(void 0));return}}else{if(ei(ge))if(H.delete(R),le>tt){fn(R,Qr(void 0));return}else return Se.add(R),fn(R,ia(Z)),hr(pe,ge,!1,{fetcherSubmission:Z,preventScrollReset:J});if(sn(ge)){Nn(R,j,ge.error);return}}if(os(ge))throw Gt(400,{type:"defer-action"});let De=y.navigation.location||y.location,Gn=ji(t.history,De,ue.signal),An=l||o,Tt=y.navigation.state!=="idle"?Qs(An,y.navigation.location,c):y.matches;fe(Tt,"Didn't find any matches after fetcher action");let Wt=++ie;Ie.set(R,Wt);let zo=ia(Z,ge.data);y.fetchers.set(R,zo);let[Fr,Kn]=Hy(t.history,y,Tt,Z,De,!1,m.v7_skipActionErrorRevalidation,at,$n,qn,lt,qt,Se,An,c,[B.route.id,ge]);Kn.filter(We=>We.key!==R).forEach(We=>{let Ut=We.key,tn=y.fetchers.get(Ut),Bs=ia(void 0,tn?tn.data:void 0);y.fetchers.set(Ut,Bs),Ht(Ut),We.controller&&H.set(Ut,We.controller)}),yt({fetchers:new Map(y.fetchers)});let zs=()=>Kn.forEach(We=>Ht(We.key));ue.signal.addEventListener("abort",zs);let{loaderResults:zr,fetcherResults:ye}=await Fo(y,Tt,Fr,Kn,Gn);if(ue.signal.aborted)return;ue.signal.removeEventListener("abort",zs),Ie.delete(R),H.delete(R),Kn.forEach(We=>H.delete(We.key));let Le=cc(zr);if(Le)return hr(Gn,Le.result,!1,{preventScrollReset:J});if(Le=cc(ye),Le)return Se.add(Le.key),hr(Gn,Le.result,!1,{preventScrollReset:J});let{loaderData:fr,errors:Br}=Yy(y,Tt,zr,void 0,Kn,ye,ct);if(y.fetchers.has(R)){let We=Qr(ge.data);y.fetchers.set(R,We)}Wn(Wt),y.navigation.state==="loading"&&Wt>le?(fe(v,"Expected pending action"),I&&I.abort(),Hn(y.navigation.location,{matches:Tt,loaderData:fr,errors:Br,fetchers:new Map(y.fetchers)})):(yt({errors:Br,loaderData:Xy(y.loaderData,fr,Tt,Br),fetchers:new Map(y.fetchers)}),at=!1)}async function Pl(R,j,V,B,W,ne,re,J,Z){let Q=y.fetchers.get(R);fn(R,ia(Z,Q?Q.data:void 0),{flushSync:re});let ee=new AbortController,ue=ji(t.history,V,ee.signal);if(ne){let ge=await bn(W,new URL(ue.url).pathname,ue.signal,R);if(ge.type==="aborted")return;if(ge.type==="error"){Nn(R,j,ge.error,{flushSync:re});return}else if(ge.matches)W=ge.matches,B=ha(W,V);else{Nn(R,j,Gt(404,{pathname:V}),{flushSync:re});return}}H.set(R,ee);let pe=ie,Ae=(await kn("loader",y,ue,[B],W,R))[B.route.id];if(os(Ae)&&(Ae=await Jm(Ae,ue.signal,!0)||Ae),H.get(R)===ee&&H.delete(R),!ue.signal.aborted){if(lt.has(R)){fn(R,Qr(void 0));return}if(ei(Ae))if(le>pe){fn(R,Qr(void 0));return}else{Se.add(R),await hr(ue,Ae,!1,{preventScrollReset:J});return}if(sn(Ae)){Nn(R,j,Ae.error);return}fe(!os(Ae),"Unhandled fetcher deferred data"),fn(R,Qr(Ae.data))}}async function hr(R,j,V,B){let{submission:W,fetcherSubmission:ne,preventScrollReset:re,replace:J}=B===void 0?{}:B;j.response.headers.has("X-Remix-Revalidate")&&(at=!0);let Z=j.response.headers.get("Location");fe(Z,"Expected a Location header on the redirect Response"),Z=Ky(Z,new URL(R.url),c);let Q=Ja(y.location,Z,{_isRedirect:!0});if(n){let ge=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ge=!0;else if(Xm.test(Z)){const De=t.history.createURL(Z);ge=De.origin!==e.location.origin||Ar(De.pathname,c)==null}if(ge){J?e.location.replace(Z):e.location.assign(Z);return}}I=null;let ee=J===!0||j.response.headers.has("X-Remix-Replace")?rt.Replace:rt.Push,{formMethod:ue,formAction:pe,formEncType:tt}=y.navigation;!W&&!ne&&ue&&pe&&tt&&(W=tv(y.navigation));let Ae=W||ne;if(k2.has(j.response.status)&&Ae&&jn(Ae.formMethod))await Sn(ee,Q,{submission:Fe({},Ae,{formAction:Z}),preventScrollReset:re||T,enableViewTransition:V?A:void 0});else{let ge=dh(Q,W);await Sn(ee,Q,{overrideNavigation:ge,fetcherSubmission:ne,preventScrollReset:re||T,enableViewTransition:V?A:void 0})}}async function kn(R,j,V,B,W,ne){let re,J={};try{re=await D2(d,R,j,V,B,W,ne,i,s)}catch(Z){return B.forEach(Q=>{J[Q.route.id]={type:Ne.error,error:Z}}),J}for(let[Z,Q]of Object.entries(re))if(F2(Q)){let ee=Q.result;J[Z]={type:Ne.redirect,response:V2(ee,V,Z,W,c,m.v7_relativeSplatPath)}}else J[Z]=await M2(Q);return J}async function Fo(R,j,V,B,W){let ne=R.matches,re=kn("loader",R,W,V,j,null),J=Promise.all(B.map(async ee=>{if(ee.matches&&ee.match&&ee.controller){let pe=(await kn("loader",R,ji(t.history,ee.path,ee.controller.signal),[ee.match],ee.matches,ee.key))[ee.match.route.id];return{[ee.key]:pe}}else return Promise.resolve({[ee.key]:{type:Ne.error,error:Gt(404,{pathname:ee.path})}})})),Z=await re,Q=(await J).reduce((ee,ue)=>Object.assign(ee,ue),{});return await Promise.all([$2(j,Z,W.signal,ne,R.loaderData),q2(j,Q,B)]),{loaderResults:Z,fetcherResults:Q}}function Si(){at=!0,$n.push(...dt()),qt.forEach((R,j)=>{H.has(j)&&qn.add(j),Ht(j)})}function fn(R,j,V){V===void 0&&(V={}),y.fetchers.set(R,j),yt({fetchers:new Map(y.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Nn(R,j,V,B){B===void 0&&(B={});let W=Ys(y.matches,j);Vs(R),yt({errors:{[W.route.id]:V},fetchers:new Map(y.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function jl(R){return gt.set(R,(gt.get(R)||0)+1),lt.has(R)&&lt.delete(R),y.fetchers.get(R)||N2}function Vs(R){let j=y.fetchers.get(R);H.has(R)&&!(j&&j.state==="loading"&&Ie.has(R))&&Ht(R),qt.delete(R),Ie.delete(R),Se.delete(R),m.v7_fetcherPersist&&lt.delete(R),qn.delete(R),y.fetchers.delete(R)}function Dl(R){let j=(gt.get(R)||0)-1;j<=0?(gt.delete(R),lt.add(R),m.v7_fetcherPersist||Vs(R)):gt.set(R,j),yt({fetchers:new Map(y.fetchers)})}function Ht(R){let j=H.get(R);j&&(j.abort(),H.delete(R))}function ki(R){for(let j of R){let V=jl(j),B=Qr(V.data);y.fetchers.set(j,B)}}function Ni(){let R=[],j=!1;for(let V of Se){let B=y.fetchers.get(V);fe(B,"Expected fetcher: "+V),B.state==="loading"&&(Se.delete(V),R.push(V),j=!0)}return ki(R),j}function Wn(R){let j=[];for(let[V,B]of Ie)if(B<R){let W=y.fetchers.get(V);fe(W,"Expected fetcher: "+V),W.state==="loading"&&(Ht(V),Ie.delete(V),j.push(V))}return ki(j),j.length>0}function Ll(R,j){let V=y.blockers.get(R)||sa;return Rt.get(R)!==j&&Rt.set(R,j),V}function Os(R){y.blockers.delete(R),Rt.delete(R)}function Us(R,j){let V=y.blockers.get(R)||sa;fe(V.state==="unblocked"&&j.state==="blocked"||V.state==="blocked"&&j.state==="blocked"||V.state==="blocked"&&j.state==="proceeding"||V.state==="blocked"&&j.state==="unblocked"||V.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+j.state);let B=new Map(y.blockers);B.set(R,j),yt({blockers:B})}function Or(R){let{currentLocation:j,nextLocation:V,historyAction:B}=R;if(Rt.size===0)return;Rt.size>1&&go(!1,"A router only supports one blocker at a time");let W=Array.from(Rt.entries()),[ne,re]=W[W.length-1],J=y.blockers.get(ne);if(!(J&&J.state==="proceeding")&&re({currentLocation:j,nextLocation:V,historyAction:B}))return ne}function bi(R){let j=Gt(404,{pathname:R}),V=l||o,{matches:B,route:W}=Zy(V);return dt(),{notFoundMatches:B,route:W,error:j}}function dt(R){let j=[];return ct.forEach((V,B)=>{(!R||R(B))&&(V.cancel(),j.push(B),ct.delete(B))}),j}function Ml(R,j,V){if(b=R,C=j,k=V||null,!E&&y.navigation===uh){E=!0;let B=Vl(y.location,y.matches);B!=null&&yt({restoreScrollPosition:B})}return()=>{b=null,C=null,k=null}}function Ur(R,j){return k&&k(R,j.map(B=>s2(B,y.loaderData)))||R.key}function Fs(R,j){if(b&&C){let V=Ur(R,j);b[V]=C()}}function Vl(R,j){if(b){let V=Ur(R,j),B=b[V];if(typeof B=="number")return B}return null}function Ai(R,j,V){if(f)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:bc(j,V,c,!0)}}else return{active:!0,matches:bc(j,V,c,!0)||[]};return{active:!1,matches:null}}async function bn(R,j,V,B){if(!f)return{type:"success",matches:R};let W=R;for(;;){let ne=l==null,re=l||o,J=i;try{await f({signal:V,path:j,matches:W,fetcherKey:B,patch:(ee,ue)=>{V.aborted||Gy(ee,ue,re,J,s)}})}catch(ee){return{type:"error",error:ee,partialMatches:W}}finally{ne&&!V.aborted&&(o=[...o])}if(V.aborted)return{type:"aborted"};let Z=Qs(re,j,c);if(Z)return{type:"success",matches:Z};let Q=bc(re,j,c,!0);if(!Q||W.length===Q.length&&W.every((ee,ue)=>ee.route.id===Q[ue].route.id))return{type:"success",matches:null};W=Q}}function bd(R){i={},l=cu(R,s,void 0,i)}function Ad(R,j){let V=l==null;Gy(R,j,l||o,i,s),V&&(o=[...o],yt({}))}return q={get basename(){return c},get future(){return m},get state(){return y},get routes(){return o},get window(){return e},initialize:Rl,subscribe:Sd,enableScrollRestoration:Ml,navigate:Oo,fetch:Ii,revalidate:kd,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:jl,deleteFetcher:Dl,dispose:Id,getBlocker:Ll,deleteBlocker:Os,patchRoutes:Ad,_internalFetchControllers:H,_internalActiveDeferreds:ct,_internalSetRoutes:bd},q}function R2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function _f(t,e,n,r,s,i,o,l){let c,d;if(o){c=[];for(let m of e)if(c.push(m),m.route.id===o){d=m;break}}else c=e,d=e[e.length-1];let f=Yu(s||".",Qu(c,i),Ar(t.pathname,n)||t.pathname,l==="path");if(s==null&&(f.search=t.search,f.hash=t.hash),(s==null||s===""||s===".")&&d){let m=Zm(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(f.search),x=g.getAll("index");g.delete("index"),x.filter(k=>k).forEach(k=>g.append("index",k));let b=g.toString();f.search=b?"?"+b:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Er([n,f.pathname])),di(f)}function $y(t,e,n,r){if(!r||!R2(r))return{path:n};if(r.formMethod&&!B2(r.formMethod))return{path:n,error:Gt(405,{method:r.formMethod})};let s=()=>({path:n,error:Gt(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),l=hx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!jn(o))return s();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,b)=>{let[k,C]=b;return""+x+k+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!jn(o))return s();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return s()}}}fe(typeof FormData=="function","FormData is not available in this environment");let c,d;if(r.formData)c=xf(r.formData),d=r.formData;else if(r.body instanceof FormData)c=xf(r.body),d=r.body;else if(r.body instanceof URLSearchParams)c=r.body,d=Qy(c);else if(r.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(r.body),d=Qy(c)}catch{return s()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(jn(f.formMethod))return{path:n,submission:f};let m=js(n);return e&&m.search&&Zm(m.search)&&c.append("index",""),m.search="?"+c,{path:di(m),submission:f}}function qy(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(s=>s.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Hy(t,e,n,r,s,i,o,l,c,d,f,m,g,x,b,k){let C=k?sn(k[1])?k[1].error:k[1].data:void 0,E=t.createURL(e.location),_=t.createURL(s),N=n;i&&e.errors?N=qy(n,Object.keys(e.errors)[0],!0):k&&sn(k[1])&&(N=qy(n,k[0]));let M=k?k[1].statusCode:void 0,z=o&&M&&M>=400,q=N.filter((v,T)=>{let{route:I}=v;if(I.lazy)return!0;if(I.loader==null)return!1;if(i)return wf(I,e.loaderData,e.errors);if(C2(e.loaderData,e.matches[T],v)||c.some(S=>S===v.route.id))return!0;let A=e.matches[T],P=v;return Wy(v,Fe({currentUrl:E,currentParams:A.params,nextUrl:_,nextParams:P.params},r,{actionResult:C,actionStatus:M,defaultShouldRevalidate:z?!1:l||E.pathname+E.search===_.pathname+_.search||E.search!==_.search||ux(A,P)}))}),y=[];return m.forEach((v,T)=>{if(i||!n.some(Te=>Te.route.id===v.routeId)||f.has(T))return;let I=Qs(x,v.path,b);if(!I){y.push({key:T,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(T),P=ha(I,v.path),S=!1;g.has(T)?S=!1:d.has(T)?(d.delete(T),S=!0):A&&A.state!=="idle"&&A.data===void 0?S=l:S=Wy(P,Fe({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:M,defaultShouldRevalidate:z?!1:l})),S&&y.push({key:T,routeId:v.routeId,path:v.path,matches:I,match:P,controller:new AbortController})}),[q,y]}function wf(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function C2(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function ux(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Wy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Gy(t,e,n,r,s){var i;let o;if(t){let d=r[t];fe(d,"No route found to patch children into: routeId = "+t),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(f=>dx(d,f))),c=cu(l,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...c)}function dx(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>dx(n,i))}):!1}async function P2(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];fe(s,"No route found in manifest");let i={};for(let o in r){let c=s[o]!==void 0&&o!=="hasErrorBoundary";go(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!n2.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Fe({},e(s),{lazy:void 0}))}async function j2(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function D2(t,e,n,r,s,i,o,l,c,d){let f=i.map(x=>x.route.lazy?P2(x.route,c,l):void 0),m=i.map((x,b)=>{let k=f[b],C=s.some(_=>_.route.id===x.route.id);return Fe({},x,{shouldLoad:C,resolve:async _=>(_&&r.method==="GET"&&(x.route.lazy||x.route.loader)&&(C=!0),C?L2(e,r,x,k,_,d):Promise.resolve({type:Ne.data,result:void 0}))})}),g=await t({matches:m,request:r,params:i[0].params,fetcherKey:o,context:d});try{await Promise.all(f)}catch{}return g}async function L2(t,e,n,r,s,i){let o,l,c=d=>{let f,m=new Promise((b,k)=>f=k);l=()=>f(),e.signal.addEventListener("abort",l);let g=b=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:i},...b!==void 0?[b]:[]),x=(async()=>{try{return{type:"data",result:await(s?s(k=>g(k)):g())}}catch(b){return{type:"error",result:b}}})();return Promise.race([x,m])};try{let d=n.route[t];if(r)if(d){let f,[m]=await Promise.all([c(d).catch(g=>{f=g}),r]);if(f!==void 0)throw f;o=m}else if(await r,d=n.route[t],d)o=await c(d);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Gt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Ne.data,result:void 0};else if(d)o=await c(d);else{let f=new URL(e.url),m=f.pathname+f.search;throw Gt(404,{pathname:m})}fe(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Ne.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function M2(t){let{result:e,type:n}=t;if(fx(e)){let m;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(g){return{type:Ne.error,error:g}}return n===Ne.error?{type:Ne.error,error:new du(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:Ne.data,data:m,statusCode:e.status,headers:e.headers}}if(n===Ne.error){if(ev(e)){var r,s;if(e.data instanceof Error){var i,o;return{type:Ne.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Ne.error,error:new du(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Za(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Ne.error,error:e,statusCode:Za(e)?e.status:void 0}}if(z2(e)){var l,c;return{type:Ne.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}if(ev(e)){var d,f;return{type:Ne.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:Ne.data,data:e}}function V2(t,e,n,r,s,i){let o=t.headers.get("Location");if(fe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xm.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=_f(new URL(e.url),l,s,!0,o,i),t.headers.set("Location",o)}return t}function Ky(t,e,n){if(Xm.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Ar(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function ji(t,e,n,r){let s=t.createURL(hx(e)).toString(),i={signal:n};if(r&&jn(r.formMethod)){let{formMethod:o,formEncType:l}=r;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(r.json)):l==="text/plain"?i.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?i.body=xf(r.formData):i.body=r.formData}return new Request(s,i)}function xf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Qy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function O2(t,e,n,r,s){let i={},o=null,l,c=!1,d={},f=n&&sn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,x=e[g];if(fe(!ei(x),"Cannot handle redirect results in processLoaderData"),sn(x)){let b=x.error;f!==void 0&&(b=f,f=void 0),o=o||{};{let k=Ys(t,g);o[k.route.id]==null&&(o[k.route.id]=b)}i[g]=void 0,c||(c=!0,l=Za(x.error)?x.error.status:500),x.headers&&(d[g]=x.headers)}else os(x)?(r.set(g,x.deferredData),i[g]=x.deferredData.data,x.statusCode!=null&&x.statusCode!==200&&!c&&(l=x.statusCode),x.headers&&(d[g]=x.headers)):(i[g]=x.data,x.statusCode&&x.statusCode!==200&&!c&&(l=x.statusCode),x.headers&&(d[g]=x.headers))}),f!==void 0&&n&&(o={[n[0]]:f},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:d}}function Yy(t,e,n,r,s,i,o){let{loaderData:l,errors:c}=O2(e,n,r,o);return s.forEach(d=>{let{key:f,match:m,controller:g}=d,x=i[f];if(fe(x,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(sn(x)){let b=Ys(t.matches,m==null?void 0:m.route.id);c&&c[b.route.id]||(c=Fe({},c,{[b.route.id]:x.error})),t.fetchers.delete(f)}else if(ei(x))fe(!1,"Unhandled fetcher revalidation redirect");else if(os(x))fe(!1,"Unhandled fetcher deferred data");else{let b=Qr(x.data);t.fetchers.set(f,b)}}),{loaderData:l,errors:c}}function Xy(t,e,n,r){let s=Fe({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Jy(t){return t?sn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ys(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Zy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Gt(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",s&&n&&r?c="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?c="defer() is not supported in actions":i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",c='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",s&&n&&r?c="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new du(t||500,l,new Error(c),!0)}function cc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(ei(s))return{key:r,result:s}}}function hx(t){let e=typeof t=="string"?js(t):t;return di(Fe({},e,{hash:""}))}function U2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function F2(t){return fx(t.result)&&S2.has(t.result.status)}function os(t){return t.type===Ne.deferred}function sn(t){return t.type===Ne.error}function ei(t){return(t&&t.type)===Ne.redirect}function ev(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function z2(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function fx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function B2(t){return I2.has(t.toLowerCase())}function jn(t){return E2.has(t.toLowerCase())}async function $2(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[l,c]=i[o],d=t.find(g=>(g==null?void 0:g.route.id)===l);if(!d)continue;let f=r.find(g=>g.route.id===d.route.id),m=f!=null&&!ux(f,d)&&(s&&s[d.route.id])!==void 0;os(c)&&m&&await Jm(c,n,!1).then(g=>{g&&(e[l]=g)})}}async function q2(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],l=e[s];t.find(d=>(d==null?void 0:d.route.id)===i)&&os(l)&&(fe(o,"Expected an AbortController for revalidating fetcher deferred result"),await Jm(l,o.signal,!0).then(d=>{d&&(e[s]=d)}))}}async function Jm(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ne.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Ne.error,error:s}}return{type:Ne.data,data:t.deferredData.data}}}function Zm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ha(t,e){let n=typeof e=="string"?js(e).search:e.search;if(t[t.length-1].route.index&&Zm(n||""))return t[t.length-1];let r=ax(t);return r[r.length-1]}function tv(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function dh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function H2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ia(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function W2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Qr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function G2(t,e){try{let n=t.sessionStorage.getItem(cx);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function K2(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(cx,JSON.stringify(n))}catch(r){go(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}const yl=L.createContext(null),ep=L.createContext(null),Lr=L.createContext(null),tp=L.createContext(null),ur=L.createContext({outlet:null,matches:[],isDataRoute:!1}),mx=L.createContext(null);function Q2(t,e){let{relative:n}=e===void 0?{}:e;Ao()||fe(!1);let{basename:r,navigator:s}=L.useContext(Lr),{hash:i,pathname:o,search:l}=Xu(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Er([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Ao(){return L.useContext(tp)!=null}function dr(){return Ao()||fe(!1),L.useContext(tp).location}function px(t){L.useContext(Lr).static||L.useLayoutEffect(t)}function zn(){let{isDataRoute:t}=L.useContext(ur);return t?uk():Y2()}function Y2(){Ao()||fe(!1);let t=L.useContext(yl),{basename:e,future:n,navigator:r}=L.useContext(Lr),{matches:s}=L.useContext(ur),{pathname:i}=dr(),o=JSON.stringify(Qu(s,n.v7_relativeSplatPath)),l=L.useRef(!1);return px(()=>{l.current=!0}),L.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Yu(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Er([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,i,t])}const X2=L.createContext(null);function J2(t){let e=L.useContext(ur).outlet;return e&&L.createElement(X2.Provider,{value:t},e)}function Z2(){let{matches:t}=L.useContext(ur),e=t[t.length-1];return e?e.params:{}}function Xu(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(Lr),{matches:s}=L.useContext(ur),{pathname:i}=dr(),o=JSON.stringify(Qu(s,r.v7_relativeSplatPath));return L.useMemo(()=>Yu(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function ek(t,e,n,r){Ao()||fe(!1);let{navigator:s}=L.useContext(Lr),{matches:i}=L.useContext(ur),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=dr(),f;f=d;let m=f.pathname||"/",g=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Qs(t,{pathname:g});return ik(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Er([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Er([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r)}function tk(){let t=ck(),e=Za(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const nk=L.createElement(tk,null);class rk extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(ur.Provider,{value:this.props.routeContext},L.createElement(mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sk(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(yl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(ur.Provider,{value:e},r)}function ik(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||fe(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:x}=n,b=m.route.loader&&g[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let x,b=!1,k=null,C=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,k=m.route.errorElement||nk,c&&(d<0&&g===0?(dk("route-fallback"),b=!0,C=null):d===g&&(b=!0,C=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),_=()=>{let N;return x?N=k:b?N=C:m.route.Component?N=L.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=f,L.createElement(sk,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?L.createElement(rk,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var gx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gx||{}),yx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yx||{});function ok(t){let e=L.useContext(yl);return e||fe(!1),e}function ak(t){let e=L.useContext(ep);return e||fe(!1),e}function lk(t){let e=L.useContext(ur);return e||fe(!1),e}function vx(t){let e=lk(),n=e.matches[e.matches.length-1];return n.route.id||fe(!1),n.route.id}function ck(){var t;let e=L.useContext(mx),n=ak(yx.UseRouteError),r=vx();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uk(){let{router:t}=ok(gx.UseNavigateStable),e=vx(),n=L.useRef(!1);return px(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hu({fromRouteId:e},i)))},[t,e])}const nv={};function dk(t,e,n){nv[t]||(nv[t]=!0)}function hk(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function rv(t){let{to:e,replace:n,state:r,relative:s}=t;Ao()||fe(!1);let{future:i,static:o}=L.useContext(Lr),{matches:l}=L.useContext(ur),{pathname:c}=dr(),d=zn(),f=Yu(e,Qu(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(f);return L.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function fk(t){return J2(t.context)}function mk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=rt.Pop,navigator:i,static:o=!1,future:l}=t;Ao()&&fe(!1);let c=e.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:i,static:o,future:hu({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=js(r));let{pathname:f="/",search:m="",hash:g="",state:x=null,key:b="default"}=r,k=L.useMemo(()=>{let C=Ar(f,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:x,key:b},navigationType:s}},[c,f,m,g,x,b,s]);return k==null?null:L.createElement(Lr.Provider,{value:d},L.createElement(tp.Provider,{children:n,value:k}))}new Promise(()=>{});function pk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yo.apply(this,arguments)}function _x(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function gk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yk(t,e){return t.button===0&&(!e||e==="_self")&&!gk(t)}function Ef(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function vk(t,e){let n=Ef(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const _k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wk=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xk="6";try{window.__reactRouterVersion=xk}catch{}function Ek(t,e){return A2({basename:void 0,future:yo({},void 0,{v7_prependBasename:!0}),history:ZS({window:void 0}),hydrationData:Tk(),routes:t,mapRouteProperties:pk,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Tk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=yo({},e,{errors:Ik(e.errors)})),e}function Ik(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new du(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const wx=L.createContext({isTransitioning:!1}),Sk=L.createContext(new Map),kk="startTransition",sv=FT[kk],Nk="flushSync",iv=JS[Nk];function bk(t){sv?sv(t):t()}function oa(t){iv?iv(t):t()}let Ak=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Rk(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=L.useState(n.state),[o,l]=L.useState(),[c,d]=L.useState({isTransitioning:!1}),[f,m]=L.useState(),[g,x]=L.useState(),[b,k]=L.useState(),C=L.useRef(new Map),{v7_startTransition:E}=r||{},_=L.useCallback(v=>{E?bk(v):v()},[E]),N=L.useCallback((v,T)=>{let{deletedFetchers:I,flushSync:A,viewTransitionOpts:P}=T;v.fetchers.forEach((Te,at)=>{Te.data!==void 0&&C.current.set(at,Te.data)}),I.forEach(Te=>C.current.delete(Te));let S=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!P||S){A?oa(()=>i(v)):_(()=>i(v));return}if(A){oa(()=>{g&&(f&&f.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let Te=n.window.document.startViewTransition(()=>{oa(()=>i(v))});Te.finished.finally(()=>{oa(()=>{m(void 0),x(void 0),l(void 0),d({isTransitioning:!1})})}),oa(()=>x(Te));return}g?(f&&f.resolve(),g.skipTransition(),k({state:v,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(l(v),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,g,f,C,_]);L.useLayoutEffect(()=>n.subscribe(N),[n,N]),L.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new Ak)},[c]),L.useEffect(()=>{if(f&&o&&n.window){let v=o,T=f.promise,I=n.window.document.startViewTransition(async()=>{_(()=>i(v)),await T});I.finished.finally(()=>{m(void 0),x(void 0),l(void 0),d({isTransitioning:!1})}),x(I)}},[_,o,f,n.window]),L.useEffect(()=>{f&&o&&s.location.key===o.location.key&&f.resolve()},[f,g,s.location,o]),L.useEffect(()=>{!c.isTransitioning&&b&&(l(b.state),d({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),k(void 0))},[c.isTransitioning,b]),L.useEffect(()=>{},[]);let M=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,T,I)=>n.navigate(v,{state:T,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(v,T,I)=>n.navigate(v,{replace:!0,state:T,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),z=n.basename||"/",q=L.useMemo(()=>({router:n,navigator:M,static:!1,basename:z}),[n,M,z]),y=L.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return L.useEffect(()=>hk(r,n.future),[r,n.future]),L.createElement(L.Fragment,null,L.createElement(yl.Provider,{value:q},L.createElement(ep.Provider,{value:s},L.createElement(Sk.Provider,{value:C.current},L.createElement(wx.Provider,{value:c},L.createElement(mk,{basename:z,location:s.location,navigationType:s.historyAction,navigator:M,future:y},s.initialized||n.future.v7_partialHydration?L.createElement(Ck,{routes:n.routes,future:n.future,state:s}):e))))),null)}const Ck=L.memo(Pk);function Pk(t){let{routes:e,future:n,state:r}=t;return ek(e,void 0,r,n)}const jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=L.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m}=e,g=_x(e,_k),{basename:x}=L.useContext(Lr),b,k=!1;if(typeof d=="string"&&Dk.test(d)&&(b=d,jk))try{let N=new URL(window.location.href),M=d.startsWith("//")?new URL(N.protocol+d):new URL(d),z=Ar(M.pathname,x);M.origin===N.origin&&z!=null?d=z+M.search+M.hash:k=!0}catch{}let C=Q2(d,{relative:s}),E=Mk(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:m});function _(N){r&&r(N),N.defaultPrevented||E(N)}return L.createElement("a",yo({},g,{href:b||C,onClick:k||i?r:_,ref:n,target:c}))}),ov=L.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:f}=e,m=_x(e,wk),g=Xu(c,{relative:m.relative}),x=dr(),b=L.useContext(ep),{navigator:k,basename:C}=L.useContext(Lr),E=b!=null&&Vk(g)&&d===!0,_=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,N=x.pathname,M=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(N=N.toLowerCase(),M=M?M.toLowerCase():null,_=_.toLowerCase()),M&&C&&(M=Ar(M,C)||M);const z=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let q=N===_||!o&&N.startsWith(_)&&N.charAt(z)==="/",y=M!=null&&(M===_||!o&&M.startsWith(_)&&M.charAt(_.length)==="/"),v={isActive:q,isPending:y,isTransitioning:E},T=q?r:void 0,I;typeof i=="function"?I=i(v):I=[i,q?"active":null,y?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(v):l;return L.createElement(Ze,yo({},m,{"aria-current":T,className:I,ref:n,style:A,to:c,viewTransition:d}),typeof f=="function"?f(v):f)});var Tf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tf||(Tf={}));var av;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(av||(av={}));function Lk(t){let e=L.useContext(yl);return e||fe(!1),e}function Mk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=zn(),d=dr(),f=Xu(t,{relative:o});return L.useCallback(m=>{if(yk(m,n)){m.preventDefault();let g=r!==void 0?r:di(d)===di(f);c(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,r,s,n,t,i,o,l])}function np(t){let e=L.useRef(Ef(t)),n=L.useRef(!1),r=dr(),s=L.useMemo(()=>vk(r.search,n.current?null:e.current),[r.search]),i=zn(),o=L.useCallback((l,c)=>{const d=Ef(typeof l=="function"?l(s):l);n.current=!0,i("?"+d,c)},[i,s]);return[s,o]}function Vk(t,e){e===void 0&&(e={});let n=L.useContext(wx);n==null&&fe(!1);let{basename:r}=Lk(Tf.useViewTransitionState),s=Xu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uu(s.pathname,o)!=null||uu(s.pathname,i)!=null}const Ok=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Uk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ex={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|d>>6,x=d&63;c||(x=64,o||(g=64)),r.push(n[f],n[m],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new Fk;const g=i<<2|l>>4;if(r.push(g),d!==64){const x=l<<4&240|d>>2;if(r.push(x),m!==64){const b=d<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zk=function(t){const e=xx(t);return Ex.encodeByteArray(e,!0)},fu=function(t){return zk(t).replace(/\./g,"")},Tx=function(t){try{return Ex.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=()=>Bk().__FIREBASE_DEFAULTS__,qk=()=>{if(typeof process>"u"||typeof lv>"u")return;const t=lv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tx(t[1]);return e&&JSON.parse(e)},Ju=()=>{try{return Ok()||$k()||qk()||Hk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ix=t=>{var e,n;return(n=(e=Ju())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Wk=t=>{const e=Ix(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sx=()=>{var t;return(t=Ju())==null?void 0:t.config},kx=t=>{var e;return(e=Ju())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fu(JSON.stringify(n)),fu(JSON.stringify(o)),""].join(".")}const ba={};function Qk(){const t={prod:[],emulator:[]};for(const e of Object.keys(ba))ba[e]?t.emulator.push(e):t.prod.push(e);return t}function Yk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cv=!1;function bx(t,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||ba[t]===e||ba[t]||cv)return;ba[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=Qk().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{cv=!0,o()},g}function f(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Yk(r),x=n("text"),b=document.getElementById(x)||document.createElement("span"),k=n("learnmore"),C=document.getElementById(k)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),f(C,k);const M=d();c(_,E),N.append(_,b,C,M),document.body.appendChild(N)}i?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Jk(){var e;const t=(e=Ju())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nN(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rN(){return!Jk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sN(){try{return typeof indexedDB=="object"}catch{return!1}}function iN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oN,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aN(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,l,r)}}function aN(t,e){return t.replace(lN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lN=/\{\$([^}]+)}/g;function cN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uv(i)&&uv(o)){if(!hi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uN(t,e){const n=new dN(t,e);return n.subscribe.bind(n)}class dN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hh),s.error===void 0&&(s.error=hh),s.complete===void 0&&(s.complete=hh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pN(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mN(t){return t===Ks?void 0:t}function pN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const yN={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},vN=ve.INFO,_N={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},wN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_N[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=vN,this._logHandler=wN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const xN=(t,e)=>e.some(n=>t instanceof n);let dv,hv;function EN(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TN(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,If=new WeakMap,Rx=new WeakMap,fh=new WeakMap,sp=new WeakMap;function IN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ax.set(n,t)}).catch(()=>{}),sp.set(e,t),e}function SN(t){if(If.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});If.set(t,e)}let Sf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return If.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kN(t){Sf=t(Sf)}function NN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mh(this),e,...n);return Rx.set(r,e.sort?e.sort():[e]),gs(r)}:TN().includes(t)?function(...e){return t.apply(mh(this),e),gs(Ax.get(this))}:function(...e){return gs(t.apply(mh(this),e))}}function bN(t){return typeof t=="function"?NN(t):(t instanceof IDBTransaction&&SN(t),xN(t,EN())?new Proxy(t,Sf):t)}function gs(t){if(t instanceof IDBRequest)return IN(t);if(fh.has(t))return fh.get(t);const e=bN(t);return e!==t&&(fh.set(t,e),sp.set(e,t)),e}const mh=t=>sp.get(t);function AN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=gs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(gs(o.result),c.oldVersion,c.newVersion,gs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const RN=["get","getKey","getAll","getAllKeys","count"],CN=["put","add","delete","clear"],ph=new Map;function fv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ph.get(e))return ph.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RN.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return ph.set(e,i),i}kN(t=>({...t,get:(e,n,r)=>fv(e,n)||t.get(e,n,r),has:(e,n)=>!!fv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",mv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new rp("@firebase/app"),DN="@firebase/app-compat",LN="@firebase/analytics-compat",MN="@firebase/analytics",VN="@firebase/app-check-compat",ON="@firebase/app-check",UN="@firebase/auth",FN="@firebase/auth-compat",zN="@firebase/database",BN="@firebase/data-connect",$N="@firebase/database-compat",qN="@firebase/functions",HN="@firebase/functions-compat",WN="@firebase/installations",GN="@firebase/installations-compat",KN="@firebase/messaging",QN="@firebase/messaging-compat",YN="@firebase/performance",XN="@firebase/performance-compat",JN="@firebase/remote-config",ZN="@firebase/remote-config-compat",eb="@firebase/storage",tb="@firebase/storage-compat",nb="@firebase/firestore",rb="@firebase/ai",sb="@firebase/firestore-compat",ib="firebase",ob="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",ab={[kf]:"fire-core",[DN]:"fire-core-compat",[MN]:"fire-analytics",[LN]:"fire-analytics-compat",[ON]:"fire-app-check",[VN]:"fire-app-check-compat",[UN]:"fire-auth",[FN]:"fire-auth-compat",[zN]:"fire-rtdb",[BN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[qN]:"fire-fn",[HN]:"fire-fn-compat",[WN]:"fire-iid",[GN]:"fire-iid-compat",[KN]:"fire-fcm",[QN]:"fire-fcm-compat",[YN]:"fire-perf",[XN]:"fire-perf-compat",[JN]:"fire-rc",[ZN]:"fire-rc-compat",[eb]:"fire-gcs",[tb]:"fire-gcs-compat",[nb]:"fire-fst",[sb]:"fire-fst-compat",[rb]:"fire-vertex","fire-js":"fire-js",[ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,lb=new Map,bf=new Map;function pv(t,e){try{t.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(bf.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,t);for(const n of mu.values())pv(n,t);for(const n of lb.values())pv(n,t);return!0}function ip(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new vl("app","Firebase",cb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=ob;function Cx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Nf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=Sx()),!n)throw ys.create("no-options");const i=mu.get(s);if(i){if(hi(n,i.options)&&hi(r,i.config))return i;throw ys.create("duplicate-app",{appName:s})}const o=new gN(s);for(const c of bf.values())o.addComponent(c);const l=new ub(n,r,o);return mu.set(s,l),l}function Px(t=Nf){const e=mu.get(t);if(!e&&t===Nf&&Sx())return Cx();if(!e)throw ys.create("no-app",{appName:t});return e}function vs(t,e,n){let r=ab[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(o.join(" "));return}vo(new fi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebase-heartbeat-database",hb=1,el="firebase-heartbeat-store";let gh=null;function jx(){return gh||(gh=AN(db,hb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(el)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),gh}async function fb(t){try{const n=(await jx()).transaction(el),r=await n.objectStore(el).get(Dx(t));return await n.done,r}catch(e){if(e instanceof Mr)Rr.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(n.message)}}}async function gv(t,e){try{const r=(await jx()).transaction(el,"readwrite");await r.objectStore(el).put(e,Dx(t)),await r.done}catch(n){if(n instanceof Mr)Rr.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=1024,pb=30;class gb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>pb){const o=_b(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yv(),{heartbeatsToSend:r,unsentEntries:s}=yb(this._heartbeatsCache.heartbeats),i=fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rr.warn(n),""}}}function yv(){return new Date().toISOString().substring(0,10)}function yb(t,e=mb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),vv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sN()?iN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vv(t){return fu(JSON.stringify({version:2,heartbeats:t})).length}function _b(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){vo(new fi("platform-logger",e=>new PN(e),"PRIVATE")),vo(new fi("heartbeat",e=>new gb(e),"PRIVATE")),vs(kf,mv,t),vs(kf,mv,"esm2020"),vs("fire-js","")}wb("");function Lx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xb=Lx,Mx=new vl("auth","Firebase",Lx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new rp("@firebase/auth");function Eb(t,...e){pu.logLevel<=ve.WARN&&pu.warn(`Auth (${Co}): ${t}`,...e)}function Ac(t,...e){pu.logLevel<=ve.ERROR&&pu.error(`Auth (${Co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw op(t,...e)}function nr(t,...e){return op(t,...e)}function Vx(t,e,n){const r={...xb(),[e]:n};return new vl("auth","Firebase",r).create(e,{appName:t.name})}function Tr(t){return Vx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mx.create(t,...e)}function te(t,e,...n){if(!t)throw op(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Cr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Tb(){return _v()==="http:"||_v()==="https:"}function _v(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tb()||eN()||"connection"in navigator)?navigator.onLine:!0}function Sb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Xk()||tN()}get(){return Ib()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bb=new wl(3e4,6e4);function Bn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function In(t,e,n,r,s={}){return Ux(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=_l({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return Zk()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ro(t.emulatorConfig.host)&&(d.credentials="include"),Ox.fetch()(await Fx(t,t.config.apiHost,n,l),d)})}async function Ux(t,e,n){t._canInitEmulator=!1;const r={...kb,...e};try{const s=new Rb(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw uc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vx(t,f,d);Tn(t,f)}}catch(s){if(s instanceof Mr)throw s;Tn(t,"network-request-failed",{message:String(s)})}}async function xl(t,e,n,r,s={}){const i=await In(t,e,n,r,s);return"mfaPendingCredential"in i&&Tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Fx(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?ap(t.config,s):`${t.config.apiScheme}://${s}`;return Nb.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Ab(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),bb.get())})}}function uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=nr(t,e,r);return s.customData._tokenResponse=n,s}function wv(t){return t!==void 0&&t.enterprise!==void 0}class Cb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ab(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pb(t,e){return In(t,"GET","/v2/recaptchaConfig",Bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e){return In(t,"POST","/v1/accounts:delete",e)}async function gu(t,e){return In(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Db(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),s=lp(r);te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Aa(yh(s.auth_time)),issuedAtTime:Aa(yh(s.iat)),expirationTime:Aa(yh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function yh(t){return Number(t)*1e3}function lp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const s=Tx(n);return s?JSON.parse(s):(Ac("Failed to decode base64 JWT payload"),null)}catch(s){return Ac("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xv(t){const e=lp(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&Lb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Lb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){var m;const e=t.auth,n=await t.getIdToken(),r=await _o(t,gu(e,{idToken:n}));te(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?zx(s.providerUserInfo):[],o=Vb(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Rf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function cp(t){const e=Ye(t);await yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vb(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function zx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(t,e){const n=await Ux(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Fx(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ro(t.emulatorConfig.host)&&(c.credentials="include"),Ox.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ub(t,e){return In(t,"POST","/v2/accounts:revokeToken",Bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Ob(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ro;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ln{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Mb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Db(this,e)}reload(){return cp(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Tr(this.auth));const e=await this.getIdToken();return await _o(this,jb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:x,providerData:b,stsTokenManager:k}=n;te(m&&k,e,"internal-error");const C=ro.fromJSON(this.name,k);te(typeof m=="string",e,"internal-error"),Kr(r,e.name),Kr(s,e.name),te(typeof g=="boolean",e,"internal-error"),te(typeof x=="boolean",e,"internal-error"),Kr(i,e.name),Kr(o,e.name),Kr(l,e.name),Kr(c,e.name),Kr(d,e.name),Kr(f,e.name);const E=new Ln({uid:m,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:C,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(E.providerData=b.map(_=>({..._}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new ro;s.updateFromServerResponse(n);const i=new Ln({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?zx(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ro;l.updateFromIdToken(r);const c=new Ln({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Rf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;function _r(t){Cr(t instanceof Function,"Expected a class definition");let e=Ev.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ev.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bx.type="NONE";const Tv=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gu(this.auth,{idToken:e}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(_r(Tv),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||_r(Tv);const o=Rc(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const g=await gu(e,{idToken:f}).catch(()=>{});if(!g)break;m=await Ln._fromGetAccountInfoResponse(e,g,f)}else m=Ln._fromJSON(e,f);d!==i&&(l=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new so(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new so(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(Qx(e))return"Webos";if(qx(e))return"Safari";if((e.includes("chrome/")||Hx(e))&&!e.includes("edge/"))return"Chrome";if(Gx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $x(t=Ot()){return/firefox\//i.test(t)}function qx(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hx(t=Ot()){return/crios\//i.test(t)}function Wx(t=Ot()){return/iemobile/i.test(t)}function Gx(t=Ot()){return/android/i.test(t)}function Kx(t=Ot()){return/blackberry/i.test(t)}function Qx(t=Ot()){return/webos/i.test(t)}function up(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fb(t=Ot()){var e;return up(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zb(){return nN()&&document.documentMode===10}function Yx(t=Ot()){return up(t)||Gx(t)||Qx(t)||Kx(t)||/windows phone/i.test(t)||Wx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e=[]){let n;switch(t){case"Browser":n=Iv(Ot());break;case"Worker":n=`${Iv(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e={}){return In(t,"GET","/v2/passwordPolicy",Bn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=6;class Hb{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new Bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gu(this,{idToken:e}),r=await Ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(Tr(this));const n=e?Ye(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $b(this),n=new Hb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ub(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Eb(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ds(t){return Ye(t)}class Sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=uN(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gb(t){Zu=t}function Jx(t){return Zu.loadJS(t)}function Kb(){return Zu.recaptchaEnterpriseScript}function Qb(){return Zu.gapiScript}function Yb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Xb{constructor(){this.enterprise=new Jb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Jb{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Zb="recaptcha-enterprise",Zx="NO_RECAPTCHA";class eA{constructor(e){this.type=Zb,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Pb(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Cb(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;wv(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(Zx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xb().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&wv(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Kb();c.length!==0&&(c+=l),Jx(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function kv(t,e,n,r=!1,s=!1){const i=new eA(t);let o;if(s)o=Zx;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Cf(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await kv(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){const n=ip(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hi(i,e??{}))return s;Tn(s,"already-initialized")}return n.initialize({options:e})}function nA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rA(t,e,n){const r=Ds(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=e1(e),{host:o,port:l}=sA(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(hi(d,r.config.emulator)&&hi(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Ro(o)?(Nx(`${i}//${o}${c}`),bx("Auth",!0)):iA()}function e1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sA(t){const e=e1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Nv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Nv(o)}}}function Nv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e){return In(t,"POST","/v1/accounts:resetPassword",Bn(t,e))}async function aA(t,e){return In(t,"POST","/v1/accounts:signUp",e)}async function lA(t,e){return In(t,"POST","/v1/accounts:update",Bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(t,e){return xl(t,"POST","/v1/accounts:signInWithPassword",Bn(t,e))}async function uA(t,e){return In(t,"POST","/v1/accounts:sendOobCode",Bn(t,e))}async function dA(t,e){return uA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",Bn(t,e))}async function fA(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",Bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends dp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,n,"signInWithPassword",cA);case"emailLink":return hA(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,r,"signUpPassword",aA);case"emailLink":return fA(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t,e){return xl(t,"POST","/v1/accounts:signInWithIdp",Bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="http://localhost";class mi extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new mi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:mA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gA(t){const e=fa(ma(t)).link,n=e?fa(ma(e)).deep_link_id:null,r=fa(ma(t)).deep_link_id;return(r?fa(ma(r)).link:null)||r||n||e||t}class hp{constructor(e){const n=fa(ma(e)),r=n.apiKey??null,s=n.oobCode??null,i=pA(n.mode??null);te(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gA(e);try{return new hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return tl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hp.parseLink(n);return te(r,"argument-error"),tl._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends El{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends El{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends El{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(t,e){return xl(t,"POST","/v1/accounts:signUp",Bn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ln._fromIdTokenResponse(e,r,s),o=bv(r);return new pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=bv(r);return new pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vu(e,n,r,s)}}function n1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vu._fromErrorAndOperation(t,i,e,r):i})}async function vA(t,e,n=!1){const r=await _o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(t,e,n=!1){const{auth:r}=t;if(gn(r.app))return Promise.reject(Tr(r));const s="reauthenticate";try{const i=await _o(t,n1(r,s,e,t),n);te(i.idToken,r,"internal-error");const o=lp(i.idToken);te(o,r,"internal-error");const{sub:l}=o;return te(t.uid===l,r,"user-mismatch"),pi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e,n=!1){if(gn(t.app))return Promise.reject(Tr(t));const r="signIn",s=await n1(t,r,e),i=await pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function wA(t,e){return r1(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?mp._fromServerResponse(e,n):"totpInfo"in n?pp._fromServerResponse(e,n):Tn(e,"internal-error")}}class mp extends fp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new mp(n)}}class pp extends fp{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new pp(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){var r;te(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),te(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i1(t,e){await lA(Ye(t),{oobCode:e})}async function o1(t,e){const n=Ye(t),r=await oA(n,{oobCode:e}),s=r.requestType;switch(te(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(r.mfaInfo,n,"internal-error");default:te(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=fp._fromServerResponse(Ds(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:i},operation:s}}async function EA(t,e,n){if(gn(t.app))return Promise.reject(Tr(t));const r=Ds(t),o=await Cf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yA).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&s1(t),c}),l=await pi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function Pf(t,e,n){return gn(t.app)?Promise.reject(Tr(t)):wA(Ye(t),Po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s1(t),r})}async function gp(t,e){const n=Ye(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&xA(n.auth,s,e);const{email:i}=await dA(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e){return In(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ye(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await _o(r,TA(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function SA(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function kA(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function a1(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function Ra(t){return Ye(t).signOut()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=1e3,bA=10;class c1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);zb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const AA=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}u1.type="SESSION";const d1=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await RA(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=yp("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function PA(t){rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function jA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function LA(){return h1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebaseLocalStorageDb",MA=1,wu="firebaseLocalStorage",m1="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(t,e){return t.transaction([wu],e?"readwrite":"readonly").objectStore(wu)}function VA(){const t=indexedDB.deleteDatabase(f1);return new Tl(t).toPromise()}function jf(){const t=indexedDB.open(f1,MA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wu,{keyPath:m1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wu)?e(r):(r.close(),await VA(),e(await jf()))})})}async function Av(t,e,n){const r=td(t,!0).put({[m1]:e,value:n});return new Tl(r).toPromise()}async function OA(t,e){const n=td(t,!1).get(e),r=await new Tl(n).toPromise();return r===void 0?null:r.value}function Rv(t,e){const n=td(t,!0).delete(e);return new Tl(n).toPromise()}const UA=800,FA=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(LA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await jA(),!this.activeServiceWorker)return;this.sender=new CA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jf();return await Av(e,_u,"1"),await Rv(e,_u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Av(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=td(s,!1).getAll();return new Tl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const zA=p1;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){return e?_r(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $A(t){return r1(t.auth,new vp(t),t.bypassAuthState)}function qA(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),_A(n,new vp(t),t.bypassAuthState)}async function HA(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),vA(n,new vp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $A;case"linkViaPopup":case"linkViaRedirect":return HA;case"reauthViaPopup":case"reauthViaRedirect":return qA;default:Tn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new wl(2e3,1e4);class Yi extends g1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WA.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="pendingRedirect",Cc=new Map;class KA extends g1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await QA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QA(t,e){const n=JA(e),r=XA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YA(t,e){Cc.set(t._key(),e)}function XA(t){return _r(t._redirectPersistence)}function JA(t){return Rc(GA,t.config.apiKey,t.name)}async function ZA(t,e,n=!1){if(gn(t.app))return Promise.reject(Tr(t));const r=Ds(t),s=BA(r,e),o=await new KA(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=10*60*1e3;class tR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!y1(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cv(e))}saveEventToCache(e){this.cachedEventUids.add(Cv(e)),this.lastProcessedEventTime=Date.now()}}function Cv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e={}){return In(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iR=/^https?/;async function oR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rR(t);for(const n of e)try{if(aR(n))return}catch{}Tn(t,"unauthorized-domain")}function aR(t){const e=Af(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iR.test(n))return!1;if(sR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new wl(3e4,6e4);function Pv(){const t=rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cR(t){return new Promise((e,n)=>{var s,i,o;function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pv(),n(nr(t,"network-request-failed"))},timeout:lR.get()})}if((i=(s=rr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=rr().gapi)!=null&&o.load)r();else{const l=Yb("iframefcb");return rr()[l]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},Jx(`${Qb()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function uR(t){return Pc=Pc||cR(t),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new wl(5e3,15e3),hR="__/auth/iframe",fR="emulator/auth/iframe",mR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gR(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ap(e,fR):`https://${t.config.authDomain}/${hR}`,r={apiKey:e.apiKey,appName:t.name,v:Co},s=pR.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_l(r).slice(1)}`}async function yR(t){const e=await uR(t),n=rr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:gR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mR,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=nr(t,"network-request-failed"),l=rr().setTimeout(()=>{i(o)},dR.get());function c(){rr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_R=500,wR=600,xR="_blank",ER="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TR(t,e,n,r=_R,s=wR){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...vR,width:r.toString(),height:s.toString(),top:i,left:o},d=Ot().toLowerCase();n&&(l=Hx(d)?xR:n),$x(d)&&(e=e||ER,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[x,b])=>`${g}${x}=${b},`,"");if(Fb(d)&&l!=="_self")return IR(e||"",l),new jv(null);const m=window.open(e||"",l,f);te(m,t,"popup-blocked");try{m.focus()}catch{}return new jv(m)}function IR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="__/auth/handler",kR="emulator/auth/handler",NR=encodeURIComponent("fac");async function Dv(t,e,n,r,s,i){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Co,eventId:s};if(e instanceof t1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof El){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${NR}=${encodeURIComponent(c)}`:"";return`${bR(t)}?${_l(l).slice(1)}${d}`}function bR({config:t}){return t.emulator?ap(t,kR):`https://${t.authDomain}/${SR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=ZA,this._overrideRedirectResult=YA}async _openPopup(e,n,r,s){var o;Cr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Dv(e,n,r,Af(),s);return TR(e,i,yp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dv(e,n,r,Af(),s);return PA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Cr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yR(e),r=new tR(e);return n.register("authEvent",s=>(te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vh,{type:vh},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[vh];i!==void 0&&n(!!i),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yx()||qx()||up()}}const RR=AR;var Lv="@firebase/auth",Mv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jR(t){vo(new fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(t)},d=new Wb(r,s,i,c);return nA(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vo(new fi("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new CR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(Lv,Mv,PR(t)),vs(Lv,Mv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=5*60,LR=kx("authIdTokenMaxAge")||DR;let Vv=null;const MR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LR)return;const s=n==null?void 0:n.token;Vv!==s&&(Vv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VR(t=Px()){const e=ip(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tA(t,{popupRedirectResolver:RR,persistence:[zA,AA,d1]}),r=kx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=MR(i.toString());kA(n,o,()=>o(n.currentUser)),SA(n,l=>o(l))}}const s=Ix("auth");return s&&rA(n,`http://${s}`),n}function OR(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Gb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=nr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",OR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jR("Browser");var UR="firebase",FR="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(UR,FR,"app");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,v1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,v){function T(){}T.prototype=v.prototype,y.F=v.prototype,y.prototype=new T,y.prototype.constructor=y,y.D=function(I,A,P){for(var S=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)S[Te-2]=arguments[Te];return v.prototype[A].apply(I,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,v,T){T||(T=0);const I=Array(16);if(typeof v=="string")for(var A=0;A<16;++A)I[A]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(A=0;A<16;++A)I[A]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=y.g[0],T=y.g[1],A=y.g[2];let P=y.g[3],S;S=v+(P^T&(A^P))+I[0]+3614090360&4294967295,v=T+(S<<7&4294967295|S>>>25),S=P+(A^v&(T^A))+I[1]+3905402710&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(T^P&(v^T))+I[2]+606105819&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(v^A&(P^v))+I[3]+3250441966&4294967295,T=A+(S<<22&4294967295|S>>>10),S=v+(P^T&(A^P))+I[4]+4118548399&4294967295,v=T+(S<<7&4294967295|S>>>25),S=P+(A^v&(T^A))+I[5]+1200080426&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(T^P&(v^T))+I[6]+2821735955&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(v^A&(P^v))+I[7]+4249261313&4294967295,T=A+(S<<22&4294967295|S>>>10),S=v+(P^T&(A^P))+I[8]+1770035416&4294967295,v=T+(S<<7&4294967295|S>>>25),S=P+(A^v&(T^A))+I[9]+2336552879&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(T^P&(v^T))+I[10]+4294925233&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(v^A&(P^v))+I[11]+2304563134&4294967295,T=A+(S<<22&4294967295|S>>>10),S=v+(P^T&(A^P))+I[12]+1804603682&4294967295,v=T+(S<<7&4294967295|S>>>25),S=P+(A^v&(T^A))+I[13]+4254626195&4294967295,P=v+(S<<12&4294967295|S>>>20),S=A+(T^P&(v^T))+I[14]+2792965006&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(v^A&(P^v))+I[15]+1236535329&4294967295,T=A+(S<<22&4294967295|S>>>10),S=v+(A^P&(T^A))+I[1]+4129170786&4294967295,v=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(v^T))+I[6]+3225465664&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^T&(P^v))+I[11]+643717713&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^v&(A^P))+I[0]+3921069994&4294967295,T=A+(S<<20&4294967295|S>>>12),S=v+(A^P&(T^A))+I[5]+3593408605&4294967295,v=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(v^T))+I[10]+38016083&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^T&(P^v))+I[15]+3634488961&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^v&(A^P))+I[4]+3889429448&4294967295,T=A+(S<<20&4294967295|S>>>12),S=v+(A^P&(T^A))+I[9]+568446438&4294967295,v=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(v^T))+I[14]+3275163606&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^T&(P^v))+I[3]+4107603335&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^v&(A^P))+I[8]+1163531501&4294967295,T=A+(S<<20&4294967295|S>>>12),S=v+(A^P&(T^A))+I[13]+2850285829&4294967295,v=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(v^T))+I[2]+4243563512&4294967295,P=v+(S<<9&4294967295|S>>>23),S=A+(v^T&(P^v))+I[7]+1735328473&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^v&(A^P))+I[12]+2368359562&4294967295,T=A+(S<<20&4294967295|S>>>12),S=v+(T^A^P)+I[5]+4294588738&4294967295,v=T+(S<<4&4294967295|S>>>28),S=P+(v^T^A)+I[8]+2272392833&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^T)+I[11]+1839030562&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^v)+I[14]+4259657740&4294967295,T=A+(S<<23&4294967295|S>>>9),S=v+(T^A^P)+I[1]+2763975236&4294967295,v=T+(S<<4&4294967295|S>>>28),S=P+(v^T^A)+I[4]+1272893353&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^T)+I[7]+4139469664&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^v)+I[10]+3200236656&4294967295,T=A+(S<<23&4294967295|S>>>9),S=v+(T^A^P)+I[13]+681279174&4294967295,v=T+(S<<4&4294967295|S>>>28),S=P+(v^T^A)+I[0]+3936430074&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^T)+I[3]+3572445317&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^v)+I[6]+76029189&4294967295,T=A+(S<<23&4294967295|S>>>9),S=v+(T^A^P)+I[9]+3654602809&4294967295,v=T+(S<<4&4294967295|S>>>28),S=P+(v^T^A)+I[12]+3873151461&4294967295,P=v+(S<<11&4294967295|S>>>21),S=A+(P^v^T)+I[15]+530742520&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^v)+I[2]+3299628645&4294967295,T=A+(S<<23&4294967295|S>>>9),S=v+(A^(T|~P))+I[0]+4096336452&4294967295,v=T+(S<<6&4294967295|S>>>26),S=P+(T^(v|~A))+I[7]+1126891415&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~T))+I[14]+2878612391&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~v))+I[5]+4237533241&4294967295,T=A+(S<<21&4294967295|S>>>11),S=v+(A^(T|~P))+I[12]+1700485571&4294967295,v=T+(S<<6&4294967295|S>>>26),S=P+(T^(v|~A))+I[3]+2399980690&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~T))+I[10]+4293915773&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~v))+I[1]+2240044497&4294967295,T=A+(S<<21&4294967295|S>>>11),S=v+(A^(T|~P))+I[8]+1873313359&4294967295,v=T+(S<<6&4294967295|S>>>26),S=P+(T^(v|~A))+I[15]+4264355552&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~T))+I[6]+2734768916&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~v))+I[13]+1309151649&4294967295,T=A+(S<<21&4294967295|S>>>11),S=v+(A^(T|~P))+I[4]+4149444226&4294967295,v=T+(S<<6&4294967295|S>>>26),S=P+(T^(v|~A))+I[11]+3174756917&4294967295,P=v+(S<<10&4294967295|S>>>22),S=A+(v^(P|~T))+I[2]+718787259&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~v))+I[9]+3951481745&4294967295,y.g[0]=y.g[0]+v&4294967295,y.g[1]=y.g[1]+(A+(S<<21&4294967295|S>>>11))&4294967295,y.g[2]=y.g[2]+A&4294967295,y.g[3]=y.g[3]+P&4294967295}r.prototype.v=function(y,v){v===void 0&&(v=y.length);const T=v-this.blockSize,I=this.C;let A=this.h,P=0;for(;P<v;){if(A==0)for(;P<=T;)s(this,y,P),P+=this.blockSize;if(typeof y=="string"){for(;P<v;)if(I[A++]=y.charCodeAt(P++),A==this.blockSize){s(this,I),A=0;break}}else for(;P<v;)if(I[A++]=y[P++],A==this.blockSize){s(this,I),A=0;break}}this.h=A,this.o+=v},r.prototype.A=function(){var y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);y[0]=128;for(var v=1;v<y.length-8;++v)y[v]=0;v=this.o*8;for(var T=y.length-8;T<y.length;++T)y[T]=v&255,v/=256;for(this.v(y),y=Array(16),v=0,T=0;T<4;++T)for(let I=0;I<32;I+=8)y[v++]=this.g[T]>>>I&255;return y};function i(y,v){var T=l;return Object.prototype.hasOwnProperty.call(T,y)?T[y]:T[y]=v(y)}function o(y,v){this.h=v;const T=[];let I=!0;for(let A=y.length-1;A>=0;A--){const P=y[A]|0;I&&P==v||(T[A]=P,I=!1)}this.g=T}var l={};function c(y){return-128<=y&&y<128?i(y,function(v){return new o([v|0],v<0?-1:0)}):new o([y|0],y<0?-1:0)}function d(y){if(isNaN(y)||!isFinite(y))return m;if(y<0)return C(d(-y));const v=[];let T=1;for(let I=0;y>=T;I++)v[I]=y/T|0,T*=4294967296;return new o(v,0)}function f(y,v){if(y.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(y.charAt(0)=="-")return C(f(y.substring(1),v));if(y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=d(Math.pow(v,8));let I=m;for(let P=0;P<y.length;P+=8){var A=Math.min(8,y.length-P);const S=parseInt(y.substring(P,P+A),v);A<8?(A=d(Math.pow(v,A)),I=I.j(A).add(d(S))):(I=I.j(T),I=I.add(d(S)))}return I}var m=c(0),g=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(k(this))return-C(this).m();let y=0,v=1;for(let T=0;T<this.g.length;T++){const I=this.i(T);y+=(I>=0?I:4294967296+I)*v,v*=4294967296}return y},t.toString=function(y){if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(b(this))return"0";if(k(this))return"-"+C(this).toString(y);const v=d(Math.pow(y,6));var T=this;let I="";for(;;){const A=M(T,v).g;T=E(T,A.j(v));let P=((T.g.length>0?T.g[0]:T.h)>>>0).toString(y);if(T=A,b(T))return P+I;for(;P.length<6;)P="0"+P;I=P+I}},t.i=function(y){return y<0?0:y<this.g.length?this.g[y]:this.h};function b(y){if(y.h!=0)return!1;for(let v=0;v<y.g.length;v++)if(y.g[v]!=0)return!1;return!0}function k(y){return y.h==-1}t.l=function(y){return y=E(this,y),k(y)?-1:b(y)?0:1};function C(y){const v=y.g.length,T=[];for(let I=0;I<v;I++)T[I]=~y.g[I];return new o(T,~y.h).add(g)}t.abs=function(){return k(this)?C(this):this},t.add=function(y){const v=Math.max(this.g.length,y.g.length),T=[];let I=0;for(let A=0;A<=v;A++){let P=I+(this.i(A)&65535)+(y.i(A)&65535),S=(P>>>16)+(this.i(A)>>>16)+(y.i(A)>>>16);I=S>>>16,P&=65535,S&=65535,T[A]=S<<16|P}return new o(T,T[T.length-1]&-2147483648?-1:0)};function E(y,v){return y.add(C(v))}t.j=function(y){if(b(this)||b(y))return m;if(k(this))return k(y)?C(this).j(C(y)):C(C(this).j(y));if(k(y))return C(this.j(C(y)));if(this.l(x)<0&&y.l(x)<0)return d(this.m()*y.m());const v=this.g.length+y.g.length,T=[];for(var I=0;I<2*v;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(let A=0;A<y.g.length;A++){const P=this.i(I)>>>16,S=this.i(I)&65535,Te=y.i(A)>>>16,at=y.i(A)&65535;T[2*I+2*A]+=S*at,_(T,2*I+2*A),T[2*I+2*A+1]+=P*at,_(T,2*I+2*A+1),T[2*I+2*A+1]+=S*Te,_(T,2*I+2*A+1),T[2*I+2*A+2]+=P*Te,_(T,2*I+2*A+2)}for(y=0;y<v;y++)T[y]=T[2*y+1]<<16|T[2*y];for(y=v;y<2*v;y++)T[y]=0;return new o(T,0)};function _(y,v){for(;(y[v]&65535)!=y[v];)y[v+1]+=y[v]>>>16,y[v]&=65535,v++}function N(y,v){this.g=y,this.h=v}function M(y,v){if(b(v))throw Error("division by zero");if(b(y))return new N(m,m);if(k(y))return v=M(C(y),v),new N(C(v.g),C(v.h));if(k(v))return v=M(y,C(v)),new N(C(v.g),v.h);if(y.g.length>30){if(k(y)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var T=g,I=v;I.l(y)<=0;)T=z(T),I=z(I);var A=q(T,1),P=q(I,1);for(I=q(I,2),T=q(T,2);!b(I);){var S=P.add(I);S.l(y)<=0&&(A=A.add(T),P=S),I=q(I,1),T=q(T,1)}return v=E(y,A.j(v)),new N(A,v)}for(A=m;y.l(v)>=0;){for(T=Math.max(1,Math.floor(y.m()/v.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),P=d(T),S=P.j(v);k(S)||S.l(y)>0;)T-=I,P=d(T),S=P.j(v);b(P)&&(P=g),A=A.add(P),y=E(y,S)}return new N(A,y)}t.B=function(y){return M(this,y).h},t.and=function(y){const v=Math.max(this.g.length,y.g.length),T=[];for(let I=0;I<v;I++)T[I]=this.i(I)&y.i(I);return new o(T,this.h&y.h)},t.or=function(y){const v=Math.max(this.g.length,y.g.length),T=[];for(let I=0;I<v;I++)T[I]=this.i(I)|y.i(I);return new o(T,this.h|y.h)},t.xor=function(y){const v=Math.max(this.g.length,y.g.length),T=[];for(let I=0;I<v;I++)T[I]=this.i(I)^y.i(I);return new o(T,this.h^y.h)};function z(y){const v=y.g.length+1,T=[];for(let I=0;I<v;I++)T[I]=y.i(I)<<1|y.i(I-1)>>>31;return new o(T,y.h)}function q(y,v){const T=v>>5;v%=32;const I=y.g.length-T,A=[];for(let P=0;P<I;P++)A[P]=v>0?y.i(P+T)>>>v|y.i(P+T+1)<<32-v:y.i(P+T);return new o(A,y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,v1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,_s=o}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _1,pa,w1,jc,Df,x1,E1,T1;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var p=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var D=a[w];if(!(D in p))break e;p=p[D]}a=a[a.length-1],w=p[a],h=h(w),h!=w&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var p=[],w;for(w in h)Object.prototype.hasOwnProperty.call(h,w)&&p.push([w,h[w]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function c(a,h,p){return a.call.apply(a.bind,arguments)}function d(a,h,p){return d=c,d.apply(null,arguments)}function f(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function m(a,h){function p(){}p.prototype=h.prototype,a.Z=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(w,D,O){for(var G=Array(arguments.length-2),he=2;he<arguments.length;he++)G[he-2]=arguments[he];return h.prototype[D].apply(w,G)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function x(a){const h=a.length;if(h>0){const p=Array(h);for(let w=0;w<h;w++)p[w]=a[w];return p}return[]}function b(a,h){for(let w=1;w<arguments.length;w++){const D=arguments[w];var p=typeof D;if(p=p!="object"?p:D?Array.isArray(D)?"array":p:"null",p=="array"||p=="object"&&typeof D.length=="number"){p=a.length||0;const O=D.length||0;a.length=p+O;for(let G=0;G<O;G++)a[p+G]=D[G]}else a.push(D)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function C(a){o.setTimeout(()=>{throw a},0)}function E(){var a=y;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class _{constructor(){this.h=this.g=null}add(h,p){const w=N.get();w.set(h,p),this.h?this.h.next=w:this.g=w,this.h=w}}var N=new k(()=>new M,a=>a.reset());class M{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let z,q=!1,y=new _,v=()=>{const a=Promise.resolve(void 0);z=()=>{a.then(T)}};function T(){for(var a;a=E();){try{a.h.call(a.g)}catch(p){C(p)}var h=N;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}q=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,h),o.removeEventListener("test",p,h)}catch{}return a}();function S(a){return/^[\s\xa0]*$/.test(a)}function Te(a,h){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}m(Te,A),Te.prototype.init=function(a,h){const p=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var at="closure_listenable_"+(Math.random()*1e6|0),$n=0;function qn(a,h,p,w,D){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!w,this.ha=D,this.key=++$n,this.da=this.fa=!1}function H(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ie(a,h,p){for(const w in a)h.call(p,a[w],w,a)}function le(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function Ie(a){const h={};for(const p in a)h[p]=a[p];return h}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(a,h){let p,w;for(let D=1;D<arguments.length;D++){w=arguments[D];for(p in w)a[p]=w[p];for(let O=0;O<Se.length;O++)p=Se[O],Object.prototype.hasOwnProperty.call(w,p)&&(a[p]=w[p])}}function gt(a){this.src=a,this.g={},this.h=0}gt.prototype.add=function(a,h,p,w,D){const O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);const G=ct(a,h,w,D);return G>-1?(h=a[G],p||(h.fa=!1)):(h=new qn(h,this.src,O,!!w,D),h.fa=p,a.push(h)),h};function lt(a,h){const p=h.type;if(p in a.g){var w=a.g[p],D=Array.prototype.indexOf.call(w,h,void 0),O;(O=D>=0)&&Array.prototype.splice.call(w,D,1),O&&(H(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function ct(a,h,p,w){for(let D=0;D<a.length;++D){const O=a[D];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==w)return D}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),Vr={};function Rl(a,h,p,w,D){if(Array.isArray(h)){for(let O=0;O<h.length;O++)Rl(a,h[O],p,w,D);return null}return p=Cl(p),a&&a[at]?a.J(h,p,l(w)?!!w.capture:!1,D):Id(a,h,p,!1,w,D)}function Id(a,h,p,w,D,O){if(!h)throw Error("Invalid event type");const G=l(D)?!!D.capture:!!D;let he=Sn(a);if(he||(a[Rt]=he=new gt(a)),p=he.add(h,p,w,G,O),p.proxy)return p;if(w=Sd(),p.proxy=w,w.src=a,w.listener=p,a.addEventListener)P||(D=G),D===void 0&&(D=!1),a.addEventListener(h.toString(),w,D);else if(a.attachEvent)a.attachEvent(Oo(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Sd(){function a(p){return h.call(a.src,a.listener,p)}const h=kd;return a}function yt(a,h,p,w,D){if(Array.isArray(h))for(var O=0;O<h.length;O++)yt(a,h[O],p,w,D);else w=l(w)?!!w.capture:!!w,p=Cl(p),a&&a[at]?(a=a.i,O=String(h).toString(),O in a.g&&(h=a.g[O],p=ct(h,p,w,D),p>-1&&(H(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete a.g[O],a.h--)))):a&&(a=Sn(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ct(h,p,w,D)),(p=a>-1?h[a]:null)&&Hn(p))}function Hn(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[at])lt(h.i,a);else{var p=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(p,w,a.capture):h.detachEvent?h.detachEvent(Oo(p),w):h.addListener&&h.removeListener&&h.removeListener(w),(p=Sn(h))?(lt(p,a),p.h==0&&(p.src=null,h[Rt]=null)):H(a)}}}function Oo(a){return a in Vr?Vr[a]:Vr[a]="on"+a}function kd(a,h){if(a.da)a=!0;else{h=new Te(h,this);const p=a.listener,w=a.ha||a.src;a.fa&&Hn(a),a=p.call(w,h)}return a}function Sn(a){return a=a[Rt],a instanceof gt?a:null}var Uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(a){return typeof a=="function"?a:(a[Uo]||(a[Uo]=function(h){return a.handleEvent(h)}),a[Uo])}function ut(){I.call(this),this.i=new gt(this),this.M=this,this.G=null}m(ut,I),ut.prototype[at]=!0,ut.prototype.removeEventListener=function(a,h,p,w){yt(this,a,h,p,w)};function Et(a,h){var p,w=a.G;if(w)for(p=[];w;w=w.G)p.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new A(h,a);else if(h instanceof A)h.target=h.target||a;else{var D=h;h=new A(w,a),qt(h,D)}D=!0;let O,G;if(p)for(G=p.length-1;G>=0;G--)O=h.g=p[G],D=Ii(O,w,!0,h)&&D;if(O=h.g=a,D=Ii(O,w,!0,h)&&D,D=Ii(O,w,!1,h)&&D,p)for(G=0;G<p.length;G++)O=h.g=p[G],D=Ii(O,w,!1,h)&&D}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const p=a.g[h];for(let w=0;w<p.length;w++)H(p[w]);delete a.g[h],a.h--}}this.G=null},ut.prototype.J=function(a,h,p,w){return this.i.add(String(a),h,!1,p,w)},ut.prototype.K=function(a,h,p,w){return this.i.add(String(a),h,!0,p,w)};function Ii(a,h,p,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let D=!0;for(let O=0;O<h.length;++O){const G=h[O];if(G&&!G.da&&G.capture==p){const he=G.listener,ht=G.ha||G.src;G.fa&&lt(a.i,G),D=he.call(ht,w)!==!1&&D}}return D&&!w.defaultPrevented}function Nd(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function Pl(a){a.g=Nd(()=>{a.g=null,a.i&&(a.i=!1,Pl(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class hr extends I{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(a){I.call(this),this.h=a,this.g={}}m(kn,I);var Fo=[];function Si(a){ie(a.g,function(h,p){this.g.hasOwnProperty(p)&&Hn(h)},a),a.g={}}kn.prototype.N=function(){kn.Z.N.call(this),Si(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=o.JSON.stringify,Nn=o.JSON.parse,jl=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Vs(){}function Dl(){}var Ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ki(){A.call(this,"d")}m(ki,A);function Ni(){A.call(this,"c")}m(Ni,A);var Wn={},Ll=null;function Os(){return Ll=Ll||new ut}Wn.Ia="serverreachability";function Us(a){A.call(this,Wn.Ia,a)}m(Us,A);function Or(a){const h=Os();Et(h,new Us(h))}Wn.STAT_EVENT="statevent";function bi(a,h){A.call(this,Wn.STAT_EVENT,a),this.stat=h}m(bi,A);function dt(a){const h=Os();Et(h,new bi(h,a))}Wn.Ja="timingevent";function Ml(a,h){A.call(this,Wn.Ja,a),this.size=h}m(Ml,A);function Ur(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Fs(){this.g=!0}Fs.prototype.ua=function(){this.g=!1};function Vl(a,h,p,w,D,O){a.info(function(){if(a.g)if(O){var G="",he=O.split("&");for(let Re=0;Re<he.length;Re++){var ht=he[Re].split("=");if(ht.length>1){const vt=ht[0];ht=ht[1];const Qn=vt.split("_");G=Qn.length>=2&&Qn[1]=="type"?G+(vt+"="+ht+"&"):G+(vt+"=redacted&")}}}else G=null;else G=O;return"XMLHTTP REQ ("+w+") [attempt "+D+"]: "+h+`
`+p+`
`+G})}function Ai(a,h,p,w,D,O,G){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+D+"]: "+h+`
`+p+`
`+O+" "+G})}function bn(a,h,p,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ad(a,p)+(w?" "+w:"")})}function bd(a,h){a.info(function(){return"TIMEOUT: "+h})}Fs.prototype.info=function(){};function Ad(a,h){if(!a.g)return h;if(!h)return null;try{const O=JSON.parse(h);if(O){for(a=0;a<O.length;a++)if(Array.isArray(O[a])){var p=O[a];if(!(p.length<2)){var w=p[1];if(Array.isArray(w)&&!(w.length<1)){var D=w[0];if(D!="noop"&&D!="stop"&&D!="close")for(let G=1;G<w.length;G++)w[G]=""}}}}return fn(O)}catch{return h}}var R={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},j={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},V;function B(){}m(B,Vs),B.prototype.g=function(){return new XMLHttpRequest},V=new B;function W(a){return encodeURIComponent(String(a))}function ne(a){var h=1;a=a.split(":");const p=[];for(;h>0&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function re(a,h,p,w){this.j=a,this.i=h,this.l=p,this.S=w||1,this.V=new kn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new J}function J(){this.i=null,this.g="",this.h=!1}var Z={},Q={};function ee(a,h,p){a.M=1,a.A=Ol(tn(h)),a.u=p,a.R=!0,ue(a,null)}function ue(a,h){a.F=Date.now(),ge(a),a.B=tn(a.A);var p=a.B,w=a.S;Array.isArray(w)||(w=[String(w)]),cg(p.i,"t",w),a.C=0,p=a.j.L,a.h=new J,a.g=Ng(a.j,p?h:null,!a.u),a.P>0&&(a.O=new hr(d(a.Y,a,a.g),a.P)),h=a.V,p=a.g,w=a.ba;var D="readystatechange";Array.isArray(D)||(D&&(Fo[0]=D.toString()),D=Fo);for(let O=0;O<D.length;O++){const G=Rl(p,D[O],w||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.J?Ie(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Or(),Vl(a.i,a.v,a.B,a.l,a.S,a.u)}re.prototype.ba=function(a){a=a.target;const h=this.O;h&&qr(a)==3?h.j():this.Y(a)},re.prototype.Y=function(a){try{if(a==this.g)e:{const he=qr(this.g),ht=this.g.ya(),Re=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||gg(this.g)))){this.K||he!=4||ht==7||(ht==8||Re<=0?Or(3):Or(2)),Gn(this);var h=this.g.ca();this.X=h;var p=pe(this);if(this.o=h==200,Ai(this.i,this.v,this.B,this.l,this.S,he,h),this.o){if(this.U&&!this.L){t:{if(this.g){var w,D=this.g;if((w=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(w)){var O=w;break t}}O=null}if(a=O)bn(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wt(this,a);else{this.o=!1,this.m=3,dt(12),Tt(this),An(this);break e}}if(this.R){a=!0;let vt;for(;!this.K&&this.C<p.length;)if(vt=Ae(this,p),vt==Q){he==4&&(this.m=4,dt(14),a=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Z){this.m=4,dt(15),bn(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else bn(this.i,this.l,vt,null),Wt(this,vt);if(tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||p.length!=0||this.h.h||(this.m=1,dt(16),a=!1),this.o=this.o&&a,!a)bn(this.i,this.l,p,"[Invalid Chunked Response]"),Tt(this),An(this);else if(p.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ld(G),G.P=!0,dt(11))}}else bn(this.i,this.l,p,null),Wt(this,p);he==4&&Tt(this),this.o&&!this.K&&(he==4?Tg(this.j,this):(this.o=!1,ge(this)))}else TT(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),Tt(this),An(this)}}}catch{}finally{}};function pe(a){if(!tt(a))return a.g.la();const h=gg(a.g);if(h==="")return"";let p="";const w=h.length,D=qr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Tt(a),An(a),"";a.h.i=new o.TextDecoder}for(let O=0;O<w;O++)a.h.h=!0,p+=a.h.i.decode(h[O],{stream:!(D&&O==w-1)});return h.length=0,a.h.g+=p,a.C=0,a.h.g}function tt(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Ae(a,h){var p=a.C,w=h.indexOf(`
`,p);return w==-1?Q:(p=Number(h.substring(p,w)),isNaN(p)?Z:(w+=1,w+p>h.length?Q:(h=h.slice(w,w+p),a.C=w+p,h)))}re.prototype.cancel=function(){this.K=!0,Tt(this)};function ge(a){a.T=Date.now()+a.H,De(a,a.H)}function De(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ur(d(a.aa,a),h)}function Gn(a){a.D&&(o.clearTimeout(a.D),a.D=null)}re.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(bd(this.i,this.B),this.M!=2&&(Or(),dt(17)),Tt(this),this.m=2,An(this)):De(this,this.T-a)};function An(a){a.j.I==0||a.K||Tg(a.j,a)}function Tt(a){Gn(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,Si(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function Wt(a,h){try{var p=a.j;if(p.I!=0&&(p.g==a||zr(p.h,a))){if(!a.L&&zr(p.h,a)&&p.I==3){try{var w=p.Ba.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var D=w;if(D[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)$l(p),zl(p);else break e;Dd(p),dt(18)}}else p.xa=D[1],0<p.xa-p.K&&D[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Ur(d(p.Va,p),6e3));zs(p.h)<=1&&p.ta&&(p.ta=void 0)}else qs(p,11)}else if((a.L||p.g==a)&&$l(p),!S(h))for(D=p.Ba.g.parse(h),h=0;h<D.length;h++){let Re=D[h];const vt=Re[0];if(!(vt<=p.K))if(p.K=vt,Re=Re[1],p.I==2)if(Re[0]=="c"){p.M=Re[1],p.ba=Re[2];const Qn=Re[3];Qn!=null&&(p.ka=Qn,p.j.info("VER="+p.ka));const Hs=Re[4];Hs!=null&&(p.za=Hs,p.j.info("SVER="+p.za));const Hr=Re[5];Hr!=null&&typeof Hr=="number"&&Hr>0&&(w=1.5*Hr,p.O=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const Wr=a.g;if(Wr){const Hl=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hl){var O=w.h;O.g||Hl.indexOf("spdy")==-1&&Hl.indexOf("quic")==-1&&Hl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ye(O,O.h),O.h=null))}if(w.G){const Md=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;Md&&(w.wa=Md,Me(w.J,w.G,Md))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),w=p;var G=a;if(w.na=kg(w,w.L?w.ba:null,w.W),G.L){Le(w.h,G);var he=G,ht=w.O;ht&&(he.H=ht),he.D&&(Gn(he),ge(he)),w.g=G}else xg(w);p.i.length>0&&Bl(p)}else Re[0]!="stop"&&Re[0]!="close"||qs(p,7);else p.I==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?qs(p,7):jd(p):Re[0]!="noop"&&p.l&&p.l.qa(Re),p.A=0)}}Or(4)}catch{}}var zo=class{constructor(a,h){this.g=a,this.map=h}};function Fr(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kn(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function zs(a){return a.h?1:a.g?a.g.size:0}function zr(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ye(a,h){a.g?a.g.add(h):a.h=h}function Le(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Fr.prototype.cancel=function(){if(this.i=fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function fr(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.G);return h}return x(a.i)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function We(a,h){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const w=a[p].indexOf("=");let D,O=null;w>=0?(D=a[p].substring(0,w),O=a[p].substring(w+1)):D=a[p],h(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ut(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Ut?(this.l=a.l,Bs(this,a.j),this.o=a.o,this.g=a.g,Bo(this,a.u),this.h=a.h,Rd(this,ug(a.i)),this.m=a.m):a&&(h=String(a).match(Br))?(this.l=!1,Bs(this,h[1]||"",!0),this.o=$o(h[2]||""),this.g=$o(h[3]||"",!0),Bo(this,h[4]),this.h=$o(h[5]||"",!0),Rd(this,h[6]||"",!0),this.m=$o(h[7]||"")):(this.l=!1,this.i=new Ho(null,this.l))}Ut.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(qo(h,ig,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(qo(h,ig,!0),"@"),a.push(W(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(qo(p,p.charAt(0)=="/"?mT:fT,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",qo(p,gT)),a.join("")},Ut.prototype.resolve=function(a){const h=tn(this);let p=!!a.j;p?Bs(h,a.j):p=!!a.o,p?h.o=a.o:p=!!a.g,p?h.g=a.g:p=a.u!=null;var w=a.h;if(p)Bo(h,a.u);else if(p=!!a.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var D=h.h.lastIndexOf("/");D!=-1&&(w=h.h.slice(0,D+1)+w)}if(D=w,D==".."||D==".")w="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){w=D.lastIndexOf("/",0)==0,D=D.split("/");const O=[];for(let G=0;G<D.length;){const he=D[G++];he=="."?w&&G==D.length&&O.push(""):he==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),w&&G==D.length&&O.push("")):(O.push(he),w=!0)}w=O.join("/")}else w=D}return p?h.h=w:p=a.i.toString()!=="",p?Rd(h,ug(a.i)):p=!!a.m,p&&(h.m=a.m),h};function tn(a){return new Ut(a)}function Bs(a,h,p){a.j=p?$o(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Bo(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function Rd(a,h,p){h instanceof Ho?(a.i=h,yT(a.i,a.l)):(p||(h=qo(h,pT)),a.i=new Ho(h,a.l))}function Me(a,h,p){a.i.set(h,p)}function Ol(a){return Me(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function $o(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,hT),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function hT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ig=/[#\/\?@]/g,fT=/[#\?:]/g,mT=/[#\?]/g,pT=/[#\?@]/g,gT=/#/g;function Ho(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function $s(a){a.g||(a.g=new Map,a.h=0,a.i&&We(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Ho.prototype,t.add=function(a,h){$s(this),this.i=null,a=Ri(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function og(a,h){$s(a),h=Ri(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ag(a,h){return $s(a),h=Ri(a,h),a.g.has(h)}t.forEach=function(a,h){$s(this),this.g.forEach(function(p,w){p.forEach(function(D){a.call(h,D,w,this)},this)},this)};function lg(a,h){$s(a);let p=[];if(typeof h=="string")ag(a,h)&&(p=p.concat(a.g.get(Ri(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)p=p.concat(a[h]);return p}t.set=function(a,h){return $s(this),this.i=null,a=Ri(this,a),ag(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=lg(this,a),a.length>0?String(a[0]):h):h};function cg(a,h,p){og(a,h),p.length>0&&(a.i=null,a.g.set(Ri(a,h),x(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let w=0;w<h.length;w++){var p=h[w];const D=W(p);p=lg(this,p);for(let O=0;O<p.length;O++){let G=D;p[O]!==""&&(G+="="+W(p[O])),a.push(G)}}return this.i=a.join("&")};function ug(a){const h=new Ho;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function Ri(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function yT(a,h){h&&!a.j&&($s(a),a.i=null,a.g.forEach(function(p,w){const D=w.toLowerCase();w!=D&&(og(this,w),cg(this,D,p))},a)),a.j=h}function vT(a,h){const p=new Fs;if(o.Image){const w=new Image;w.onload=f($r,p,"TestLoadImage: loaded",!0,h,w),w.onerror=f($r,p,"TestLoadImage: error",!1,h,w),w.onabort=f($r,p,"TestLoadImage: abort",!1,h,w),w.ontimeout=f($r,p,"TestLoadImage: timeout",!1,h,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function _T(a,h){const p=new Fs,w=new AbortController,D=setTimeout(()=>{w.abort(),$r(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(O=>{clearTimeout(D),O.ok?$r(p,"TestPingServer: ok",!0,h):$r(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),$r(p,"TestPingServer: error",!1,h)})}function $r(a,h,p,w,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),w(p)}catch{}}function wT(){this.g=new jl}function Cd(a){this.i=a.Sb||null,this.h=a.ab||!1}m(Cd,Vs),Cd.prototype.g=function(){return new Ul(this.i,this.h)};function Ul(a,h){ut.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ul,ut),t=Ul.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Go(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dg(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function dg(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Wo(this):Go(this),this.readyState==3&&dg(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Wo(this))},t.Na=function(a){this.g&&(this.response=a,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Go(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Go(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function hg(a){let h="";return ie(a,function(p,w){h+=w,h+=":",h+=p,h+=`\r
`}),h}function Pd(a,h,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=hg(p),typeof a=="string"?p!=null&&W(p):Me(a,h,p))}function Ge(a){ut.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ge,ut);var xT=/^https?$/i,ET=["POST","PUT"];t=Ge.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():V.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){fg(this,O);return}if(a=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var D in w)p.set(D,w[D]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const O of w.keys())p.set(O,w.get(O));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),D=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(ET,h,void 0)>=0)||w||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,G]of p)this.g.setRequestHeader(O,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(O){fg(this,O)}};function fg(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,mg(a),Fl(a)}function mg(a){a.A||(a.A=!0,Et(a,"complete"),Et(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Et(this,"complete"),Et(this,"abort"),Fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fl(this,!0)),Ge.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pg(this):this.Xa())},t.Xa=function(){pg(this)};function pg(a){if(a.h&&typeof i<"u"){if(a.v&&qr(a)==4)setTimeout(a.Ca.bind(a),0);else if(Et(a,"readystatechange"),qr(a)==4){a.h=!1;try{const O=a.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var w;if(w=O===0){let G=String(a.D).match(Br)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),w=!xT.test(G?G.toLowerCase():"")}p=w}if(p)Et(a,"complete"),Et(a,"success");else{a.o=6;try{var D=qr(a)>2?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.ca()+"]",mg(a)}}finally{Fl(a)}}}}function Fl(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,h||Et(a,"ready");try{p.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return qr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Nn(h)}};function gg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function TT(a){const h={};a=(a.g&&qr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(S(a[w]))continue;var p=ne(a[w]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=h[D]||[];h[D]=O,O.push(p)}le(h,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function yg(a){this.za=0,this.i=[],this.j=new Fs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ko("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ko("baseRetryDelayMs",5e3,a),this.Za=Ko("retryDelaySeedMs",1e4,a),this.Ta=Ko("forwardChannelMaxRetries",2,a),this.va=Ko("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Fr(a&&a.concurrentRequestLimit),this.Ba=new wT,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yg.prototype,t.ka=8,t.I=1,t.connect=function(a,h,p,w){dt(0),this.W=a,this.H=h||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.J=kg(this,null,this.W),Bl(this)};function jd(a){if(vg(a),a.I==3){var h=a.V++,p=tn(a.J);if(Me(p,"SID",a.M),Me(p,"RID",h),Me(p,"TYPE","terminate"),Qo(a,p),h=new re(a,a.j,h),h.M=2,h.A=Ol(tn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=h.A,p=!0),p||(h.g=Ng(h.j,null),h.g.ea(h.A)),h.F=Date.now(),ge(h)}Sg(a)}function zl(a){a.g&&(Ld(a),a.g.cancel(),a.g=null)}function vg(a){zl(a),a.v&&(o.clearTimeout(a.v),a.v=null),$l(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Bl(a){if(!Kn(a.h)&&!a.m){a.m=!0;var h=a.Ea;z||v(),q||(z(),q=!0),y.add(h,a),a.D=0}}function IT(a,h){return zs(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ur(d(a.Ea,a,h),Ig(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const D=new re(this,this.j,a);let O=this.o;if(this.U&&(O?(O=Ie(O),qt(O,this.U)):O=this.U),this.u!==null||this.R||(D.J=O,O=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=wg(this,D,h),p=tn(this.J),Me(p,"RID",a),Me(p,"CVER",22),this.G&&Me(p,"X-HTTP-Session-Id",this.G),Qo(this,p),O&&(this.R?h="headers="+W(hg(O))+"&"+h:this.u&&Pd(p,this.u,O)),ye(this.h,D),this.Ra&&Me(p,"TYPE","init"),this.S?(Me(p,"$req",h),Me(p,"SID","null"),D.U=!0,ee(D,p,null)):ee(D,p,h),this.I=2}}else this.I==3&&(a?_g(this,a):this.i.length==0||Kn(this.h)||_g(this))};function _g(a,h){var p;h?p=h.l:p=a.V++;const w=tn(a.J);Me(w,"SID",a.M),Me(w,"RID",p),Me(w,"AID",a.K),Qo(a,w),a.u&&a.o&&Pd(w,a.u,a.o),p=new re(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),h&&(a.i=h.G.concat(a.i)),h=wg(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ye(a.h,p),ee(p,w,h)}function Qo(a,h){a.H&&ie(a.H,function(p,w){Me(h,w,p)}),a.l&&ie({},function(p,w){Me(h,w,p)})}function wg(a,h,p){p=Math.min(a.i.length,p);const w=a.l?d(a.l.Ka,a.l,a):null;e:{var D=a.i;let he=-1;for(;;){const ht=["count="+p];he==-1?p>0?(he=D[0].g,ht.push("ofs="+he)):he=0:ht.push("ofs="+he);let Re=!0;for(let vt=0;vt<p;vt++){var O=D[vt].g;const Qn=D[vt].map;if(O-=he,O<0)he=Math.max(0,D[vt].g-100),Re=!1;else try{O="req"+O+"_"||"";try{var G=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Hs,Hr]of G){let Wr=Hr;l(Hr)&&(Wr=fn(Hr)),ht.push(O+Hs+"="+encodeURIComponent(Wr))}}catch(Hs){throw ht.push(O+"type="+encodeURIComponent("_badmap")),Hs}}catch{w&&w(Qn)}}if(Re){G=ht.join("&");break e}}G=void 0}return a=a.i.splice(0,p),h.G=a,G}function xg(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;z||v(),q||(z(),q=!0),y.add(h,a),a.A=0}}function Dd(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ur(d(a.Da,a),Ig(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Eg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ur(d(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),zl(this),Eg(this))};function Ld(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Eg(a){a.g=new re(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=tn(a.na);Me(h,"RID","rpc"),Me(h,"SID",a.M),Me(h,"AID",a.K),Me(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&Me(h,"TO",a.ia),Me(h,"TYPE","xmlhttp"),Qo(a,h),a.u&&a.o&&Pd(h,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Ol(tn(h)),p.u=null,p.R=!0,ue(p,a)}t.Va=function(){this.C!=null&&(this.C=null,zl(this),Dd(this),dt(19))};function $l(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Tg(a,h){var p=null;if(a.g==h){$l(a),Ld(a),a.g=null;var w=2}else if(zr(a.h,h))p=h.G,Le(a.h,h),w=1;else return;if(a.I!=0){if(h.o)if(w==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var D=a.D;w=Os(),Et(w,new Ml(w,p)),Bl(a)}else xg(a);else if(D=h.m,D==3||D==0&&h.X>0||!(w==1&&IT(a,h)||w==2&&Dd(a)))switch(p&&p.length>0&&(h=a.h,h.i=h.i.concat(p)),D){case 1:qs(a,5);break;case 4:qs(a,10);break;case 3:qs(a,6);break;default:qs(a,2)}}}function Ig(a,h){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*h}function qs(a,h){if(a.j.info("Error code "+h),h==2){var p=d(a.bb,a),w=a.Ua;const D=!w;w=new Ut(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bs(w,"https"),Ol(w),D?vT(w.toString(),p):_T(w.toString(),p)}else dt(2);a.I=0,a.l&&a.l.pa(h),Sg(a),vg(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Sg(a){if(a.I=0,a.ja=[],a.l){const h=fr(a.h);(h.length!=0||a.i.length!=0)&&(b(a.ja,h),b(a.ja,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.oa()}}function kg(a,h,p){var w=p instanceof Ut?tn(p):new Ut(p);if(w.g!="")h&&(w.g=h+"."+w.g),Bo(w,w.u);else{var D=o.location;w=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;const O=new Ut(null);w&&Bs(O,w),h&&(O.g=h),D&&Bo(O,D),p&&(O.h=p),w=O}return p=a.G,h=a.wa,p&&h&&Me(w,p,h),Me(w,"VER",a.ka),Qo(a,w),w}function Ng(a,h,p){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Ge(new Cd({ab:p})):new Ge(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bg(){}t=bg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ql(){}ql.prototype.g=function(a,h){return new nn(a,h)};function nn(a,h){ut.call(this),this.g=new yg(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!S(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ci(this)}m(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){jd(this.g)},nn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=fn(a),a=p);h.i.push(new zo(h.Ya++,a)),h.I==3&&Bl(h)},nn.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,nn.Z.N.call(this)};function Ag(a){ki.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}m(Ag,ki);function Rg(){Ni.call(this),this.status=1}m(Rg,Ni);function Ci(a){this.g=a}m(Ci,bg),Ci.prototype.ra=function(){Et(this.g,"a")},Ci.prototype.qa=function(a){Et(this.g,new Ag(a))},Ci.prototype.pa=function(a){Et(this.g,new Rg)},Ci.prototype.oa=function(){Et(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,T1=function(){return new ql},E1=function(){return Os()},x1=Wn,Df={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},R.NO_ERROR=0,R.TIMEOUT=8,R.HTTP_ERROR=6,jc=R,j.COMPLETE="complete",w1=j,Dl.EventType=Ht,Ht.OPEN="a",Ht.CLOSE="b",Ht.ERROR="c",Ht.MESSAGE="d",ut.prototype.listen=ut.prototype.J,pa=Dl,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,_1=Ge}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",Fv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new rp("@firebase/firestore");function Di(){return gi.logLevel}function Y(t,...e){if(gi.logLevel<=ve.DEBUG){const n=e.map(_p);gi.debug(`Firestore (${jo}): ${t}`,...n)}}function Pr(t,...e){if(gi.logLevel<=ve.ERROR){const n=e.map(_p);gi.error(`Firestore (${jo}): ${t}`,...n)}}function wo(t,...e){if(gi.logLevel<=ve.WARN){const n=e.map(_p);gi.warn(`Firestore (${jo}): ${t}`,...n)}}function _p(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,I1(t,r,n)}function I1(t,e,n){let r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pr(r),new Error(r)}function ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||I1(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class BR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $R{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new S1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class qR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=GR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Lf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return _h(s)===_h(i)?_e(s,i):_h(s)?1:-1}return _e(t.length,e.length)}const KR=55296,QR=57343;function _h(t){const e=t.charCodeAt(0);return e>=KR&&e<=QR}function xo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class Jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=Jn.isNumericId(e),s=Jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):Lf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Ce extends Jn{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Jn{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return YR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new kt([Bv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ce.fromString(e))}static fromName(e){return new se(Ce.fromString(e).popFirst(5))}static empty(){return new se(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XR(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $v(t){if(!se.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qv(t){if(se.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nd(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Il(t,e){if(!N1(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-62135596800,Wv=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Wv);return new Oe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hv)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Oe._jsonSchema))return new Oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:ot("string",Oe._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Oe(0,0))}static max(){return new ce(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function JR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Ts(s,se.empty(),e)}function ZR(t){return new Ts(t.readTime,t.key,nl)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(ce.min(),se.empty(),nl)}static max(){return new Ts(ce.max(),se.empty(),nl)}}function eC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==tC)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function rC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function sd(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function sC(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="";function iC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gv(e)),e=oC(t.get(n),e);return Gv(e)}function oC(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case b1:n+="";break;default:n+=i}}return n}function Gv(t){return t+b1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new pt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new R1("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const aC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=aC.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ss(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",P1="__type__",j1="__previous_value__",D1="__local_write_time__";function Ep(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[P1])==null?void 0:r.stringValue)===C1}function id(t){const e=t.mapValue.fields[j1];return Ep(e)?id(e):e}function rl(t){const e=Is(t.mapValue.fields[D1].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,s,i,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Eu="(default)";class sl{constructor(e,n){this.projectId=e,this.database=n||Eu}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===Eu}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",cC="__max__",fc={mapValue:{}},M1="__vector__",Tu="value";function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ep(t)?4:dC(t)?9007199254740991:uC(t)?10:11:ae(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Is(s.timestampValue),l=Is(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ss(s.bytesValue).isEqual(Ss(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Xe(s.geoPointValue.latitude)===Xe(i.geoPointValue.latitude)&&Xe(s.geoPointValue.longitude)===Xe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Xe(s.integerValue)===Xe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Xe(s.doubleValue),l=Xe(i.doubleValue);return o===l?xu(o)===xu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Kv(o)!==Kv(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!lr(o[c],l[c])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function il(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Eo(t,e){if(t===e)return 0;const n=ks(t),r=ks(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Xe(i.integerValue||i.doubleValue),c=Xe(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Yv(t.timestampValue,e.timestampValue);case 4:return Yv(rl(t),rl(e));case 5:return Lf(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Ss(i),c=Ss(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=_e(l[d],c[d]);if(f!==0)return f}return _e(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=_e(Xe(i.latitude),Xe(o.latitude));return l!==0?l:_e(Xe(i.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,x,b,k;const l=i.fields||{},c=o.fields||{},d=(g=l[Tu])==null?void 0:g.arrayValue,f=(x=c[Tu])==null?void 0:x.arrayValue,m=_e(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((k=f==null?void 0:f.values)==null?void 0:k.length)||0);return m!==0?m:Xv(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===fc.mapValue&&o===fc.mapValue)return 0;if(i===fc.mapValue)return 1;if(o===fc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=Lf(c[m],f[m]);if(g!==0)return g;const x=Eo(l[c[m]],d[f[m]]);if(x!==0)return x}return _e(c.length,f.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function Yv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Is(t),r=Is(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function Xv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Eo(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function To(t){return Mf(t)}function Mf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Mf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Mf(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function Dc(t){switch(ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(t);return e?16+Dc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Dc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ls(r.fields,(i,o)=>{s+=i.length+Dc(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function Jv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vf(t){return!!t&&"integerValue"in t}function Tp(t){return!!t&&"arrayValue"in t}function Zv(t){return!!t&&"nullValue"in t}function e_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lc(t){return!!t&&"mapValue"in t}function uC(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[L1])==null?void 0:r.stringValue)===M1}function Ca(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ca(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ca(t.arrayValue.values[n]);return e}return{...t}}function dC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ca(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ca(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Yt(Ca(this.value))}}function V1(t){const e=[];return Ls(t.fields,(n,r)=>{const s=new kt([n]);if(Lc(r)){const i=V1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,ce.min(),ce.min(),ce.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,ce.min(),ce.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ce.min(),ce.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.position=e,this.inclusive=n}}function t_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Eo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function hC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{}class it extends O1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mC(e,n,r):n==="array-contains"?new yC(e,r):n==="in"?new vC(e,r):n==="not-in"?new _C(e,r):n==="array-contains-any"?new wC(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pC(e,r):new gC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends O1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fn(e,n)}matches(e){return U1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function U1(t){return t.op==="and"}function F1(t){return fC(t)&&U1(t)}function fC(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Of(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+To(t.value);if(F1(t))return t.filters.map(e=>Of(e)).join(",");{const e=t.filters.map(n=>Of(n)).join(",");return`${t.op}(${e})`}}function z1(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&lr(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&z1(o,s.filters[l]),!0):!1}(t,e):void ae(19439)}function B1(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(B1).join(" ,")+"}"}(t):"Filter"}class mC extends it{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class pC extends it{constructor(e,n){super(e,"in",n),this.keys=$1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gC extends it{constructor(e,n){super(e,"not-in",n),this.keys=$1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class yC extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&il(n.arrayValue,this.value)}}class vC extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}}class _C extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!il(this.value.arrayValue,n)}}class wC extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function r_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new xC(t,e,n,r,s,i,o)}function Ip(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Of(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>To(r)).join(",")),e.Te=n}return e.Te}function Sp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n_(t.startAt,e.startAt)&&n_(t.endAt,e.endAt)}function Uf(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EC(t,e,n,r,s,i,o,l){return new Mo(t,e,n,r,s,i,o,l)}function kp(t){return new Mo(t)}function s_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q1(t){return t.collectionGroup!==null}function Pa(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new pt(kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ol(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new ol(kt.keyField(),r))}return e.Ie}function sr(t){const e=de(t);return e.Ee||(e.Ee=TC(e,Pa(t))),e.Ee}function TC(t,e){if(t.limitType==="F")return r_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ol(s.field,i)});const n=t.endAt?new Iu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Iu(t.startAt.position,t.startAt.inclusive):null;return r_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ff(t,e){const n=t.filters.concat([e]);return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zf(t,e,n){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function od(t,e){return Sp(sr(t),sr(e))&&t.limitType===e.limitType}function H1(t){return`${Ip(sr(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>B1(s)).join(", ")}]`),sd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>To(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>To(s)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=t_(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Pa(r),s)||r.endAt&&!function(o,l,c){const d=t_(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Pa(r),s))}(t,e)}function IC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W1(t){return(e,n)=>{let r=!1;for(const s of Pa(t)){const i=SC(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function SC(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Eo(c,d):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new He(se.comparator);function jr(){return kC}const G1=new He(se.comparator);function ga(...t){let e=G1;for(const n of t)e=e.insert(n.key,n);return e}function K1(t){let e=G1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return ja()}function Q1(){return ja()}function ja(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const NC=new He(se.comparator),bC=new pt(se.comparator);function we(...t){let e=bC;for(const n of t)e=e.add(n);return e}const AC=new pt(_e);function RC(){return AC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function Y1(t){return{integerValue:""+t}}function CC(t,e){return sC(e)?Y1(e):Np(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function PC(t,e,n){return t instanceof al?function(s,i){const o={fields:{[P1]:{stringValue:C1},[D1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ep(i)&&(i=id(i)),i&&(o.fields[j1]=i),{mapValue:o}}(n,e):t instanceof ll?J1(t,e):t instanceof cl?Z1(t,e):function(s,i){const o=X1(s,i),l=i_(o)+i_(s.Ae);return Vf(o)&&Vf(s.Ae)?Y1(l):Np(s.serializer,l)}(t,e)}function jC(t,e,n){return t instanceof ll?J1(t,e):t instanceof cl?Z1(t,e):n}function X1(t,e){return t instanceof Su?function(r){return Vf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class al extends ld{}class ll extends ld{constructor(e){super(),this.elements=e}}function J1(t,e){const n=eE(e);for(const r of t.elements)n.some(s=>lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class cl extends ld{constructor(e){super(),this.elements=e}}function Z1(t,e){let n=eE(e);for(const r of t.elements)n=n.filter(s=>!lr(s,r));return{arrayValue:{values:n}}}class Su extends ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function i_(t){return Xe(t.integerValue||t.doubleValue)}function eE(t){return Tp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.field=e,this.transform=n}}function LC(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ll&&s instanceof ll||r instanceof cl&&s instanceof cl?xo(r.elements,s.elements,lr):r instanceof Su&&s instanceof Su?lr(r.Ae,s.Ae):r instanceof al&&s instanceof al}(t.transform,e.transform)}class MC{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cd{}function tE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bp(t.key,wn.none()):new Sl(t.key,t.data,wn.none());{const n=t.data,r=Yt.empty();let s=new pt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ms(t.key,r,new ln(s.toArray()),wn.none())}}function VC(t,e,n){t instanceof Sl?function(s,i,o){const l=s.value.clone(),c=a_(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ms?function(s,i,o){if(!Mc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=a_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(nE(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Da(t,e,n,r){return t instanceof Sl?function(i,o,l,c){if(!Mc(i.precondition,o))return l;const d=i.value.clone(),f=l_(i.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ms?function(i,o,l,c){if(!Mc(i.precondition,o))return l;const d=l_(i.fieldTransforms,c,o),f=o.data;return f.setAll(nE(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return Mc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function OC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=X1(r.transform,s||null);i!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,i))}return n||null}function o_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xo(r,s,(i,o)=>LC(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sl extends cd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ms extends cd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a_(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,jC(o,l,n[s]))}return r}function l_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PC(i,o,e))}return r}class bp extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UC extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&VC(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=tE(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>o_(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>o_(n,r))}}class Ap{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return NC}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ap(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,xe;function $C(t){switch(t){case U.OK:return ae(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function rE(t){if(t===void 0)return Pr("GRPC error has no .code"),U.UNKNOWN;switch(t){case nt.OK:return U.OK;case nt.CANCELLED:return U.CANCELLED;case nt.UNKNOWN:return U.UNKNOWN;case nt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case nt.INTERNAL:return U.INTERNAL;case nt.UNAVAILABLE:return U.UNAVAILABLE;case nt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case nt.NOT_FOUND:return U.NOT_FOUND;case nt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case nt.ABORTED:return U.ABORTED;case nt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case nt.DATA_LOSS:return U.DATA_LOSS;default:return ae(39323,{code:t})}}(xe=nt||(nt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new _s([4294967295,4294967295],0);function c_(t){const e=qC().encode(t),n=new v1;return n.update(e),new Uint8Array(n.digest())}function u_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _s([n,r],0),new _s([s,i],0)]}class Rp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(r<0)throw new ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(_s.fromNumber(r)));return s.compare(HC)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c_(e),[r,s]=u_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Rp(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=c_(e),[r,s]=u_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(ce.min(),s,new He(_e),jr(),we())}}class kl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class sE{constructor(e,n){this.targetId=e,this.Ce=n}}class iE{constructor(e,n,r=At.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class d_{constructor(){this.ve=0,this.Fe=h_(),this.Me=At.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new kl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WC{constructor(e){this.Ge=e,this.ze=new Map,this.je=jr(),this.Je=mc(),this.He=mc(),this.Ye=new He(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Uf(i))if(r===0){const o=new se(i.path);this.et(n,o,Mt.newNoDocument(o,ce.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Ss(r).toUint8Array()}catch(c){if(c instanceof R1)return wo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Rp(o,s,i)}catch(c){return wo(c instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Uf(l.target)){const c=new se(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Mt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=we();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ud(e,n,this.Ye,this.je,r);return this.je=jr(),this.Je=mc(),this.He=mc(),this.Ye=new He(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new d_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mc(){return new He(se.comparator)}function h_(){return new He(se.comparator)}const GC={asc:"ASCENDING",desc:"DESCENDING"},KC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QC={and:"AND",or:"OR"};class YC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bf(t,e){return t.useProto3Json||sd(e)?e:{value:e}}function ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XC(t,e){return ku(t,e.toTimestamp())}function ir(t){return ke(!!t,49232),ce.fromTimestamp(function(n){const r=Is(n);return new Oe(r.seconds,r.nanos)}(t))}function Cp(t,e){return $f(t,e).canonicalString()}function $f(t,e){const n=function(s){return new Ce(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aE(t){const e=Ce.fromString(t);return ke(hE(e),10190,{key:e.toString()}),e}function qf(t,e){return Cp(t.databaseId,e.path)}function wh(t,e){const n=aE(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(cE(n))}function lE(t,e){return Cp(t.databaseId,e)}function JC(t){const e=aE(t);return e.length===4?Ce.emptyPath():cE(e)}function Hf(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cE(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f_(t,e,n){return{name:qf(t,e),fields:n.value.mapValue.fields}}function ZC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ae(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ke(f===void 0||typeof f=="string",58123),At.fromBase64String(f||"")):(ke(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),At.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?U.UNKNOWN:rE(d.code);return new K(f,d.message||"")}(o);n=new iE(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wh(t,r.document.name),i=ir(r.document.updateTime),o=r.document.createTime?ir(r.document.createTime):ce.min(),l=new Yt({mapValue:{fields:r.document.fields}}),c=Mt.newFoundDocument(s,i,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Vc(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wh(t,r.document),i=r.readTime?ir(r.readTime):ce.min(),o=Mt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Vc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wh(t,r.document),i=r.removedTargetIds||[];n=new Vc([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new BC(s,i),l=r.targetId;n=new sE(l,o)}}return n}function eP(t,e){let n;if(e instanceof Sl)n={update:f_(t,e.key,e.value)};else if(e instanceof bp)n={delete:qf(t,e.key)};else if(e instanceof Ms)n={update:f_(t,e.key,e.data),updateMask:cP(e.fieldMask)};else{if(!(e instanceof UC))return ae(16599,{Vt:e.type});n={verify:qf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof al)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Su)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:XC(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function tP(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ir(s.updateTime):ir(i);return o.isEqual(ce.min())&&(o=ir(i)),new MC(o,s.transformResults||[])}(n,e))):[]}function nP(t,e){return{documents:[lE(t,e.path)]}}function rP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lE(t,s);const i=function(d){if(d.length!==0)return dE(Fn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Mi(g.field),direction:oP(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Bf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function sP(t){let e=JC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const g=uE(m);return g instanceof Fn&&F1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(b){return new ol(Vi(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,sd(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,x=m.values||[];return new Iu(x,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,x=m.values||[];return new Iu(x,g)}(n.endAt)),EC(e,s,o,i,l,"F",c,d)}function iP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vi(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vi(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vi(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vi(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(Vi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>uE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function oP(t){return GC[t]}function aP(t){return KC[t]}function lP(t){return QC[t]}function Mi(t){return{fieldPath:t.canonicalString()}}function Vi(t){return kt.fromServerFormat(t.fieldPath)}function dE(t){return t instanceof it?function(n){if(n.op==="=="){if(e_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NAN"}};if(Zv(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(n.field),op:aP(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>dE(s));return r.length===1?r[0]:{compositeFilter:{op:lP(n.op),filters:r}}}(t):ae(54877,{filter:t})}function cP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,s,i=ce.min(),o=ce.min(),l=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.yt=e}}function dP(t){const e=sP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Cn=new fP}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ts.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class fP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(Ce.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(fE,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",mP=1048576;function g_([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class pP{constructor(e){this.Ir=e,this.buffer=new pt(g_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(p_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?Y(p_,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)})}}class yP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(rd.ce);const r=new pP(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(m_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),Di()<=ve.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function vP(t,e){return new yP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Da(r.mutation,s,ln.empty(),Oe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ga();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=jr();const o=ja(),l=function(){return ja()}();return n.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof Ms)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Da(f.mutation,d,f.mutation.getFieldMask(),Oe.now())):o.set(d.key,ln.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>l.set(d,new wP(f,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=ja();let s=new He((o,l)=>o-l),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||ln.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(s.get(l.batchId)||we()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=Q1();f.forEach(g=>{if(!i.has(g)){const x=tE(n.get(g),r.get(g));x!==null&&m.set(g,x),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(ti());let l=nl,c=i;return o.next(d=>F.forEach(d,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,we())).next(f=>({batchId:l,changes:K1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=ga();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ga();return this.indexManager.getCollectionParents(e,i).next(l=>F.forEach(l,c=>{const d=function(m,g){return new Mo(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Mt.newInvalidDocument(f)))});let l=ga();return o.forEach((c,d)=>{const f=i.get(c);f!==void 0&&Da(f.mutation,d,ln.empty(),Oe.now()),ad(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:dP(s.bundledQuery),readTime:ir(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.overlays=new He(se.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=ti(),i=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new He((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=ti(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=ti(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=s)););return F.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zC(n,r));let i=this.qr.get(n);i===void 0&&(i=we(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.Qr=new pt(_t.$r),this.Ur=new pt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Ce([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Ce([])),r=new _t(n,e),s=new _t(n,e+1);let i=we();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(_t.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FC(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new _t(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(_e);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new _t(new se(i),0);let l=new pt(_e);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Yr)),!0)},o),F.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _t(n,0),s=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.ri=e,this.docs=function(){return new He(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=jr();const o=n.path,l=new se(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||eC(ZR(f),r)<=0||(s.has(f.key)||ad(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NP(this)}getSize(e){return F.resolve(this.size)}}class NP extends _P{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.persistence=e,this.si=new wi(n=>Ip(n),Sp),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.ui={},this.overlays={},this.ci=new rd(0),this.li=!1,this.li=!0,this.hi=new IP,this.referenceDelegate=e(this),this.Pi=new bP(this),this.indexManager=new hP,this.remoteDocumentCache=function(s){return new kP(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new uP(n),this.Ii=new EP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new SP(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new AP(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class AP extends nC{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nu{constructor(e,n){this.persistence=e,this.pi=new wi(r=>iC(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vP(this,n)}static mi(e,n){return new Nu(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dc(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Dp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rN()?8:rC(Ot())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new RP;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Di()<=ve.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Di()<=ve.DEBUG&&Y("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Di()<=ve.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):F.resolve())}ys(e,n){if(s_(n))return F.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=zf(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,zf(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return s_(n)||s.isEqual(ce.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Di()<=ve.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Li(n)),this.vs(e,o,n,JR(s,nl)).next(l=>l))})}Ds(e,n){let r=new pt(W1(e));return n.forEach((s,i)=>{ad(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Di()<=ve.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Li(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",PP=3e8;class jP{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new He(_e),this.xs=new wi(i=>Ip(i),Sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function DP(t,e,n,r){return new jP(t,e,n,r)}async function pE(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=we();for(const d of s){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function LP(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,f){const m=d.batch,g=m.keys();let x=F.resolve();return g.forEach(b=>{x=x.next(()=>f.getEntry(c,b)).next(k=>{const C=d.docVersions.get(b);ke(C!==null,48541),k.version.compareTo(C)<0&&(m.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),f.addEntry(k)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function gE(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function MP(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((f,m)=>{const g=s.get(m);if(!g)return;l.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,m)));let x=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(At.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),s=s.insert(m,x),function(k,C,E){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=PP?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,x,f)&&l.push(n.Pi.updateTargetData(i,x))});let c=jr(),d=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(VP(i,o,e.documentUpdates).next(f=>{c=f.ks,d=f.qs})),!r.isEqual(ce.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return F.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function VP(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=jr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Y(Lp,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function OP(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UP(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Wf(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Lo(o))throw o;Y(Lp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function y_(t,e,n){const r=de(t);let s=ce.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const m=de(c),g=m.xs.get(f);return g!==void 0?F.resolve(m.Ms.get(g)):m.Pi.getTargetData(d,f)}(r,o,sr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:we())).next(l=>(FP(r,IC(e),l),{documents:l,Qs:i})))}function FP(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=RC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zP{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class w_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(__,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Gf(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="RestConnection",$P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Eu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Gf(),l=this.zo(e,n.toUriEncodedString());Y(xh,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(l),f=Ro(d);return this.Jo(e,l,c,r,f).then(m=>(Y(xh,`Received RPC '${e}' ${o}: `,m),m),m=>{throw wo(xh,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=$P[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class WP extends qP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Gf();return new Promise((l,c)=>{const d=new _1;d.setWithCredentials(!0),d.listenOnce(w1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jc.NO_ERROR:const m=d.getResponseJson();Y(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case jc.TIMEOUT:Y(jt,`RPC '${e}' ${o} timed out`),c(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const g=d.getStatus();if(Y(jt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x==null?void 0:x.error;if(b&&b.status&&b.message){const k=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(b.status);c(new K(k,b.message))}else c(new K(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(U.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Y(jt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);Y(jt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}T_(e,n,r){const s=Gf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=T1(),l=E1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");Y(jt,`Creating RPC '${e}' stream ${s}: ${f}`,c);const m=o.createWebChannel(f,c);this.I_(m);let g=!1,x=!1;const b=new HP({Yo:C=>{x?Y(jt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(Y(jt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),Y(jt,`RPC '${e}' stream ${s} sending:`,C),m.send(C))},Zo:()=>m.close()}),k=(C,E,_)=>{C.listen(E,N=>{try{_(N)}catch(M){setTimeout(()=>{throw M},0)}})};return k(m,pa.EventType.OPEN,()=>{x||(Y(jt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),k(m,pa.EventType.CLOSE,()=>{x||(x=!0,Y(jt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(m))}),k(m,pa.EventType.ERROR,C=>{x||(x=!0,wo(jt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),b.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),k(m,pa.EventType.MESSAGE,C=>{var E;if(!x){const _=C.data[0];ke(!!_,16349);const N=_,M=(N==null?void 0:N.error)||((E=N[0])==null?void 0:E.error);if(M){Y(jt,`RPC '${e}' stream ${s} received error:`,M);const z=M.status;let q=function(T){const I=nt[T];if(I!==void 0)return rE(I)}(z),y=M.message;q===void 0&&(q=U.INTERNAL,y="Unknown error status: "+z+" with message "+M.message),x=!0,b.a_(new K(q,y)),m.close()}else Y(jt,`RPC '${e}' stream ${s} received:`,_),b.u_(_)}}),k(l,x1.STAT_EVENT,C=>{C.stat===Df.PROXY?Y(jt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Df.NOPROXY&&Y(jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){return new YC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class vE{constructor(e,n,r,s,i,o,l,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GP extends vE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZC(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ir(o.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Hf(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Uf(c)?{documents:nP(i,c)}:{query:rP(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=oE(i,o.resumeToken);const d=Bf(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){l.readTime=ku(i,o.snapshotVersion.toTimestamp());const d=Bf(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=iP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Hf(this.serializer),n.removeTarget=e,this.q_(n)}}class KP extends vE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tP(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eP(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class YP extends QP{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,$f(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,$f(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pr(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="RemoteStore";class JP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{xi(this)&&(Y(yi,"Restarting streams for network reachability change."),await async function(c){const d=de(c);d.Ea.add(4),await Nl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await hd(d)}(this))})}),this.Ra=new XP(r,s)}}async function hd(t){if(xi(t))for(const e of t.da)await e(!0)}async function Nl(t){for(const e of t.da)await e(!1)}function _E(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?Op(n):Vo(n).O_()&&Vp(n,e))}function Mp(t,e){const n=de(t),r=Vo(n);n.Ia.delete(e),r.O_()&&wE(n,e),n.Ia.size===0&&(r.O_()?r.L_():xi(n)&&n.Ra.set("Unknown"))}function Vp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).Y_(e)}function wE(t,e){t.Va.Ue(e),Vo(t).Z_(e)}function Op(t){t.Va=new WC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.Ra.ua()}function Up(t){return xi(t)&&!Vo(t).x_()&&t.Ia.size>0}function xi(t){return de(t).Ea.size===0}function xE(t){t.Va=void 0}async function ZP(t){t.Ra.set("Online")}async function e4(t){t.Ia.forEach((e,n)=>{Vp(t,e)})}async function t4(t,e){xE(t),Up(t)?(t.Ra.ha(e),Op(t)):t.Ra.set("Unknown")}async function n4(t,e,n){if(t.Ra.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Y(yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bu(t,r)}else if(e instanceof Vc?t.Va.Ze(e):e instanceof sE?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await gE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const f=i.Ia.get(c);if(!f)return;i.Ia.set(c,f.withResumeToken(At.EMPTY_BYTE_STRING,f.snapshotVersion)),wE(i,c);const m=new as(f.target,c,d,f.sequenceNumber);Vp(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y(yi,"Failed to raise snapshot:",r),await bu(t,r)}}async function bu(t,e,n){if(!Lo(e))throw e;t.Ea.add(1),await Nl(t),t.Ra.set("Offline"),n||(n=()=>gE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(yi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hd(t)})}function EE(t,e){return e().catch(n=>bu(t,n,e))}async function fd(t){const e=de(t),n=Ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;r4(e);)try{const s=await OP(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,s4(e,s)}catch(s){await bu(e,s)}TE(e)&&IE(e)}function r4(t){return xi(t)&&t.Ta.length<10}function s4(t,e){t.Ta.push(e);const n=Ns(t);n.O_()&&n.X_&&n.ea(e.mutations)}function TE(t){return xi(t)&&!Ns(t).x_()&&t.Ta.length>0}function IE(t){Ns(t).start()}async function i4(t){Ns(t).ra()}async function o4(t){const e=Ns(t);for(const n of t.Ta)e.ea(n.mutations)}async function a4(t,e,n){const r=t.Ta.shift(),s=Ap.from(r,e,n);await EE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fd(t)}async function l4(t,e){e&&Ns(t).X_&&await async function(r,s){if(function(o){return $C(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();Ns(r).B_(),await EE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fd(r)}}(t,e),TE(t)&&IE(t)}async function E_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Y(yi,"RemoteStore received new credentials");const r=xi(n);n.Ea.add(3),await Nl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hd(n)}async function c4(t,e){const n=de(t);e?(n.Ea.delete(2),await hd(n)):e||(n.Ea.add(2),await Nl(n),n.Ra.set("Unknown"))}function Vo(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new GP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:ZP.bind(null,t),t_:e4.bind(null,t),r_:t4.bind(null,t),H_:n4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Up(t)?Op(t):t.Ra.set("Unknown")):(await t.ma.stop(),xE(t))})),t.ma}function Ns(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new KP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:i4.bind(null,t),r_:l4.bind(null,t),ta:o4.bind(null,t),na:a4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fd(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(yi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Fp(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Lo(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=ga(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.ga=new He(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class So{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new So(e,n,oo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class d4{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=I_(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function I_(){return new wi(t=>H1(t),od)}async function SE(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new u4,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=zp(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Bp(n)}async function kE(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function h4(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&Bp(n)}function f4(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Bp(t){t.Ca.forEach(e=>{e.next()})}var Kf,S_;(S_=Kf||(Kf={})).Ma="default",S_.Cache="cache";class NE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class AE{constructor(e){this.key=e}}class m4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=W1(e),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new T_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const g=s.get(f),x=ad(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;g&&x?g.data.isEqual(x.data)?b!==k&&(r.track({type:3,doc:x}),C=!0):this.su(g,x)||(r.track({type:2,doc:x}),C=!0,(c&&this.eu(x,c)>0||d&&this.eu(x,d)<0)&&(l=!0)):!g&&x?(r.track({type:0,doc:x}),C=!0):g&&!x&&(r.track({type:1,doc:g}),C=!0,(c||d)&&(l=!0)),C&&(x?(o=o.add(x),i=k?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,m)=>function(x,b){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:C})}};return k(x)-k(b)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new So(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new AE(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new bE(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class p4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g4{constructor(e){this.key=e,this.hu=!1}}class y4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new wi(l=>H1(l),od),this.Iu=new Map,this.Eu=new Set,this.du=new He(se.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v4(t,e,n=!0){const r=LE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await RE(r,e,n,!0),s}async function _4(t,e){const n=LE(t);await RE(n,e,!0,!1)}async function RE(t,e,n,r){const s=await UP(t.localStore,sr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await w4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_E(t.remoteStore,s),l}async function w4(t,e,n,r,s){t.pu=(m,g,x)=>async function(k,C,E,_){let N=C.view.ru(E);N.Cs&&(N=await y_(k.localStore,C.query,!1).then(({documents:y})=>C.view.ru(y,N)));const M=_&&_.targetChanges.get(C.targetId),z=_&&_.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(N,k.isPrimaryClient,M,z);return N_(k,C.targetId,q.au),q.snapshot}(t,m,g,x);const i=await y_(t.localStore,e,!0),o=new m4(e,i.Qs),l=o.ru(i.documents),c=kl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);N_(t,n,d.au);const f=new p4(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function x4(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!od(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Wf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Mp(r.remoteStore,s.targetId),Qf(r,s.targetId)}).catch(Do)):(Qf(r,s.targetId),await Wf(r.localStore,s.targetId,!0))}async function E4(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mp(n.remoteStore,r.targetId))}async function T4(t,e,n){const r=R4(t);try{const s=await function(o,l){const c=de(o),d=Oe.now(),f=l.reduce((x,b)=>x.add(b.key),we());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=jr(),k=we();return c.Ns.getEntries(x,f).next(C=>{b=C,b.forEach((E,_)=>{_.isValidDocument()||(k=k.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,b)).next(C=>{m=C;const E=[];for(const _ of l){const N=OC(_,m.get(_.key).overlayedDocument);N!=null&&E.push(new Ms(_.key,N,V1(N.value.mapValue),wn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,E,l)}).next(C=>{g=C;const E=C.applyToLocalDocumentSet(m,k);return c.documentOverlayCache.saveOverlays(x,C.batchId,E)})}).then(()=>({batchId:g.batchId,changes:K1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new He(_e)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await bl(r,s.changes),await fd(r.remoteStore)}catch(s){const i=zp(s,"Failed to persist write");n.reject(i)}}async function CE(t,e){const n=de(t);try{const r=await MP(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ke(o.hu,14607):s.removedDocuments.size>0&&(ke(o.hu,42227),o.hu=!1))}),await bl(n,r,e)}catch(r){await Do(r)}}function k_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=de(o);c.onlineState=l;let d=!1;c.queries.forEach((f,m)=>{for(const g of m.Sa)g.va(l)&&(d=!0)}),d&&Bp(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I4(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new He(se.comparator);o=o.insert(i,Mt.newNoDocument(i,ce.min()));const l=we().add(i),c=new ud(ce.min(),new Map,new He(_e),o,l);await CE(r,c),r.du=r.du.remove(i),r.Au.delete(e),qp(r)}else await Wf(r.localStore,e,!1).then(()=>Qf(r,e,n)).catch(Do)}async function S4(t,e){const n=de(t),r=e.batch.batchId;try{const s=await LP(n.localStore,e);jE(n,r,null),PE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bl(n,s)}catch(s){await Do(s)}}async function k4(t,e,n){const r=de(t);try{const s=await function(o,l){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(ke(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);jE(r,e,n),PE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bl(r,s)}catch(s){await Do(s)}}function PE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jE(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||DE(t,r)})}function DE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qp(t))}function N_(t,e,n){for(const r of n)r instanceof bE?(t.Ru.addReference(r.key,e),N4(t,r)):r instanceof AE?(Y($p,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||DE(t,r.key)):ae(19791,{wu:r})}function N4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y($p,"New document in limbo: "+n),t.Eu.add(r),qp(t))}function qp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Ce.fromString(e)),r=t.fu.next();t.Au.set(r,new g4(n)),t.du=t.du.insert(n,r),_E(t.remoteStore,new as(sr(kp(n.path)),r,"TargetPurposeLimboResolution",rd.ce))}}async function bl(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Dp.As(c.targetId,d);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const f=de(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(d,g=>F.forEach(g.Es,x=>f.persistence.referenceDelegate.addReference(m,g.targetId,x)).next(()=>F.forEach(g.ds,x=>f.persistence.referenceDelegate.removeReference(m,g.targetId,x)))))}catch(m){if(!Lo(m))throw m;Y(Lp,"Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const x=f.Ms.get(g),b=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(g,k)}}}(r.localStore,i))}async function b4(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Y($p,"User change. New user:",e.toKey());const r=await pE(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bl(n,r.Ls)}}function A4(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function LE(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I4.bind(null,e),e.Pu.H_=h4.bind(null,e.eventManager),e.Pu.yu=f4.bind(null,e.eventManager),e}function R4(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DP(this.persistence,new CP,e.initialUser,this.serializer)}Cu(e){return new mE(jp.mi,this.serializer)}Du(e){return new zP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class C4 extends Au{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ke(this.persistence.referenceDelegate instanceof Nu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new mE(r=>Nu.mi(r,n),this.serializer)}}class Yf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d4}()}createDatastore(e){const n=dd(e.databaseInfo.databaseId),r=function(i){return new WP(i)}(e.databaseInfo);return function(i,o,l,c){return new YP(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new JP(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>k_(this.syncEngine,n,0),function(){return w_.v()?new w_:new BP}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,f){const m=new y4(s,i,o,l,c,d);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);Y(yi,"RemoteStore shutting down."),i.Ea.add(5),await Nl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class P4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(bs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(bs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Th(t,e){t.asyncQueue.verifyOperationInProgress(),Y(bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j4(t);Y(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>E_(e.remoteStore,s)),t._onlineComponents=e}async function j4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(bs,"Using user provided OfflineComponentProvider");try{await Th(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Th(t,new Au)}}else Y(bs,"Using default OfflineComponentProvider"),await Th(t,new C4(void 0));return t._offlineComponents}async function VE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(bs,"Using user provided OnlineComponentProvider"),await b_(t,t._uninitializedComponentsProvider._online)):(Y(bs,"Using default OnlineComponentProvider"),await b_(t,new Yf))),t._onlineComponents}function D4(t){return VE(t).then(e=>e.syncEngine)}async function OE(t){const e=await VE(t),n=e.eventManager;return n.onListen=v4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E4.bind(null,e.syncEngine),n}function L4(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const f=new ME({next:g=>{f.Nu(),o.enqueueAndForget(()=>kE(i,m));const x=g.docs.has(l);!x&&g.fromCache?d.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new NE(kp(l.path),f,{includeMetadataChanges:!0,qa:!0});return SE(i,m)}(await OE(t),t.asyncQueue,e,n,r)),r.promise}function M4(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const f=new ME({next:g=>{f.Nu(),o.enqueueAndForget(()=>kE(i,m)),g.fromCache&&c.source==="server"?d.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new NE(l,f,{includeMetadataChanges:!0,qa:!0});return SE(i,m)}(await OE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",R_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=R_}else this.host=e.host,this.ssl=e.ssl??R_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mP)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zR;switch(r.type){case"firstParty":return new HR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A_.get(n);r&&(Y("ComponentProvider","Removing Datastore"),A_.delete(n),r.terminate())}(this),Promise.resolve()}}function V4(t,e,n,r={}){var d;t=Un(t,md);const s=Ro(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(Nx(`https://${l}`),bx("Firestore",!0)),i.host!==FE&&i.host!==l&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!hi(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Dt.MOCK_USER;else{f=Kk(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Dt(g)}t._authCredentials=new BR(new S1(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}toJSON(){return{type:et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Il(n,et._jsonSchema))return new et(e,r||null,new se(Ce.fromString(n.referencePath)))}}et._jsonSchemaVersion="firestore/documentReference/1.0",et._jsonSchema={type:ot("string",et._jsonSchemaVersion),referencePath:ot("string")};class ws extends Ei{constructor(e,n,r){super(e,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new se(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function Hp(t,e,...n){if(t=Ye(t),k1("collection","path",e),t instanceof md){const r=Ce.fromString(e,...n);return qv(r),new ws(t,null,r)}{if(!(t instanceof et||t instanceof ws))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return qv(r),new ws(t.firestore,null,r)}}function ul(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=wp.newId()),k1("doc","path",e),t instanceof md){const r=Ce.fromString(e,...n);return $v(r),new et(t,null,new se(r))}{if(!(t instanceof et||t instanceof ws))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return $v(r),new et(t.firestore,t instanceof ws?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yE(this,"async_queue_retry"),this._c=()=>{const r=Eh();r&&Y(P_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;Y(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pr("INTERNAL UNHANDLED ERROR: ",D_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Fp.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ti extends md{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new j_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function O4(t,e){const n=typeof t=="object"?t:Px(),r=typeof t=="string"?t:Eu,s=ip(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Wk("firestore");i&&V4(s,...i)}return s}function Wp(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U4(t),t._firestoreClient}function U4(t){var r,s,i;const e=t._freezeSettings(),n=function(l,c,d,f){return new lC(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,UE(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new P4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(At.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yn(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:ot("string",yn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:or._jsonSchemaVersion}}static fromJSON(e){if(Il(e,or._jsonSchema))return new or(e.latitude,e.longitude)}}or._jsonSchemaVersion="firestore/geoPoint/1.0",or._jsonSchema={type:ot("string",or._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ar(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:ot("string",ar._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=/^__.*__$/;class z4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}class zE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class Gp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ru(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BE(this.Ac)&&F4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dd(e)}Cc(e,n,r,s=!1){return new Gp({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yd(t){const e=t._freezeSettings(),n=dd(t._databaseId);return new B4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $E(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Qp("Data must be an object, but it was:",o,r);const l=qE(r,o);let c,d;if(i.merge)c=new ln(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const g=Xf(e,m,n);if(!o.contains(g))throw new K(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);WE(f,g)||f.push(g)}c=new ln(f),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new z4(new Yt(l),c,d)}class vd extends gd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vd}}class Kp extends gd{_toFieldTransform(e){return new DC(e.path,new al)}isEqual(e){return e instanceof Kp}}function $4(t,e,n,r){const s=t.Cc(1,e,n);Qp("Data must be an object, but it was:",s,r);const i=[],o=Yt.empty();Ls(r,(c,d)=>{const f=Yp(e,c,n);d=Ye(d);const m=s.yc(f);if(d instanceof vd)i.push(f);else{const g=Al(d,m);g!=null&&(i.push(f),o.set(f,g))}});const l=new ln(i);return new zE(o,l,s.fieldTransforms)}function q4(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[Xf(e,r,n)],c=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(Xf(e,i[g])),c.push(i[g+1]);const d=[],f=Yt.empty();for(let g=l.length-1;g>=0;--g)if(!WE(d,l[g])){const x=l[g];let b=c[g];b=Ye(b);const k=o.yc(x);if(b instanceof vd)d.push(x);else{const C=Al(b,k);C!=null&&(d.push(x),f.set(x,C))}}const m=new ln(d);return new zE(f,m,o.fieldTransforms)}function H4(t,e,n,r=!1){return Al(n,t.Cc(r?4:3,e))}function Al(t,e){if(HE(t=Ye(t)))return Qp("Unsupported field value:",e,t),qE(t,e);if(t instanceof gd)return function(r,s){if(!BE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Al(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Oe.fromDate(r);return{timestampValue:ku(s.serializer,i)}}if(r instanceof Oe){const i=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ku(s.serializer,i)}}if(r instanceof or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yn)return{bytesValue:oE(s.serializer,r._byteString)};if(r instanceof et){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ar)return function(o,l){return{mapValue:{fields:{[L1]:{stringValue:M1},[Tu]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Np(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${nd(r)}`)}(t,e)}function qE(t,e){const n={};return A1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,s)=>{const i=Al(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function HE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof or||t instanceof yn||t instanceof et||t instanceof gd||t instanceof ar)}function Qp(t,e,n){if(!HE(n)||!N1(n)){const r=nd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Xf(t,e,n){if((e=Ye(e))instanceof pd)return e._internalPath;if(typeof e=="string")return Yp(t,e);throw Ru("Field path arguments must be of type string or ",t,!1,void 0,n)}const W4=new RegExp("[~\\*/\\[\\]]");function Yp(t,e,n){if(e.search(W4)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ru(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new K(U.INVALID_ARGUMENT,l+t+c)}function WE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G4 extends GE{data(){return super.data()}}function _d(t,e){return typeof e=="string"?Yp(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class KE extends Xp{}function QE(t,e,...n){let r=[];e instanceof Xp&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Jp).length,l=i.filter(c=>c instanceof wd).length;if(o>1||o>0&&l>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class wd extends KE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wd(e,n,r)}_apply(e){const n=this._parse(e);return XE(e._query,n),new Ei(e.firestore,e.converter,Ff(e._query,n))}_parse(e){const n=yd(e.firestore);return function(i,o,l,c,d,f,m){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){M_(m,f);const b=[];for(const k of m)b.push(L_(c,i,k));g={arrayValue:{values:b}}}else g=L_(c,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||M_(m,f),g=H4(l,o,m,f==="in"||f==="not-in");return it.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YE(t,e,n){const r=e,s=_d("where",t);return wd._create(s,r,n)}class Jp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)XE(o,c),o=Ff(o,c)}(e._query,n),new Ei(e.firestore,e.converter,Ff(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends KE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zp(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(i,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Mo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Q4(t,e="asc"){const n=e,r=_d("orderBy",t);return Zp._create(r,n)}function L_(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!se.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(t,new se(r))}if(n instanceof et)return Jv(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(n)}.`)}function M_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XE(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y4{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ls(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Tu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Xe(o.doubleValue));return new ar(n)}convertGeoPoint(e){return new or(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=id(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);ke(hE(r),9688,{name:e});const s=new sl(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class si extends GE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=si._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}si._jsonSchemaVersion="firestore/documentSnapshot/1.0",si._jsonSchema={type:ot("string",si._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class Oc extends si{data(e={}){return super.data(e)}}class ao{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new va(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oc(this._firestore,this._userDataWriter,r.key,r,new va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Oc(s._firestore,s._userDataWriter,l.doc.key,l.doc,new va(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Oc(s._firestore,s._userDataWriter,l.doc.key,l.doc,new va(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:X4(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){t=Un(t,et);const e=Un(t.firestore,Ti);return L4(Wp(e),t._key).then(n=>rj(e,t,n))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:ot("string",ao._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class ZE extends Y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function eT(t){t=Un(t,Ei);const e=Un(t.firestore,Ti),n=Wp(e),r=new ZE(e);return K4(t._query),M4(n,t._query).then(s=>new ao(e,r,t,s))}function Z4(t,e,n){t=Un(t,et);const r=Un(t.firestore,Ti),s=JE(t.converter,e);return xd(r,[$E(yd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wn.none())])}function ej(t,e,n,...r){t=Un(t,et);const s=Un(t.firestore,Ti),i=yd(s);let o;return o=typeof(e=Ye(e))=="string"||e instanceof pd?q4(i,"updateDoc",t._key,e,n,r):$4(i,"updateDoc",t._key,e),xd(s,[o.toMutation(t._key,wn.exists(!0))])}function tj(t){return xd(Un(t.firestore,Ti),[new bp(t._key,wn.none())])}function nj(t,e){const n=Un(t.firestore,Ti),r=ul(t),s=JE(t.converter,e);return xd(n,[$E(yd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function xd(t,e){return function(r,s){const i=new Ir;return r.asyncQueue.enqueueAndForget(async()=>T4(await D4(r),s,i)),i.promise}(Wp(t),e)}function rj(t,e,n){const r=n.docs.get(e._key),s=new ZE(t);return new si(t,s,e._key,r,new va(n.hasPendingWrites,n.fromCache),e.converter)}function V_(){return new Kp("serverTimestamp")}(function(e,n=!0){(function(s){jo=s})(Co),vo(new fi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Ti(new $R(r.getProvider("auth-internal")),new WR(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(d.options.projectId,f)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),vs(Uv,Fv,e),vs(Uv,Fv,"esm2020")})();const sj={apiKey:"AIzaSyBMp8Ku597y7qk3tcB3rVstWtbLjVeFsJU",authDomain:"um6p-solidarity-network.firebaseapp.com",projectId:"um6p-solidarity-network",storageBucket:"um6p-solidarity-network.firebasestorage.app",messagingSenderId:"461032775042",appId:"1:461032775042:web:e299674d3ff36eea1d839b",measurementId:"G-TVYJL4VYNG"},tT=Cx(sj),Pe=VR(tT),ii=O4(tT),ij=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5173":window.location.origin;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>L.createElement("svg",{ref:c,...aj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nT("lucide",s),...l},[...o.map(([d,f])=>L.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(t,e)=>{const n=L.forwardRef(({className:r,...s},i)=>L.createElement(lj,{ref:i,iconNode:e,className:nT(`lucide-${oj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=oe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=oe("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=oe("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=oe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=oe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=oe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=oe("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=oe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=oe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=oe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=oe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=oe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=oe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=oe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=oe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=oe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Cj({className:t="h-8",showText:e=!1}){return u.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[u.jsx("img",{src:"/um6p-logo.png",alt:"UM6P - University Mohammed VI Polytechnic",className:"h-full object-contain",loading:"eager",onError:n=>{n.target.style.display="none";const r=n.target.nextElementSibling;r&&(r.style.display="flex")}}),u.jsx("div",{className:"hidden flex gap-1",children:["U","M","6","P"].map((n,r)=>u.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-[#D4A574] rounded flex items-center justify-center text-black font-bold text-sm sm:text-base shadow-sm",children:n},r))})]})}function dT({className:t="",iconSize:e="w-6 h-6",showText:n=!0}){return u.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[u.jsx("img",{src:"/sci-logo.png",alt:"School of Collective Intelligence",className:`${e} object-contain max-w-none`,loading:"eager",onError:r=>{r.target.style.display="none";const s=r.target.nextElementSibling;s&&(s.style.display="flex")}}),u.jsxs("div",{className:"hidden flex items-center gap-2",children:[u.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M12 2C6 2 4 6 4 12V18H20V12C20 6 18 2 12 2Z",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"9",cy:"8",r:"2.5",stroke:"#445577",strokeWidth:"1.5"}),u.jsx("circle",{cx:"9",cy:"8",r:"1",fill:"#445577"}),u.jsx("circle",{cx:"15",cy:"8",r:"2.5",stroke:"#445577",strokeWidth:"1.5"}),u.jsx("circle",{cx:"15",cy:"8",r:"1",fill:"#445577"}),u.jsx("line",{x1:"4",y1:"12",x2:"8",y2:"10",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"4",y1:"14",x2:"8",y2:"12",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"4",y1:"16",x2:"8",y2:"14",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"20",y1:"12",x2:"16",y2:"10",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"20",y1:"14",x2:"16",y2:"12",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"20",y1:"16",x2:"16",y2:"14",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"10",y1:"18",x2:"10",y2:"20",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"}),u.jsx("line",{x1:"14",y1:"18",x2:"14",y2:"20",stroke:"#445577",strokeWidth:"1.5",strokeLinecap:"round"})]}),n&&u.jsxs("div",{className:"flex flex-col leading-tight",children:[u.jsx("span",{style:{color:"#808080"},className:"text-[10px] font-normal",children:"School of"}),u.jsx("span",{style:{color:"#445577"},className:"text-sm font-semibold",children:"Collective"}),u.jsx("span",{style:{color:"#808080"},className:"text-[10px] font-normal",children:"Intelligence"})]})]})]})}const Ih=[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/organization",label:"Organization"},{to:"/team",label:"Our Team"}];function Pj({user:t}){const[e,n]=L.useState(!1),[r,s]=L.useState(!1),i=L.useRef(null),o=zn();L.useEffect(()=>{const d=f=>{i.current&&!i.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const l=async()=>{try{await Ra(Pe),o("/login"),s(!1)}catch(d){console.error("Error signing out:",d)}},c=d=>d?d.substring(0,2).toUpperCase():"U";return u.jsxs("header",{className:"fixed top-0 inset-x-0 z-50 bg-white shadow-um6p",children:[u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-20",children:[u.jsxs(Ze,{to:"/",className:"flex items-center gap-3 group",children:[u.jsx(Cj,{className:"h-10 sm:h-12"}),u.jsx("div",{className:"hidden sm:block",children:u.jsx(dT,{iconSize:"h-8 sm:h-10",showText:!1,className:"opacity-80"})}),u.jsxs("div",{className:"hidden sm:flex flex-col",children:[u.jsx("span",{className:"text-[11px] tracking-wide text-dark/80 hidden xl:block",children:"A UM6P Student Initiative"}),u.jsx("span",{className:"text-lg sm:text-xl font-mont font-extrabold text-dark group-hover:text-accent transition-colors duration-300",children:"USN - UM6P Solidarity Network"})]})]}),u.jsxs("nav",{className:"hidden lg:flex items-center gap-1","aria-label":"Main Navigation",children:[Ih.map((d,f)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx(ov,{to:d.to,className:({isActive:m})=>`px-4 py-2 text-sm font-medium transition-all duration-200 rounded-lg ${m?"text-accent font-semibold bg-accent/5":"text-dark hover:text-accent hover:bg-secondary"}`,children:d.label}),f<Ih.length-1&&u.jsx("span",{className:"text-dark/20 mx-1",children:"|"})]},d.to)),u.jsx("div",{className:"ml-4 pl-4 border-l border-gray/20",children:t&&t.emailVerified?u.jsxs("div",{className:"relative",ref:i,children:[u.jsx("button",{onClick:()=>s(!r),className:"flex items-center justify-center w-10 h-10 rounded-full bg-accent text-white font-bold text-sm hover:bg-accent/90 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent","aria-label":"User menu",children:c(t.email)}),r&&u.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray/10 py-2 animate-fade-in origin-top-right",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray/10",children:[u.jsx("p",{className:"text-xs text-gray",children:"Signed in as"}),u.jsx("p",{className:"text-sm font-semibold text-dark truncate",children:t.email})]}),u.jsx("div",{className:"py-1",children:u.jsxs(Ze,{to:"/my-requests",onClick:()=>s(!1),className:"flex items-center gap-2 px-4 py-2 text-sm text-dark hover:bg-gray-50 hover:text-accent transition-colors",children:[u.jsx(cr,{size:16}),"My Requests"]})}),u.jsx("div",{className:"border-t border-gray/10 pt-1 mt-1",children:u.jsxs("button",{onClick:l,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors text-left",children:[u.jsx(O_,{size:16}),"Sign Out"]})})]})]}):u.jsx(Ze,{to:"/login",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent/90 rounded-lg transition-all duration-200 shadow-um6p","aria-label":"Log in",children:"Log In"})})]}),u.jsx("button",{"aria-label":"Toggle menu",className:"lg:hidden p-2 text-dark hover:text-accent transition-colors",onClick:()=>n(!e),children:e?u.jsx(Rj,{size:24}):u.jsx(xj,{size:24})})]})}),e&&u.jsx("div",{className:"lg:hidden border-t border-gray/20 bg-white",children:u.jsxs("nav",{className:"px-4 pt-4 pb-6 space-y-2","aria-label":"Mobile Navigation",children:[Ih.map(d=>u.jsx(ov,{to:d.to,onClick:()=>n(!1),className:({isActive:f})=>`block px-4 py-3 text-base font-medium rounded-lg transition-all duration-200 ${f?"text-accent font-semibold bg-accent/10":"text-dark hover:text-accent hover:bg-secondary"}`,children:d.label},d.to)),u.jsx("div",{className:"px-4 py-3 border-t border-gray/20 mt-2",children:t&&t.emailVerified?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray mb-3",children:[u.jsx(Pu,{size:16}),u.jsx("span",{children:t.email||t.displayName||"User"})]}),u.jsxs(Ze,{to:"/my-requests",onClick:()=>n(!1),className:"w-full inline-flex items-center gap-2 px-4 py-3 text-base font-medium text-dark hover:text-accent hover:bg-secondary rounded-lg transition-all duration-200 mb-2",children:[u.jsx(cr,{size:18}),"My Requests"]}),u.jsxs("button",{onClick:()=>{l(),n(!1)},className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200","aria-label":"Sign out",children:[u.jsx(O_,{size:18}),u.jsx("span",{children:"Sign Out"})]})]}):u.jsx(Ze,{to:"/login",onClick:()=>n(!1),className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-base font-medium text-white bg-accent hover:bg-accent/90 rounded-lg transition-all duration-200 shadow-um6p","aria-label":"Log in",children:"Log In"})})]})})]})}const jj=[{title:"About us",links:[{label:"About USN",to:"/about"},{label:"Organization",to:"/organization"},{label:"How It Works",to:"/how-it-works"},{label:"Contact",to:"#contact"}]},{title:"Resources",links:[{label:"Request Help",to:"/request-help"},{label:"Offer Help",to:"/offer-help"},{label:"FAQ",to:"/faq"},{label:"Guidelines",to:"/guidelines"}]},{title:"Community",links:[{label:"News & Updates",to:"/news"},{label:"Success Stories",to:"/stories"},{label:"Events",to:"/events"},{label:"Get Involved",to:"/involve"}]},{title:"UM6P",links:[{label:"UM6P Website",to:"https://um6p.ma",external:!0},{label:"Student Portal",to:"https://portal.um6p.ma",external:!0},{label:"Campus Info",to:"/campus"}]}];function Dj(){return u.jsx("footer",{className:"bg-dark text-white mt-auto",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:jj.map(t=>u.jsxs("div",{children:[u.jsx("h3",{className:"text-orange font-semibold text-lg mb-4",children:t.title}),u.jsx("nav",{"aria-label":t.title,className:"space-y-2",children:t.links.map(e=>{const n=e.external?"a":Ze,r=e.external?{href:e.to,target:"_blank",rel:"noopener noreferrer"}:{to:e.to};return u.jsx(n,{...r,className:"block text-white/90 hover:text-white hover:underline transition-colors duration-200 text-sm",children:e.label},e.label)})})]},t.title))}),u.jsxs("div",{className:"mt-12 pt-8 border-t border-white/20",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-mont font-extrabold text-xl mb-2",children:"USN - UM6P Solidarity Network"}),u.jsx("p",{className:"text-sm text-white/70 mb-3",children:"A Student Initiative at UM6P"}),u.jsx("p",{className:"text-sm text-white/70",children:"Ben Guerir and Rabat Campuses, Morocco"}),u.jsx("div",{className:"mt-3",children:u.jsx(dT,{iconSize:"h-10 sm:h-12"})})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("a",{href:"#","aria-label":"Facebook",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200",children:u.jsx(mj,{size:20})}),u.jsx("a",{href:"#","aria-label":"Instagram",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200",children:u.jsx(yj,{size:20})}),u.jsx("a",{href:"#","aria-label":"LinkedIn",className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors duration-200",children:u.jsx(_j,{size:20})})]})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-white/20 text-center",children:u.jsxs("p",{className:"text-white/70 text-sm",children:[" ",new Date().getFullYear()," UM6P Solidarity Network. All rights reserved."]})})]})]})})}function Lj(){const[t,e]=L.useState(!1);L.useEffect(()=>{const r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?u.jsx("button",{onClick:n,"aria-label":"Scroll to top",className:"fixed bottom-8 right-8 z-50 p-3 bg-accent text-white rounded-full shadow-lg hover:bg-accent/90 hover:shadow-xl hover:scale-110 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2",children:u.jsx(uj,{size:24})}):null}function Mj({isNavigating:t}){return t?u.jsx("div",{className:"route-progress animate-[pulse_1.2s_ease-in-out_infinite]"}):null}function Vj(){const t=dr(),[e]=np(),[n,r]=L.useState(!1),[s,i]=L.useState(null),[o,l]=L.useState(!0);L.useEffect(()=>{const g=a1(Pe,x=>{i(x),l(!1)});return()=>g()},[]);const c=e.get("mode"),d=e.get("oobCode");if(t.pathname==="/"&&c==="verifyEmail"&&d){const g=new URLSearchParams;return g.set("mode",c),g.set("oobCode",d),e.get("apiKey")&&g.set("apiKey",e.get("apiKey")),e.get("continueUrl")&&g.set("continueUrl",e.get("continueUrl")),e.get("lang")&&g.set("lang",e.get("lang")),u.jsx(rv,{to:`/verify-email?${g.toString()}`,replace:!0})}return L.useEffect(()=>{r(!0);const g=setTimeout(()=>r(!1),450);return()=>clearTimeout(g)},[t]),L.useEffect(()=>{const g=new IntersectionObserver(x=>{x.forEach(b=>{b.isIntersecting&&(b.target.classList.add("revealed"),g.unobserve(b.target))})},{threshold:.12});return document.querySelectorAll(".reveal").forEach(x=>g.observe(x)),()=>g.disconnect()}),o?u.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-accent/30 border-t-accent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray",children:"Loading..."})]})}):(t.pathname==="/login"||t.pathname==="/signup"||t.pathname==="/verify-email")&&s&&s.emailVerified?u.jsx(rv,{to:"/",replace:!0}):u.jsxs("div",{className:"min-h-screen bg-white text-dark flex flex-col",children:[u.jsx(Mj,{isNavigating:n}),u.jsx(Pj,{user:s}),u.jsx("main",{className:"pt-20 flex-grow pb-8",children:u.jsx(fk,{})}),u.jsx(Dj,{}),u.jsx(Lj,{})]})}function Qe({id:t,title:e,subtitle:n,children:r,className:s=""}){return u.jsxs("section",{id:t,className:`mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 ${s}`,children:[e&&u.jsxs("div",{className:"mb-12 text-center",children:[u.jsx("h2",{className:"font-mont font-extrabold text-3xl sm:text-4xl lg:text-5xl text-dark mb-3 leading-tight",children:e}),n&&u.jsx("p",{className:"text-gray text-lg sm:text-xl max-w-3xl mx-auto",children:n})]}),u.jsx("div",{className:"reveal",children:r})]})}const Oj=[{icon:iT,title:"Empathy",desc:"Understanding and sharing the feelings of our peers"},{icon:kj,title:"Equality",desc:"Every student matters, regardless of background"},{icon:on,title:"Cooperation",desc:"Working together for collective success"},{icon:vj,title:"Collective Responsibility",desc:"We all have a role in supporting each other"}],F_=[{icon:uT,title:"Request or Offer Help",desc:"Students fill out simple forms"},{icon:Aj,title:"We Match",desc:"Our team connects requests with offers"},{icon:iT,title:"Connect & Support",desc:"Students help each other thrive"}];function Uj(){return u.jsxs("div",{children:[u.jsxs("div",{className:"bg-white relative overflow-hidden",children:[u.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"hero-video-bg",poster:"/solidarity-video-poster.jpg","aria-label":"Background video showing solidarity and community",onError:t=>{t.target.style.display="none";const e=t.target.nextElementSibling;e&&(e.style.display="block")},children:[u.jsx("source",{src:"/solidarity-video.mp4",type:"video/mp4"}),u.jsx("source",{src:"/solidarity-video.webm",type:"video/webm"}),"Your browser does not support the video tag."]}),u.jsx("div",{className:"hero-animated-bg-fallback",style:{display:"none"},"aria-hidden":"true"}),u.jsx("div",{className:"absolute inset-0 bg-white/70 z-[1]","aria-hidden":"true"}),u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-20 sm:py-28 relative z-10",children:u.jsxs("div",{className:"reveal",children:[u.jsx("h1",{className:"font-mont font-extrabold text-4xl sm:text-6xl lg:text-7xl text-dark",children:"UM6P Solidarity Network"}),u.jsx("p",{className:"mt-4 text-lg sm:text-xl text-dark/80",children:"Building a Culture of Mutual Support at UM6P"}),u.jsx("p",{className:"mt-3 text-dark/80 max-w-2xl",children:"Every student deserves to thrive. Together, we can help each other succeed."}),u.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[u.jsxs(Ze,{to:"/request-help",className:"group inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft",children:["Request Help ",u.jsx(wr,{size:18,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),u.jsxs(Ze,{to:"#",onClick:t=>t.preventDefault(),className:"group inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-white/90 text-dark font-semibold border border-dark/20 shadow-um6p hover:bg-white hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft",children:["Offer Help ",u.jsx(wr,{size:18,className:"group-hover:translate-x-1 transition-transform duration-300"})]})]})]})})]}),u.jsx(Qe,{id:"values",title:"Our Core Values",className:"py-16",children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Oj.map(({icon:t,title:e,desc:n})=>u.jsxs("div",{className:"reveal bg-white rounded-xl p-6 shadow-um6p border border-gray/10 hover:border-accent/40 hover:shadow-lg hover:-translate-y-2 transition-all duration-300 ease-soft cursor-default",children:[u.jsx(t,{className:"text-accent transition-transform duration-300 group-hover:scale-110",size:28}),u.jsx("h3",{className:"mt-3 font-semibold text-lg text-dark",children:e}),u.jsx("p",{className:"text-gray mt-1 text-sm",children:n})]},e))})}),u.jsx(Qe,{id:"how",title:"How USN Works",className:"py-16",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:F_.map(({icon:t,title:e,desc:n},r)=>u.jsxs("div",{className:"reveal bg-white rounded-xl p-6 shadow-um6p border border-gray/10 relative hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-lg bg-accent/10 flex items-center justify-center group-hover:bg-accent/20 transition-colors duration-300",children:u.jsx(t,{className:"text-accent group-hover:scale-110 transition-transform duration-300",size:20})}),u.jsx("h4",{className:"font-semibold text-dark",children:e})]}),u.jsx("p",{className:"text-gray mt-2 text-sm",children:n}),r<F_.length-1&&u.jsx("div",{className:"hidden md:block absolute top-1/2 -right-3 w-6 h-0.5 bg-accent/30","aria-hidden":"true"})]},e))})}),u.jsx(Qe,{id:"cta",className:"py-16",children:u.jsxs("div",{className:"reveal bg-dark/5 rounded-2xl p-8 sm:p-10 text-center shadow-um6p border border-gray/10",children:[u.jsx("h3",{className:"font-mont text-2xl sm:text-3xl font-extrabold text-dark",children:"Ready to Join?"}),u.jsx("p",{className:"text-gray mt-2",children:"Join 100+ students building solidarity at UM6P"}),u.jsxs("div",{className:"mt-6 flex flex-wrap gap-4 justify-center",children:[u.jsx(Ze,{to:"/request-help",className:"px-6 py-3 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft",children:"I Need Help"}),u.jsx(Ze,{to:"#",onClick:t=>t.preventDefault(),className:"px-6 py-3 rounded-xl bg-white text-dark font-semibold border border-dark/20 shadow-um6p hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft",children:"I Can Help"})]})]})})]})}const Fj=[{icon:cr,title:"Academic Resources",desc:"Books, Notes, Materials",emoji:"",color:"accent"},{icon:Cu,title:"Tutoring & Study Help",desc:"Peer-to-peer learning support",emoji:"",color:"orange"},{icon:dl,title:"Advice & Mentorship",desc:"Guidance from experienced students",emoji:"",color:"accent"},{icon:cT,title:"Emotional Support",desc:"A caring community for everyone",emoji:"",color:"orange"},{icon:on,title:"Career Guidance",desc:"Professional development support",emoji:"",color:"accent"},{icon:gj,title:"Cultural Integration",desc:"Helping international students thrive",emoji:"",color:"orange"}];function zj(){return u.jsxs("div",{className:"space-y-16 sm:space-y-20",children:[u.jsx(Qe,{id:"purpose",className:"pt-8",children:u.jsxs("div",{className:"reveal text-center max-w-4xl mx-auto",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 bg-accent/10 px-4 py-2 rounded-full mb-6",children:[u.jsx(Td,{className:"text-accent",size:20}),u.jsx("span",{className:"text-sm font-semibold text-accent uppercase tracking-wider",children:"Our Purpose"})]}),u.jsx("h1",{className:"font-mont font-extrabold text-4xl sm:text-5xl lg:text-6xl text-dark mb-6 leading-tight",children:"Building a Culture of Solidarity"}),u.jsx("div",{className:"bg-white rounded-2xl p-8 sm:p-10 shadow-um6p border border-gray/10",children:u.jsx("p",{className:"text-lg sm:text-xl text-gray leading-relaxed max-w-3xl mx-auto",children:"To create a culture of solidarity and mutual support within the UM6P student community, ensuring that every studentregardless of background or resourcescan thrive academically, socially, and emotionally."})})]})}),u.jsx(Qe,{id:"mission",title:"Our Mission",className:"py-8",children:u.jsxs("div",{className:"reveal bg-gradient-to-br from-white to-secondary rounded-2xl p-8 sm:p-10 shadow-um6p border border-gray/10",children:[u.jsx("p",{className:"text-lg text-gray leading-relaxed mb-8 max-w-4xl",children:"To build and sustain a digital and human network where UM6P students can request or offer helpsuch as books, tutoring, advice, or emotional supportthrough an online platform and collaborative on-campus activities. The mission is to turn everyday acts of help into a structured, continuous system of care and cooperation."}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[cr,Cu,dl,cT].map((t,e)=>u.jsx("div",{className:"flex flex-col items-center justify-center gap-3 bg-white rounded-xl p-6 shadow-sm border border-gray/10 hover:shadow-md hover:-translate-y-1 hover:border-accent/30 transition-all duration-300 cursor-default group",children:u.jsx("div",{className:"h-12 w-12 rounded-xl bg-accent/10 flex items-center justify-center group-hover:bg-accent/20 transition-colors",children:u.jsx(t,{className:"text-accent transition-transform duration-300 group-hover:scale-110",size:24})})},e))})]})}),u.jsxs(Qe,{id:"support",title:"What We Support",className:"py-8",children:[u.jsx("p",{className:"text-center text-gray mb-10 max-w-2xl mx-auto",children:"USN provides comprehensive support across multiple dimensions of student life"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Fj.map(({icon:t,title:e,desc:n,emoji:r,color:s},i)=>u.jsx("div",{className:"reveal bg-white rounded-xl p-6 shadow-um6p border border-gray/10 hover:shadow-lg hover:-translate-y-2 hover:border-accent/30 transition-all duration-300 cursor-default group",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-colors ${s==="accent"?"bg-accent/10 group-hover:bg-accent/20":"bg-orange/10 group-hover:bg-orange/20"}`,children:u.jsx(t,{className:`${s==="accent"?"text-accent":"text-orange"} transition-transform duration-300 group-hover:scale-110`,size:24})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h4",{className:"font-bold text-lg text-dark mb-1 flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:r}),e]}),n&&u.jsx("p",{className:"text-sm text-gray leading-relaxed",children:n})]})]})},i))})]}),u.jsx(Qe,{id:"context",title:"About This Project",className:"py-8",children:u.jsx("div",{className:"reveal bg-gradient-to-r from-accent/5 via-orange/5 to-accent/5 rounded-2xl p-8 sm:p-10 shadow-um6p border border-accent/10",children:u.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-accent/10 flex items-center justify-center flex-shrink-0",children:u.jsx(tm,{className:"text-accent",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-xl text-dark mb-4",children:"Leadership Lab Course Project"}),u.jsxs("ul",{className:"space-y-3 text-gray",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"h-6 w-6 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"h-2 w-2 rounded-full bg-accent"})}),u.jsx("span",{children:"School of Collective Intelligence, UM6P"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"h-6 w-6 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"h-2 w-2 rounded-full bg-accent"})}),u.jsx("span",{children:"Focus on positive leadership and organizational design"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"h-6 w-6 rounded-full bg-accent/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"h-2 w-2 rounded-full bg-accent"})}),u.jsx("span",{children:"Building sustainable systems for student support"})]})]})]})]})})}),u.jsx(Qe,{id:"cta",className:"py-8",children:u.jsxs("div",{className:"reveal bg-dark rounded-2xl p-10 sm:p-12 text-center shadow-um6p",children:[u.jsx("h3",{className:"font-mont font-extrabold text-3xl sm:text-4xl text-white mb-4",children:"Ready to Make a Difference?"}),u.jsx("p",{className:"text-white/80 text-lg mb-8 max-w-2xl mx-auto",children:"Join the UM6P Solidarity Network and help build a more supportive community"}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[u.jsxs("a",{href:"#",onClick:t=>t.preventDefault(),className:"group inline-flex items-center gap-2 px-6 py-3.5 bg-accent text-white font-semibold rounded-xl shadow-lg hover:bg-accent/90 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:["Get Involved ",u.jsx(wr,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),u.jsxs("a",{href:"#",onClick:t=>t.preventDefault(),className:"group inline-flex items-center gap-2 px-6 py-3.5 bg-white/10 text-white font-semibold rounded-xl border border-white/20 hover:bg-white/20 hover:border-white/30 transition-all duration-300",children:["Learn More ",u.jsx(wr,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})]})}function Bj(){return u.jsxs("div",{className:"space-y-16 sm:space-y-20",children:[u.jsx(Qe,{id:"intro",className:"pt-8",children:u.jsxs("div",{className:"reveal text-center max-w-4xl mx-auto",children:[u.jsx("h1",{className:"font-mont font-extrabold text-4xl sm:text-5xl lg:text-6xl text-dark mb-4",children:"How We're Organized"}),u.jsx("p",{className:"text-xl sm:text-2xl text-orange font-semibold mb-6",children:"The Dual-Board C-L Model"}),u.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-um6p border border-gray/10",children:u.jsx("p",{className:"text-lg text-gray leading-relaxed",children:"We use an innovative governance structure that balances daily operations with long-term growth."})})]})}),u.jsx(Qe,{id:"org-chart",title:"Organizational Chart",className:"py-8",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"reveal",children:u.jsx("div",{className:"bg-gradient-to-r from-accent/10 via-accent/5 to-orange/10 rounded-2xl p-8 shadow-um6p border-2 border-accent/20 hover:shadow-lg hover:border-accent/30 transition-all duration-300",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-6 py-3 rounded-xl shadow-sm mb-4",children:[u.jsx(pj,{className:"text-accent",size:24}),u.jsx("span",{className:"font-bold text-lg text-dark",children:"NEXUS LEADER"}),u.jsx("span",{className:"text-sm text-gray",children:"(Project Lead/CEO)"})]}),u.jsx("p",{className:"text-gray max-w-2xl",children:"Coordinates both boards and translates vision into action"})]})})}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 lg:gap-8",children:[u.jsx("div",{className:"reveal",children:u.jsxs("div",{className:"bg-secondary rounded-2xl p-8 shadow-um6p border border-gray/10 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 h-full",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-white flex items-center justify-center shadow-sm",children:u.jsx(sT,{className:"text-accent",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-dark",children:"LOGICAL-METHODOLOGICAL BOARD"}),u.jsx("p",{className:"text-xs text-gray uppercase tracking-wider",children:"(LMB)"})]})]}),u.jsx("p",{className:"text-sm font-semibold text-dark mb-2",children:"The Operations Team"}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray font-medium",children:"Mandate:"}),u.jsx("p",{className:"text-sm text-dark",children:"Run USN's daily operations efficiently, stably, and securely"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray font-medium italic",children:"Mindset:"}),u.jsx("p",{className:"text-sm text-dark italic",children:'"How do we make this work right now?"'})]})]}),u.jsxs("div",{className:"border-t border-gray/20 pt-4",children:[u.jsx("p",{className:"text-xs font-semibold text-gray uppercase mb-3",children:"Responsibilities"}),u.jsx("ul",{className:"space-y-2",children:["Managing the website backend","Monitoring help requests and offers","Performing manual matching","Handling user data with privacy","Bug fixes and maintenance"].map((t,e)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-dark",children:[u.jsx(Jf,{className:"text-accent mt-0.5 flex-shrink-0",size:16}),u.jsx("span",{children:t})]},e))})]})]})}),u.jsx("div",{className:"reveal",children:u.jsxs("div",{className:"bg-gradient-to-br from-orange/10 to-accent/10 rounded-2xl p-8 shadow-um6p border border-orange/20 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 h-full",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-white flex items-center justify-center shadow-sm",children:u.jsx(dl,{className:"text-orange",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-dark",children:"CREATIVE-UNORTHODOX BOARD"}),u.jsx("p",{className:"text-xs text-gray uppercase tracking-wider",children:"(CUB)"})]})]}),u.jsx("p",{className:"text-sm font-semibold text-dark mb-2",children:"The Growth Team"}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray font-medium",children:"Mandate:"}),u.jsx("p",{className:"text-sm text-dark",children:"Focus on USN's long-term vision, disruption, and growth"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray font-medium italic",children:"Mindset:"}),u.jsx("p",{className:"text-sm text-dark italic",children:'"How can we make this better tomorrow?"'})]})]}),u.jsxs("div",{className:"border-t border-gray/20 pt-4",children:[u.jsx("p",{className:"text-xs font-semibold text-gray uppercase mb-3",children:"Responsibilities"}),u.jsx("ul",{className:"space-y-2",children:["Designing outreach campaigns","Brainstorming new features","Managing partnerships","Social media and branding","Future event planning"].map((t,e)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-dark",children:[u.jsx(Jf,{className:"text-orange mt-0.5 flex-shrink-0",size:16}),u.jsx("span",{children:t})]},e))})]})]})})]})]})}),u.jsx(Qe,{id:"decisions",title:"How We Make Decisions",className:"py-8",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{icon:U_,title:"Daily Operations",flow:"LMB decides autonomously  Nexus informed",color:"accent"},{icon:tm,title:"Growth Initiatives",flow:"CUB proposes  Nexus evaluates  Implement",color:"orange"},{icon:on,title:"Major Decisions",flow:"Both boards discuss  Nexus coordinates  Consensus",color:"accent"}].map(({icon:t,title:e,flow:n,color:r},s)=>u.jsxs("div",{className:"reveal bg-white rounded-xl p-6 shadow-um6p border border-gray/10 hover:shadow-lg hover:-translate-y-1 hover:border-accent/30 transition-all duration-300",children:[u.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center mb-4 ${r==="accent"?"bg-accent/10":"bg-orange/10"}`,children:u.jsx(t,{className:r==="accent"?"text-accent":"text-orange",size:24})}),u.jsx("h4",{className:"font-bold text-lg text-dark mb-2",children:e}),u.jsx("p",{className:"text-sm text-gray leading-relaxed",children:n})]},s))}),u.jsx("div",{className:"reveal bg-white rounded-2xl shadow-um6p border border-gray/10 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-secondary border-b border-gray/20",children:[u.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-dark uppercase tracking-wider",children:"Decision Type"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-dark uppercase tracking-wider",children:"Who Decides"}),u.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-dark uppercase tracking-wider",children:"Process"})]})}),u.jsx("tbody",{className:"divide-y divide-gray/10",children:[{type:"Bug fix",who:"LMB",process:"Immediate action"},{type:"New feature",who:"CUB proposes, LMB evaluates",process:"Collaborative"},{type:"Budget allocation",who:"Nexus with board input",process:"Full team"},{type:"Partnership",who:"CUB leads, Nexus approves",process:"Strategic review"}].map((t,e)=>u.jsxs("tr",{className:"hover:bg-secondary/50 transition-colors duration-200",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-dark",children:t.type}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray",children:t.who}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray",children:t.process})]},e))})]})})})]})}),u.jsx(Qe,{id:"why",title:"Why Dual-Board Governance?",className:"py-8",children:u.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{icon:U_,title:"Efficiency",desc:"Operations run smoothly without bottlenecks"},{icon:dl,title:"Innovation",desc:"Creative team can think long-term"},{icon:tm,title:"Balance",desc:"Prevents startup tunnel vision"}].map(({icon:t,title:e,desc:n},r)=>u.jsxs("div",{className:"reveal bg-white rounded-xl p-8 shadow-um6p border border-gray/10 hover:shadow-lg hover:-translate-y-2 hover:border-accent/30 transition-all duration-300 text-center",children:[u.jsx("div",{className:"h-16 w-16 rounded-2xl bg-accent/10 flex items-center justify-center mx-auto mb-4",children:u.jsx(t,{className:"text-accent",size:32})}),u.jsx("h4",{className:"font-bold text-xl text-dark mb-3",children:e}),u.jsx("p",{className:"text-gray leading-relaxed",children:n})]},r))})})]})}const z_=[{phase:"Phase 1",title:"Setup",duration:"Weeks 1-4",icon:Ij,color:"accent",items:["Team formation","Website development","Internal testing"]},{phase:"Phase 2",title:"Launch & Outreach",duration:"Weeks 5-7",icon:uT,color:"orange",items:["Campus awareness campaign","Poster campaign with QR codes","Social media push","Goal: 50 requests + 50 offers"]},{phase:"Phase 3",title:"Future Development",duration:"Ongoing",icon:tg,color:"accent",items:['Q1: "Finals Prep" textbook drive',"Q2: Automated matching system",'Q3: "Solidarity Stories" cultural event']}],$j=[{title:"Peer tutoring circles",icon:on,desc:"Active initiative supporting our community now.",color:"accent"},{title:"Resource sharing drive",icon:lT,desc:"Active initiative supporting our community now.",color:"orange"},{title:"Onboarding volunteers",icon:oT,desc:"Active initiative supporting our community now.",color:"accent"}];function qj(){return u.jsxs("div",{className:"space-y-16 sm:space-y-20",children:[u.jsxs(Qe,{id:"timeline",className:"pt-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"font-mont font-extrabold text-4xl sm:text-5xl lg:text-6xl text-dark mb-4",children:"Our Journey"}),u.jsx("p",{className:"text-lg text-gray max-w-2xl mx-auto",children:"From initial setup to future growth, see how USN is building a culture of solidarity at UM6P"})]}),u.jsx("div",{className:"grid md:grid-cols-3 gap-6 lg:gap-8",children:z_.map((t,e)=>{const n=t.icon;return u.jsxs("div",{className:"reveal relative",children:[e<z_.length-1&&u.jsx("div",{className:"hidden md:block absolute top-12 left-full w-full h-0.5 bg-gradient-to-r from-accent/30 via-orange/30 to-accent/30 z-0",style:{width:"calc(100% - 2rem)",transform:"translateX(1rem)"},"aria-hidden":"true"}),u.jsxs("div",{className:`bg-white rounded-2xl p-8 shadow-um6p border-2 transition-all duration-300 h-full relative z-10 ${t.color==="accent"?"border-accent/20 hover:border-accent/40":"border-orange/20 hover:border-orange/40"} hover:shadow-lg hover:-translate-y-2`,children:[u.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl mb-4 ${t.color==="accent"?"bg-accent/10":"bg-orange/10"}`,children:[u.jsx(n,{className:t.color==="accent"?"text-accent":"text-orange",size:20}),u.jsx("span",{className:"text-xs font-bold text-gray uppercase tracking-wider",children:t.phase})]}),u.jsx("h3",{className:"font-bold text-2xl text-dark mb-2",children:t.title}),u.jsx("p",{className:"text-sm text-orange font-semibold mb-6",children:t.duration}),u.jsx("ul",{className:"space-y-3",children:t.items.map((r,s)=>u.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray",children:[u.jsx(Jf,{className:`${t.color==="accent"?"text-accent":"text-orange"} mt-0.5 flex-shrink-0`,size:18}),u.jsx("span",{className:"leading-relaxed",children:r})]},s))})]})]},e)})})]}),u.jsxs(Qe,{id:"activities",title:"Current Activities",className:"py-8",children:[u.jsx("p",{className:"text-center text-gray mb-8 max-w-2xl mx-auto",children:"These initiatives are actively supporting our community right now"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:$j.map((t,e)=>{const n=t.icon;return u.jsxs("div",{className:"reveal bg-gradient-to-br from-white to-secondary rounded-2xl p-8 shadow-um6p border border-gray/10 hover:shadow-lg hover:-translate-y-2 transition-all duration-300",children:[u.jsx("div",{className:`h-14 w-14 rounded-xl flex items-center justify-center mb-4 ${t.color==="accent"?"bg-accent/10":"bg-orange/10"}`,children:u.jsx(n,{className:t.color==="accent"?"text-accent":"text-orange",size:28})}),u.jsx("h4",{className:"font-bold text-xl text-dark mb-3",children:t.title}),u.jsx("p",{className:"text-gray leading-relaxed",children:t.desc}),u.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm font-semibold text-accent",children:[u.jsx("span",{children:"Learn more"}),u.jsx(wr,{size:16})]})]},e)})})]}),u.jsx(Qe,{id:"involved",title:"Get Involved",className:"py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("p",{className:"text-center text-gray mb-10 text-lg",children:"Join us in building a stronger, more supportive UM6P community"}),u.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[u.jsxs(Ze,{to:"#",onClick:t=>t.preventDefault(),className:"group flex flex-col items-center justify-center gap-3 px-6 py-8 bg-accent text-white rounded-2xl shadow-um6p hover:bg-accent/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:[u.jsx(oT,{size:32,className:"group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-bold text-lg",children:"Become a volunteer"}),u.jsx(wr,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),u.jsxs(Ze,{to:"#",onClick:t=>t.preventDefault(),className:"group flex flex-col items-center justify-center gap-3 px-6 py-8 bg-orange text-white rounded-2xl shadow-um6p hover:bg-orange/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:[u.jsx(lT,{size:32,className:"group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-bold text-lg",children:"Share resources"}),u.jsx(wr,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),u.jsxs(Ze,{to:"#",onClick:t=>t.preventDefault(),className:"group flex flex-col items-center justify-center gap-3 px-6 py-8 bg-white text-dark rounded-2xl shadow-um6p border-2 border-dark/10 hover:border-accent/30 hover:shadow-lg hover:-translate-y-1 transition-all duration-300",children:[u.jsx(on,{size:32,className:"text-accent group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-bold text-lg",children:"Partner with us"}),u.jsx(wr,{size:20,className:"text-accent group-hover:translate-x-1 transition-transform"})]})]})]})})]})}function Hj(){return u.jsxs("div",{className:"space-y-16 sm:space-y-20",children:[u.jsx(Qe,{id:"team-hero",className:"pt-8",children:u.jsxs("div",{className:"reveal text-center max-w-4xl mx-auto",children:[u.jsx("h1",{className:"font-mont font-extrabold text-4xl sm:text-5xl lg:text-6xl text-dark mb-4",children:"Our Team"}),u.jsx("p",{className:"text-lg sm:text-xl text-gray max-w-2xl mx-auto",children:"Meet the dedicated members of the UM6P Solidarity Network working to build a culture of mutual support"})]})}),u.jsx(Qe,{id:"team",className:"py-8",children:u.jsxs("div",{className:"space-y-12",children:[u.jsx("div",{className:"reveal",children:u.jsxs("div",{className:"bg-gradient-to-r from-accent/10 via-accent/5 to-orange/10 rounded-2xl p-8 shadow-um6p border-2 border-accent/20",children:[u.jsx("h3",{className:"text-center font-bold text-2xl text-dark mb-8",children:"Nexus Leader"}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative mb-4",children:[u.jsx("img",{src:"/team/imane-bachar.jpg",alt:"Imane Bachar",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg",onError:t=>{t.target.style.display="none";const e=t.target.nextElementSibling;e&&(e.style.display="flex")}}),u.jsx("div",{className:"hidden w-32 h-32 rounded-full bg-accent/20 border-4 border-white shadow-lg items-center justify-center",children:u.jsx(on,{className:"text-accent",size:48})})]}),u.jsx("h4",{className:"font-bold text-xl text-dark",children:"Imane Bachar"}),u.jsx("p",{className:"text-gray mt-1",children:"Project Lead / CEO"})]})]})}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsx("div",{className:"reveal",children:u.jsxs("div",{className:"bg-secondary rounded-2xl p-8 shadow-um6p border border-gray/10",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-white flex items-center justify-center shadow-sm",children:u.jsx(sT,{className:"text-accent",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-dark",children:"LOGICAL-METHODOLOGICAL BOARD"}),u.jsx("p",{className:"text-xs text-gray uppercase tracking-wider",children:"(LMB)"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx("img",{src:"/team/adam-amrid.jpg",alt:"Adam Amrid",className:"w-24 h-24 rounded-full object-cover border-2 border-white shadow-md",onError:t=>{t.target.style.display="none";const e=t.target.nextElementSibling;e&&(e.style.display="flex")}}),u.jsx("div",{className:"hidden w-24 h-24 rounded-full bg-accent/20 border-2 border-white shadow-md items-center justify-center",children:u.jsx(on,{className:"text-accent",size:32})})]}),u.jsx("h4",{className:"font-semibold text-dark",children:"Adam Amrid"}),u.jsx("p",{className:"text-sm text-gray",children:"LMB Member"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx("img",{src:"/team/imane-badari.jpg",alt:"Imane Badari",className:"w-24 h-24 rounded-full object-cover border-2 border-white shadow-md",onError:t=>{t.target.style.display="none";const e=t.target.nextElementSibling;e&&(e.style.display="flex")}}),u.jsx("div",{className:"hidden w-24 h-24 rounded-full bg-accent/20 border-2 border-white shadow-md items-center justify-center",children:u.jsx(on,{className:"text-accent",size:32})})]}),u.jsx("h4",{className:"font-semibold text-dark",children:"Imane Badari"}),u.jsx("p",{className:"text-sm text-gray",children:"LMB Member"})]})]})]})}),u.jsx("div",{className:"reveal",children:u.jsxs("div",{className:"bg-gradient-to-br from-orange/10 to-accent/10 rounded-2xl p-8 shadow-um6p border border-orange/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-white flex items-center justify-center shadow-sm",children:u.jsx(dl,{className:"text-orange",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-dark",children:"CREATIVE-UNORTHODOX BOARD"}),u.jsx("p",{className:"text-xs text-gray uppercase tracking-wider",children:"(CUB)"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx("img",{src:"/team/taha-zaamoun.jpg",alt:"Taha Zaamoun",className:"w-24 h-24 rounded-full object-cover border-2 border-white shadow-md",onError:t=>{t.target.style.display="none";const e=t.target.nextElementSibling;e&&(e.style.display="flex")}}),u.jsx("div",{className:"hidden w-24 h-24 rounded-full bg-orange/20 border-2 border-white shadow-md items-center justify-center",children:u.jsx(on,{className:"text-orange",size:32})})]}),u.jsx("h4",{className:"font-semibold text-dark",children:"Taha Zaamoun"}),u.jsx("p",{className:"text-sm text-gray",children:"CUB Member"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx("img",{src:"/team/hafsa.jpg",alt:"Hafsa Saih",className:"w-24 h-24 rounded-full object-cover border-2 border-white shadow-md",onError:t=>{t.target.style.display="none";const e=t.target.nextElementSibling;e&&(e.style.display="flex")}}),u.jsx("div",{className:"hidden w-24 h-24 rounded-full bg-orange/20 border-2 border-white shadow-md items-center justify-center",children:u.jsx(on,{className:"text-orange",size:32})})]}),u.jsx("h4",{className:"font-semibold text-dark",children:"Hafsa Saih"}),u.jsx("p",{className:"text-sm text-gray",children:"CUB Member"})]})]})]})})]})]})})]})}function Wj(){const t=zn(),e=dr(),[n,r]=L.useState({email:"",password:""}),[s,i]=L.useState(null),[o,l]=L.useState(!1),[c,d]=L.useState(!1),[f,m]=L.useState(null);L.useEffect(()=>{var k;(k=e.state)!=null&&k.email&&r(C=>({...C,email:e.state.email}))},[e.state]),L.useEffect(()=>{var k;(k=e.state)!=null&&k.successMessage&&(m(e.state.successMessage),window.history.replaceState({},document.title))},[e.state]);const g=k=>{const{name:C,value:E}=k.target;r(_=>({..._,[C]:E})),i(null)},x=async k=>{k.preventDefault(),i(null),l(!0);try{if(!(await Pf(Pe,n.email,n.password)).user.emailVerified){await Ra(Pe),l(!1),i("Email not verified. Please check your inbox.");return}l(!1),t("/",{replace:!0})}catch(C){console.error("Login error:",C);let E="Failed to sign in. Please try again.";C.code==="auth/user-not-found"?E="No account found with this email. Please sign up first.":C.code==="auth/wrong-password"?E="Incorrect password. Please try again.":C.code==="auth/invalid-email"?E="Invalid email address.":C.code==="auth/invalid-credential"?E="Invalid email or password.":C.code==="auth/network-request-failed"&&(E="Network error. Please check your connection and try again."),i(E),l(!1)}},b=async()=>{if(!n.email.trim()||!n.password){i("Please enter your email and password first.");return}d(!0),i(null);try{const C=(await Pf(Pe,n.email,n.password)).user;if(C.emailVerified){i("Your email is already verified. You can log in now."),await Ra(Pe),d(!1);return}const E={url:window.location.origin+"/verify-email",handleCodeInApp:!1};await gp(C,E),await Ra(Pe),m("Verification email sent! Please check your inbox (including spam folder)."),i(null)}catch(k){console.error("Resend verification error:",k),k.code==="auth/wrong-password"||k.code==="auth/user-not-found"?i("Please enter the correct email and password to resend verification email."):i("Failed to resend verification email. Please try again.")}finally{d(!1)}};return u.jsxs("div",{className:"min-h-screen flex",children:[u.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-white p-8 sm:p-12 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"font-mont font-extrabold text-3xl sm:text-4xl text-dark mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray text-sm sm:text-base",children:"Sign in to your account"})]}),f&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3",children:[u.jsx(As,{className:"text-green-600 flex-shrink-0 mt-0.5",size:20}),u.jsx("p",{className:"text-green-700 text-sm font-medium",children:f})]}),s&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[u.jsx(Ed,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),u.jsx("p",{className:"text-red-700 text-sm font-medium",children:s})]}),u.jsxs("form",{onSubmit:x,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-dark mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(rg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all",placeholder:"your.name@um6p.ma",required:!0,disabled:o})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-dark mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all",placeholder:"Enter your password",required:!0,disabled:o})]})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full group inline-flex items-center justify-center gap-3 px-6 py-4 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 mt-6",children:o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("span",{children:"Signing in..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(wj,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"}),u.jsx("span",{children:"Sign In"})]})})]}),s&&s.includes("Email not verified")&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{type:"button",onClick:b,disabled:c||!n.email||!n.password,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium text-accent border border-accent rounded-xl hover:bg-accent/5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),u.jsx("span",{children:"Sending..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Tj,{size:16}),u.jsx("span",{children:"Resend Verification Email"})]})})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray",children:["Don't have an account?"," ",u.jsx(Ze,{to:"/signup",className:"text-accent font-semibold hover:underline",children:"Sign up"})]})})]})}),u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-accent via-accent/90 to-orange/80",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20",style:{backgroundImage:'url("https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80")'}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/85 via-accent/80 to-orange/75"}),u.jsx("div",{className:"relative z-10 flex items-center justify-center p-12 text-center",children:u.jsxs("div",{className:"max-w-lg",children:[u.jsx("h2",{className:"font-mont font-extrabold text-4xl sm:text-5xl text-white mb-6 leading-tight",children:"Welcome Back to USN"}),u.jsx("p",{className:"text-white/90 text-lg sm:text-xl leading-relaxed",children:"Continue your journey of mutual support and solidarity. Log in to access your account and connect with the community."})]})})]})]})}const Gj=["SCI","ABS","College of Computing (UM6P-CS)","SHBM","SAP+D","FMS","GTI","IST&I","EMINES","FGSES"],Kj=["L1","L2","L3","M1","M2","PhD"];function Qj(){const t=zn(),[e,n]=L.useState({fullName:"",email:"",password:"",confirmPassword:"",gender:"",role:"",campus:"",napsCardNumber:"",department:"",educationalLevel:""}),[r,s]=L.useState(null),[i,o]=L.useState(!1),[l,c]=L.useState(!1),d=g=>{const{name:x,value:b}=g.target;n(k=>({...k,[x]:b})),s(null)},f=async g=>{g.preventDefault(),s(null),o(!0);try{if(console.log("Starting signup process..."),!e.fullName.trim()){s("Please enter your full name"),o(!1);return}if(!e.email.trim()){s("Please enter your email address"),o(!1);return}if(!e.email.endsWith("@um6p.ma")){s("Registration is restricted to UM6P emails (@um6p.ma)"),o(!1);return}if(!e.password||e.password.length<6){s("Password must be at least 6 characters long"),o(!1);return}if(e.password!==e.confirmPassword){s("Passwords do not match"),o(!1);return}if(!e.gender){s("Please select your gender"),o(!1);return}if(!e.role){s("Please select your role"),o(!1);return}if(!e.campus){s("Please select your campus"),o(!1);return}if(!e.napsCardNumber.trim()){s("Please enter your Naps Card Number"),o(!1);return}if(!/^\d{16}$/.test(e.napsCardNumber.replace(/\s/g,""))){s("Naps Card Number must be exactly 16 digits"),o(!1);return}if(e.role==="Student"){if(!e.department){s("Please select your department"),o(!1);return}if(!e.educationalLevel){s("Please select your educational level"),o(!1);return}}console.log("Creating user with email:",e.email);const k=(await EA(Pe,e.email,e.password)).user;console.log("User created successfully:",k.uid),await IA(k,{displayName:e.fullName}),console.log("Profile updated");const C={fullName:e.fullName,email:e.email,gender:e.gender,role:e.role,campus:e.campus,napsCardNumber:e.napsCardNumber.replace(/\s/g,""),createdAt:new Date().toISOString()};e.role==="Student"&&(C.department=e.department,C.educationalLevel=e.educationalLevel);try{await Z4(ul(ii,"users",k.uid),C),console.log("Firestore data saved")}catch(E){console.warn(" Firestore save failed, but continuing:",E),console.error("Firestore error code:",E.code),console.error("Firestore error message:",E.message)}try{const E={url:window.location.origin+"/verify-email",handleCodeInApp:!1};await gp(k,E),console.log(" Verification email sent successfully")}catch(E){console.warn(" Email verification failed, but continuing:",E)}console.log(" User remains signed in - will be able to access account after email verification"),c(!0),o(!1),console.log("Redirecting to login in 2 seconds..."),setTimeout(()=>{t("/login",{state:{email:e.email,successMessage:"Account created! Please check your Outlook email (including spam folder) to verify your account."},replace:!0})},2e3)}catch(x){console.error(" Signup error:",x),console.error("Error code:",x.code),console.error("Error message:",x.message);let b="Failed to create account. Please try again.";x.code==="auth/email-already-in-use"?b="This email is already registered. Please log in instead.":x.code==="auth/invalid-email"?b="Invalid email address.":x.code==="auth/weak-password"?b="Password is too weak. Please use a stronger password.":x.code==="auth/network-request-failed"?b="Network error. Please check your connection and try again.":x.message&&(b=x.message),s(b),o(!1)}},m=e.role==="Student";return u.jsxs("div",{className:"min-h-screen flex",children:[u.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-white p-8 sm:p-12 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"font-mont font-extrabold text-3xl sm:text-4xl text-dark mb-2",children:"Create Account"}),u.jsx("p",{className:"text-gray text-sm sm:text-base",children:"Join the UM6P Solidarity Network"})]}),l&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3",children:[u.jsx(As,{className:"text-green-600 flex-shrink-0 mt-0.5",size:20}),u.jsxs("div",{children:[u.jsx("p",{className:"text-green-700 text-sm font-semibold",children:"Account created successfully!"}),u.jsx("p",{className:"text-green-600 text-xs mt-1",children:"Redirecting to login..."})]})]}),r&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[u.jsx(Ed,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),u.jsx("p",{className:"text-red-700 text-sm font-medium",children:r})]}),u.jsxs("form",{onSubmit:f,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-dark mb-2",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all",placeholder:"Enter your full name",required:!0,disabled:i||l})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-dark mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(rg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all",placeholder:"your.name@um6p.ma",required:!0,disabled:i||l})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-dark mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all",placeholder:"Enter your password (min. 6 characters)",required:!0,minLength:6,disabled:i||l})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-dark mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all",placeholder:"Confirm your password",required:!0,minLength:6,disabled:i||l})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-dark mb-2",children:"Gender"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{id:"gender",name:"gender",value:e.gender,onChange:d,className:"w-full pl-4 pr-10 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all appearance-none bg-white",required:!0,disabled:i||l,children:[u.jsx("option",{value:"",children:"Select your gender"}),u.jsx("option",{value:"Male",children:"Male"}),u.jsx("option",{value:"Female",children:"Female"})]}),u.jsx(aa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-dark mb-2",children:"Role"}),u.jsxs("div",{className:"relative",children:[u.jsx(dj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsxs("select",{id:"role",name:"role",value:e.role,onChange:d,className:"w-full pl-10 pr-10 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all appearance-none bg-white",required:!0,disabled:i||l,children:[u.jsx("option",{value:"",children:"Select your role"}),u.jsx("option",{value:"Student",children:"Student"}),u.jsx("option",{value:"Staff",children:"Staff"})]}),u.jsx(aa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"campus",className:"block text-sm font-medium text-dark mb-2",children:"Campus"}),u.jsxs("div",{className:"relative",children:[u.jsx(hj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsxs("select",{id:"campus",name:"campus",value:e.campus,onChange:d,className:"w-full pl-10 pr-10 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all appearance-none bg-white",required:!0,disabled:i||l,children:[u.jsx("option",{value:"",children:"Select your campus"}),u.jsx("option",{value:"Benguerir",children:"Benguerir"}),u.jsx("option",{value:"Rabat",children:"Rabat"})]}),u.jsx(aa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"napsCardNumber",className:"block text-sm font-medium text-dark mb-2",children:"Naps Card Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(fj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"text",id:"napsCardNumber",name:"napsCardNumber",value:e.napsCardNumber,onChange:g=>{const x=g.target.value.replace(/\D/g,"").slice(0,16);n(b=>({...b,napsCardNumber:x})),s(null)},className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all font-mono tracking-wider",placeholder:"1234567890123456",maxLength:16,required:!0,disabled:i||l})]}),u.jsx("p",{className:"mt-1 text-xs text-gray",children:"Enter your 16-digit Naps Card Number"})]}),m&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-dark mb-2",children:"Department"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsxs("select",{id:"department",name:"department",value:e.department,onChange:d,className:"w-full pl-10 pr-10 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all appearance-none bg-white",required:m,disabled:i||l,children:[u.jsx("option",{value:"",children:"Select your department"}),Gj.map(g=>u.jsx("option",{value:g,children:g},g))]}),u.jsx(aa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),m&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"educationalLevel",className:"block text-sm font-medium text-dark mb-2",children:"Educational Level"}),u.jsxs("div",{className:"relative",children:[u.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),u.jsxs("select",{id:"educationalLevel",name:"educationalLevel",value:e.educationalLevel,onChange:d,className:"w-full pl-10 pr-10 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all appearance-none bg-white",required:m,disabled:i||l,children:[u.jsx("option",{value:"",children:"Select your educational level"}),Kj.map(g=>u.jsx("option",{value:g,children:g},g))]}),u.jsx(aa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),u.jsx("button",{type:"submit",disabled:i||l,className:"w-full group inline-flex items-center justify-center gap-3 px-6 py-4 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 mt-6",children:i?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("span",{children:"Creating account..."})]}):l?u.jsxs(u.Fragment,{children:[u.jsx(As,{size:20}),u.jsx("span",{children:"Success!"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pu,{size:20,className:"group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{children:"Sign Up"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray",children:["Already have an account?"," ",u.jsx(Ze,{to:"/login",className:"text-accent font-semibold hover:underline",children:"Log in"})]})})]})}),u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gradient-to-br from-accent via-accent/90 to-orange/80",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20",style:{backgroundImage:'url("https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80")'}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/85 via-accent/80 to-orange/75"}),u.jsx("div",{className:"relative z-10 flex items-center justify-center p-12 text-center",children:u.jsxs("div",{className:"max-w-lg",children:[u.jsx("h2",{className:"font-mont font-extrabold text-4xl sm:text-5xl text-white mb-6 leading-tight",children:"Building a Community of Solidarity"}),u.jsx("p",{className:"text-white/90 text-lg sm:text-xl leading-relaxed",children:"Every student deserves to thrive. Together, we can help each other succeed through solidarity, empathy, and collective responsibility."})]})})]})]})}function Yj(){const[t]=np(),e=zn(),[n,r]=L.useState("loading"),[s,i]=L.useState("");return L.useEffect(()=>{(async()=>{const l=t.get("oobCode"),c=t.get("mode");if(console.log(" Verification attempt:",{oobCode:l?"present":"missing",mode:c}),!l){r("error"),i("Invalid verification link. Missing verification code.");return}if(c&&c!=="verifyEmail"){r("error"),i(`Invalid verification mode: ${c}. Expected verifyEmail.`);return}try{console.log(" Checking action code...");const f=(await o1(Pe,l)).data.email;console.log(" Action code is valid for email:",f),console.log(" Applying action code to verify email..."),await i1(Pe,l),console.log(" Email verified successfully for:",f);const m=Pe.currentUser;m&&m.email===f?(console.log(" Reloading user auth state..."),await cp(m),console.log(" User auth state reloaded, emailVerified:",m.emailVerified),r("success"),setTimeout(()=>{e("/",{replace:!0})},1500)):(console.log(" User not signed in, redirecting to login with email:",f),r("success"),setTimeout(()=>{e("/login",{state:{email:f,successMessage:"Email verified successfully! You can now log in."},replace:!0})},1500))}catch(d){console.error(" Verification error:",d),console.error("Error code:",d.code),console.error("Error message:",d.message),r("error"),d.code==="auth/invalid-action-code"?i("This verification link has expired, been used already, or is invalid. Please request a new verification email from the login page."):d.code==="auth/expired-action-code"?i("This verification link has expired. Please request a new verification email from the login page."):d.code==="auth/user-disabled"?i("Your account has been disabled. Please contact support."):i(d.message||"Verification failed. Please try again.")}})()},[t,e]),u.jsx(Qe,{className:"py-16 min-h-[calc(100vh-8rem)] flex items-center justify-center",children:u.jsx("div",{className:"max-w-md w-full mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-um6p border border-gray/10 p-8 sm:p-10 text-center",children:[n==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(aT,{className:"text-accent animate-spin",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-2",children:"Verifying..."}),u.jsx("p",{className:"text-gray text-sm",children:"Please wait while we verify your email address."})]}),n==="success"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(As,{className:"text-green-600",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-2",children:"Email Verified Successfully!"}),u.jsx("p",{className:"text-gray text-sm",children:"Redirecting to your account..."})]}),n==="error"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(rT,{className:"text-red-600",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-2",children:"Verification Failed"}),u.jsx("p",{className:"text-red-600 text-sm mb-4",children:s}),u.jsx("button",{onClick:()=>e("/login"),className:"px-6 py-3 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 transition-all duration-300",children:"Go to Login"})]})]})})})}const Sh=[{id:"Academic",label:"Academic",icon:cr,fieldLabel:"Course Name / Subject"},{id:"Materials",label:"Materials",icon:sg,fieldLabel:"Item Name (Book, Tool, etc.)"},{id:"Transport",label:"Transport",icon:eg,fieldLabel:"Destination / Route"},{id:"Mentorship",label:"Mentorship",icon:on,fieldLabel:"Topic / Area of Interest"},{id:"Well-being",label:"Well-being",icon:Td,fieldLabel:"Type of Support Needed"}];function B_(){const t=zn(),{id:e}=Z2(),n=!!e,[r,s]=L.useState({category:"",specificDetail:"",details:"",isUrgent:!1,isAnonymous:!1}),[i,o]=L.useState(!1),[l,c]=L.useState(n),[d,f]=L.useState(null),[m,g]=L.useState(!1);L.useEffect(()=>{(async()=>{if(n)try{Pe.currentUser;const _=ul(ii,"requests",e),N=await J4(_);if(N.exists()){const M=N.data();if(Pe.currentUser&&M.userId!==Pe.currentUser.uid){f("You don't have permission to edit this request."),c(!1);return}s({category:M.category,specificDetail:M.specificDetail,details:M.details,isUrgent:M.urgency==="urgent",isAnonymous:M.isAnonymous})}else f("Request not found.")}catch(_){console.error("Error fetching request:",_),f("Failed to load request details.")}finally{c(!1)}})()},[e,n]);const x=E=>{s(_=>({..._,category:E,specificDetail:_.category===E?_.specificDetail:""})),f(null)},b=E=>{const{name:_,value:N,type:M,checked:z}=E.target;s(q=>({...q,[_]:M==="checkbox"?z:N})),f(null)},k=async E=>{if(E.preventDefault(),f(null),!Pe.currentUser){f("You must be logged in.");return}if(!r.category){f("Please select a category.");return}if(!r.specificDetail.trim()){const _=Sh.find(N=>N.id===r.category);f(`Please enter the ${(_==null?void 0:_.fieldLabel)||"details"}.`);return}if(!r.details.trim()){f("Please provide more details about your request.");return}o(!0);try{const _={userId:Pe.currentUser.uid,userEmail:Pe.currentUser.email,category:r.category,specificDetail:r.specificDetail,details:r.details,urgency:r.isUrgent?"urgent":"normal",isAnonymous:r.isAnonymous,updatedAt:V_()};if(!n)_.status="open",_.createdAt=V_(),await nj(Hp(ii,"requests"),_);else{const N=ul(ii,"requests",e);await ej(N,_)}g(!0),o(!1),setTimeout(()=>t("/my-requests"),1500)}catch(_){console.error("Error submitting request:",_),f("Failed to submit request. Please try again."),o(!1)}},C=Sh.find(E=>E.id===r.category);return l?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"w-12 h-12 border-4 border-accent/30 border-t-accent rounded-full animate-spin"})}):u.jsxs("div",{className:"min-h-screen flex",children:[u.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center bg-white p-8 sm:p-12 overflow-y-auto",children:u.jsxs("div",{className:"w-full max-w-lg",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"font-mont font-extrabold text-3xl sm:text-4xl text-dark mb-2",children:n?"Update Request":"Request Assistance"}),u.jsx("p",{className:"text-gray text-sm sm:text-base",children:n?"Update the details of your request.":"Let the community know what you need. We're here to help."})]}),m&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-8 text-center animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(As,{className:"text-green-600",size:32})}),u.jsx("h2",{className:"font-mont font-bold text-2xl text-dark mb-2",children:n?"Request Updated!":"Request Received!"}),u.jsx("p",{className:"text-gray mb-6",children:"Redirecting to your requests..."})]}),!m&&u.jsxs("form",{onSubmit:k,className:"space-y-6",children:[d&&u.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[u.jsx(Ed,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),u.jsx("p",{className:"text-red-700 text-sm font-medium",children:d})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-dark mb-3",children:"What kind of help do you need?"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Sh.map(E=>{const _=E.icon,N=r.category===E.id;return u.jsxs("button",{type:"button",onClick:()=>x(E.id),className:`flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-200 ${N?"border-accent bg-accent/5 text-accent":"border-gray/10 hover:border-accent/50 text-gray hover:text-accent"}`,children:[u.jsx(_,{size:24,className:"mb-2"}),u.jsx("span",{className:"text-xs font-semibold",children:E.label})]},E.id)})})]}),u.jsxs("div",{className:`transition-all duration-300 ${r.category?"opacity-100 max-h-32":"opacity-0 max-h-0 overflow-hidden"}`,children:[u.jsx("label",{htmlFor:"specificDetail",className:"block text-sm font-medium text-dark mb-2",children:C==null?void 0:C.fieldLabel}),u.jsx("input",{type:"text",id:"specificDetail",name:"specificDetail",value:r.specificDetail,onChange:b,placeholder:`e.g., ${(C==null?void 0:C.label)==="Academic"?"Calculus I":"..."}`,className:"w-full px-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",required:!!r.category})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"details",className:"block text-sm font-medium text-dark mb-2",children:"Additional Details"}),u.jsx("textarea",{id:"details",name:"details",value:r.details,onChange:b,rows:4,placeholder:"Describe your situation and what specific help you're looking for...",className:"w-full px-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent resize-none",required:!0})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("label",{className:`flex-1 flex items-center justify-between p-4 rounded-xl border-2 cursor-pointer transition-all ${r.isUrgent?"border-red-200 bg-red-50":"border-gray/10 hover:border-gray/30"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${r.isUrgent?"bg-red-100 text-red-600":"bg-gray/10 text-gray"}`,children:u.jsx(ng,{size:20})}),u.jsxs("div",{children:[u.jsx("span",{className:`block font-semibold ${r.isUrgent?"text-red-700":"text-dark"}`,children:"Urgent"}),u.jsx("span",{className:"text-xs text-gray",children:"I need help ASAP"})]})]}),u.jsx("input",{type:"checkbox",name:"isUrgent",checked:r.isUrgent,onChange:b,className:"w-5 h-5 text-red-600 rounded focus:ring-red-500 border-gray-300"})]}),u.jsxs("label",{className:`flex-1 flex items-center justify-between p-4 rounded-xl border-2 cursor-pointer transition-all ${r.isAnonymous?"border-blue-200 bg-blue-50":"border-gray/10 hover:border-gray/30"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${r.isAnonymous?"bg-blue-100 text-blue-600":"bg-gray/10 text-gray"}`,children:u.jsx(em,{size:20})}),u.jsxs("div",{children:[u.jsx("span",{className:`block font-semibold ${r.isAnonymous?"text-blue-700":"text-dark"}`,children:"Anonymous"}),u.jsx("span",{className:"text-xs text-gray",children:"Hide my name"})]})]}),u.jsx("input",{type:"checkbox",name:"isAnonymous",checked:r.isAnonymous,onChange:b,className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"})]})]}),u.jsx("button",{type:"submit",disabled:i,className:"w-full group inline-flex items-center justify-center gap-3 px-6 py-4 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-soft disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0",children:i?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("span",{children:n?"Updating...":"Submitting Request..."})]}):u.jsxs(u.Fragment,{children:[n?u.jsx(Sj,{size:20}):u.jsx(Nj,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"}),u.jsx("span",{children:n?"Save Changes":"Submit Request"})]})})]})]})}),u.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative bg-gray-900",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40",style:{backgroundImage:'url("https://images.unsplash.com/photo-1531545514256-b1400bc00f31?ixlib=rb-4.0.3&auto=format&fit=crop&w=1974&q=80")'}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/90 to-orange/80 mix-blend-multiply"}),u.jsx("div",{className:"relative z-10 flex items-center justify-center p-12 text-center h-full",children:u.jsxs("div",{className:"max-w-lg",children:[u.jsx("h2",{className:"font-mont font-extrabold text-4xl sm:text-5xl text-white mb-6 leading-tight",children:n?"Refine your request.":"Asking for help is a strength, not a weakness."}),u.jsx("p",{className:"text-white/90 text-lg sm:text-xl leading-relaxed",children:n?"Updating your request helps us find the best match for you.":"Our community is built on mutual support. Whether it's academic struggles or personal challenges, you don't have to face them alone."})]})})]})]})}const Xj={Academic:cr,Materials:sg,Transport:eg,Mentorship:on,"Well-being":Td};function Jj(){const[t,e]=L.useState([]),[n,r]=L.useState(!0),[s,i]=L.useState(null);L.useEffect(()=>{(async()=>{try{const c=QE(Hp(ii,"requests"),YE("status","==","open"),Q4("createdAt","desc")),f=(await eT(c)).docs.map(m=>{var g;return{id:m.id,...m.data(),createdAt:((g=m.data().createdAt)==null?void 0:g.toDate())||new Date}});e(f),r(!1)}catch(c){console.error("Error fetching requests:",c),i("Failed to load requests. Please try again later."),r(!1)}})()},[]);const o=l=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(l);return u.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12",children:u.jsxs(Qe,{children:[u.jsxs("div",{className:"mb-10 text-center",children:[u.jsx("h1",{className:"font-mont font-extrabold text-3xl sm:text-4xl text-dark mb-4",children:"Community Requests"}),u.jsx("p",{className:"text-gray max-w-2xl mx-auto",children:"Browse open requests from the community. If you can help, please reach out!"})]}),n?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-accent/30 border-t-accent rounded-full animate-spin"})}):s?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-red-600",children:s})}):t.length===0?u.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl shadow-sm border border-gray/10",children:[u.jsx("p",{className:"text-gray text-lg",children:"No open requests found."}),u.jsx("p",{className:"text-sm text-gray/60 mt-2",children:"Be the first to ask for help!"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>{const c=Xj[l.category]||cr,d=l.urgency==="urgent";return u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray/10 hover:shadow-md transition-shadow duration-300 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d?"bg-red-100 text-red-600":"bg-accent/10 text-accent"}`,children:u.jsx(c,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-dark",children:l.category}),u.jsx("span",{className:"text-xs text-gray",children:l.specificDetail})]})]}),d&&u.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-bold rounded-full flex items-center gap-1",children:[u.jsx(ng,{size:12})," Urgent"]})]}),u.jsx("p",{className:"text-gray-700 text-sm mb-6 flex-grow",children:l.details}),u.jsxs("div",{className:"pt-4 border-t border-gray/10 flex items-center justify-between text-xs text-gray",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pu,{size:14}),u.jsx("span",{children:l.isAnonymous?"Anonymous Student":"Student"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tg,{size:14}),u.jsx("span",{children:o(l.createdAt)})]})]}),u.jsx("button",{className:"mt-4 w-full py-2 rounded-lg border border-accent text-accent font-medium text-sm hover:bg-accent hover:text-white transition-colors",children:"Offer Help"})]},l.id)})})]})})}const Zj={Academic:cr,Materials:sg,Transport:eg,Mentorship:on,"Well-being":Td};function eD(){const[t,e]=L.useState([]),[n,r]=L.useState(!0),[s,i]=L.useState(null),o=zn();L.useEffect(()=>{(async()=>{if(!Pe.currentUser){r(!1);return}try{const f=QE(Hp(ii,"requests"),YE("userId","==",Pe.currentUser.uid)),g=(await eT(f)).docs.map(x=>{var b;return{id:x.id,...x.data(),createdAt:((b=x.data().createdAt)==null?void 0:b.toDate())||new Date}});g.sort((x,b)=>b.createdAt-x.createdAt),e(g),r(!1)}catch(f){console.error("Error fetching requests:",f),i("Failed to load your requests. Please try again later."),r(!1)}})()},[]);const l=async d=>{if(window.confirm("Are you sure you want to delete this request?"))try{await tj(ul(ii,"requests",d)),e(f=>f.filter(m=>m.id!==d))}catch(f){console.error("Error deleting request:",f),alert("Failed to delete request. Please try again.")}},c=d=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(d);return Pe.currentUser?u.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12",children:u.jsxs(Qe,{children:[u.jsxs("div",{className:"mb-10",children:[u.jsx("h1",{className:"font-mont font-extrabold text-3xl text-dark mb-2",children:"My Requests"}),u.jsx("p",{className:"text-gray",children:"Track the status of your help requests."})]}),n?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx("div",{className:"w-12 h-12 border-4 border-accent/30 border-t-accent rounded-full animate-spin"})}):s?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-red-600",children:s})}):t.length===0?u.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-sm border border-gray/10",children:[u.jsx("div",{className:"w-16 h-16 bg-gray/5 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(cr,{className:"text-gray/40",size:32})}),u.jsx("h3",{className:"text-lg font-semibold text-dark mb-2",children:"No requests yet"}),u.jsx("p",{className:"text-gray mb-6 max-w-md mx-auto",children:"You haven't submitted any help requests. If you need assistance, don't hesitate to ask the community."}),u.jsxs(Ze,{to:"/request-help",className:"inline-flex items-center gap-2 px-6 py-3 bg-accent text-white font-semibold rounded-xl hover:bg-accent/90 transition-colors shadow-um6p",children:["Request Help ",u.jsx(wr,{size:18})]})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>{const f=Zj[d.category]||cr,m=d.urgency==="urgent";return u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray/10 hover:shadow-md transition-shadow duration-300 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${m?"bg-red-100 text-red-600":"bg-accent/10 text-accent"}`,children:u.jsx(f,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-dark",children:d.category}),u.jsx("span",{className:"text-xs text-gray",children:d.specificDetail})]})]}),u.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${d.status==="open"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:d.status.toUpperCase()})]}),u.jsx("p",{className:"text-gray-700 text-sm mb-6 flex-grow line-clamp-3",children:d.details}),u.jsxs("div",{className:"pt-4 border-t border-gray/10 flex items-center justify-between text-xs text-gray",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tg,{size:14}),u.jsx("span",{children:c(d.createdAt)})]}),m&&u.jsxs("div",{className:"flex items-center gap-1 text-red-600 font-semibold",children:[u.jsx(ng,{size:14}),u.jsx("span",{children:"Urgent"})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray/10 flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>o(`/edit-request/${d.id}`),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg border border-gray/20 text-gray hover:text-accent hover:border-accent hover:bg-accent/5 transition-all text-sm font-medium",children:[u.jsx(Ej,{size:16}),"Edit"]}),u.jsxs("button",{onClick:()=>l(d.id),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg border border-gray/20 text-gray hover:text-red-600 hover:border-red-200 hover:bg-red-50 transition-all text-sm font-medium",children:[u.jsx(bj,{size:16}),"Delete"]})]})]},d.id)})})]})}):u.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray mb-4",children:"Please log in to view your requests."}),u.jsx(Ze,{to:"/login",className:"text-accent hover:underline font-semibold",children:"Log In"})]})})}function tD(){const[t]=np(),e=zn(),[n,r]=L.useState("loading"),[s,i]=L.useState("Verifying your email...");return L.useEffect(()=>{(async()=>{const l=t.get("mode"),c=t.get("oobCode");if(console.log("Verification callback - mode:",l,"oobCode:",c?"present":"missing"),!l||!c){r("error"),i("Invalid verification link. Missing parameters. Please request a new verification email.");return}if(l!=="verifyEmail"){r("error"),i(`Invalid verification mode: ${l}. Expected verifyEmail.`);return}try{const f=(await o1(Pe,c)).data.email;await i1(Pe,c),console.log(" Email verified successfully for:",f);const m=Pe.currentUser;m&&m.email===f&&(await cp(m),console.log(" User auth state reloaded, emailVerified:",m.emailVerified)),r("success"),i("Email verified successfully! Redirecting to login..."),setTimeout(()=>{e("/login",{replace:!0})},2e3)}catch(d){console.error(" Verification error:",d),console.error("Error code:",d.code),console.error("Error message:",d.message),r("error"),d.code==="auth/invalid-action-code"?i("This verification link has expired or is invalid. Please request a new one from the login page."):d.code==="auth/expired-action-code"?i("This verification link has expired. Please request a new verification email from the login page."):d.code==="auth/user-disabled"?i("Your account has been disabled. Please contact support."):i(`Failed to verify email: ${d.message||"Unknown error"}. Please try requesting a new verification email.`)}})()},[t,e]),u.jsx(Qe,{className:"py-16 min-h-[calc(100vh-8rem)] flex items-center",children:u.jsx("div",{className:"max-w-md w-full mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-um6p border border-gray/10 p-8 sm:p-10 text-center",children:[n==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(aT,{className:"text-accent animate-spin",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-2",children:"Verifying..."}),u.jsx("p",{className:"text-gray text-sm",children:s})]}),n==="success"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(As,{className:"text-green-600",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-2",children:"Email Verified!"}),u.jsx("p",{className:"text-gray text-sm",children:s})]}),n==="error"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(rT,{className:"text-red-600",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-2",children:"Verification Failed"}),u.jsx("p",{className:"text-red-600 text-sm mb-4",children:s}),u.jsx("button",{onClick:()=>e("/login"),className:"px-6 py-3 rounded-xl bg-accent text-white font-semibold shadow-um6p hover:bg-accent/90 transition-all duration-300",children:"Go to Login"})]})]})})})}function nD(){const t=zn(),e=dr(),[n,r]=L.useState(""),[s,i]=L.useState(""),[o,l]=L.useState(!1),[c,d]=L.useState(!1),[f,m]=L.useState(null),[g,x]=L.useState(!1);L.useEffect(()=>{var k;(k=e.state)!=null&&k.email&&r(e.state.email)},[e.state]),L.useEffect(()=>{if(!n)return;const k=a1(Pe,C=>{C&&C.email===n&&C.emailVerified&&(x(!0),setTimeout(()=>{t("/login",{replace:!0})},2e3))});return()=>k()},[n,t]);const b=async()=>{if(!n.trim()){m("Email address is required.");return}if(!s.trim()){m("Password is required to activate your account.");return}l(!0),d(!1),m(null);try{const C=(await Pf(Pe,n,s)).user;if(C.emailVerified){x(!0),m(null),l(!1),setTimeout(()=>{t("/login",{replace:!0})},2e3);return}const E={url:`${ij()}/verify-email-callback`,handleCodeInApp:!1};await gp(C,E),await Ra(Pe),d(!0),m(null)}catch(k){console.error("Activate account error:",k),k.code==="auth/wrong-password"||k.code==="auth/user-not-found"?m("Incorrect email or password. Please check your credentials."):k.code==="auth/invalid-email"?m("Invalid email address."):m("Failed to send activation email. Please try again.")}finally{l(!1)}};return u.jsx(Qe,{className:"py-16 min-h-[calc(100vh-8rem)] flex items-center",children:u.jsx("div",{className:"max-w-md w-full mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-um6p border border-gray/10 p-8 sm:p-10",children:[u.jsxs(Ze,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-gray hover:text-accent mb-6 transition-colors",children:[u.jsx(cj,{size:16}),u.jsx("span",{children:"Back to Sign In"})]}),u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(em,{className:"text-accent",size:32})}),u.jsx("h1",{className:"font-mont font-extrabold text-2xl sm:text-3xl text-dark mb-4",children:"Activate Your Account"}),u.jsx("p",{className:"text-gray text-sm sm:text-base",children:"Please activate your account by clicking the button below. You will receive a confirmation email with a verification link."})]}),g&&u.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(As,{className:"text-green-600 flex-shrink-0",size:20}),u.jsx("p",{className:"text-green-700 text-sm font-medium",children:"Account activated successfully! Redirecting to login..."})]})}),c&&u.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(As,{className:"text-green-600 flex-shrink-0",size:20}),u.jsx("p",{className:"text-green-700 text-sm font-medium",children:"Activation email sent! Please check your inbox (including spam folder) and click the verification link."})]})}),f&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[u.jsx(Ed,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),u.jsx("p",{className:"text-red-700 text-sm font-medium",children:f})]}),c&&u.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:u.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:u.jsx("strong",{children:" Don't forget to check your spam/junk folder!"})})}),!g&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-dark mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(rg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray",size:18}),u.jsx("input",{type:"email",id:"email",name:"email",value:n,onChange:k=>r(k.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-dark mb-2",children:"Password"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"password",id:"password",name:"password",value:s,onChange:k=>i(k.target.value),placeholder:"Enter your password",className:"w-full pl-4 pr-4 py-3 border border-gray/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent",required:!0})}),u.jsx("p",{className:"text-xs text-gray mt-1",children:"Enter your password to send the activation email"})]}),u.jsx("button",{type:"button",onClick:b,disabled:o||!n||!s,className:"w-full inline-flex items-center justify-center gap-2 px-6 py-4 bg-accent text-white font-semibold rounded-xl shadow-um6p hover:bg-accent/90 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),u.jsx("span",{children:"Sending activation email..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(em,{size:18}),u.jsx("span",{children:"Activate Your Account"})]})})]}),c&&u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[u.jsx("p",{className:"text-blue-800 text-sm font-medium mb-2",children:" What to do next:"}),u.jsxs("ul",{className:"text-blue-700 text-sm space-y-2 list-disc list-inside",children:[u.jsx("li",{children:"Check your email inbox for the activation email"}),u.jsx("li",{children:u.jsx("strong",{children:"Check your spam/junk folder if you don't see it"})}),u.jsx("li",{children:"Click the verification link in the email"}),u.jsx("li",{children:"Once verified, you can sign in to your account"}),u.jsx("li",{children:"Emails may take 1-2 minutes to arrive"})]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray",children:["Already activated?"," ",u.jsx(Ze,{to:"/login",className:"text-accent font-semibold hover:underline",children:"Sign in"})]})})]})})})}function rD(){return u.jsx("div",{className:"min-h-screen bg-cream flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"font-mont font-extrabold text-5xl",children:"404"}),u.jsx("p",{className:"mt-2 text-text/80",children:"Page not found."}),u.jsx(Ze,{to:"/",className:"inline-block mt-6 px-5 py-3 rounded-xl bg-accent text-white font-semibold shadow-soft",children:"Go Home"})]})})}const sD=Ek([{path:"/",element:u.jsx(Vj,{}),children:[{index:!0,element:u.jsx(Uj,{})},{path:"about",element:u.jsx(zj,{})},{path:"organization",element:u.jsx(Bj,{})},{path:"how-it-works",element:u.jsx(qj,{})},{path:"team",element:u.jsx(Hj,{})},{path:"login",element:u.jsx(Wj,{})},{path:"signup",element:u.jsx(Qj,{})},{path:"activate-account",element:u.jsx(nD,{})},{path:"verify-email",element:u.jsx(Yj,{})},{path:"request-help",element:u.jsx(B_,{})},{path:"edit-request/:id",element:u.jsx(B_,{})},{path:"requests",element:u.jsx(Jj,{})},{path:"my-requests",element:u.jsx(eD,{})},{path:"verify-email-callback",element:u.jsx(tD,{})}],errorElement:u.jsx(rD,{})}]);sx(document.getElementById("root")).render(u.jsx(t0.StrictMode,{children:u.jsx(Rk,{router:sD})}));
